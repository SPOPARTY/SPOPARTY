import O from"./EditBoard-BzRmpG6r.js";import{u as $}from"./TextEditor-0PeRoz14.js";import{f as q}from"./tools-kf-cGsju.js";import{_ as z,r as x,b as l,o as n,i as E,f as t,e,g as a,t as b,d as i,k as g,s as d,h as M,F as A}from"./index-w_VBQHr5.js";const G=["src"],J=["innerHTML"],K={__name:"BoardDetail",props:{post:Object},emits:["detail-close","delete-post"],setup(_,{emit:T}){const N=$(),V=localStorage.getItem("id"),c=x(!0),o=_,C=T,f=x(!1);function S(){f.value=!0,c.value=!1}function I(v){v&&(o.post=v),f.value=!1,c.value=!0,p()}const u=x(!1),U=()=>{u.value=!0};function F(){N.deleteBoard(o.post.id,o.post.club_id),C("delete-post",o.post.id),p(),u.value=!1}function p(){c.value=!1,C("detail-close")}return(v,s)=>{const y=l("v-card-title"),H=l("v-card-subtitle"),k=l("v-card-text"),L=l("v-img"),j=l("v-card-item"),B=l("v-spacer"),m=l("v-btn"),h=l("v-card-actions"),w=l("v-card"),D=l("v-dialog");return n(),E(A,null,[t(D,{modelValue:c.value,"onUpdate:modelValue":s[2]||(s[2]=r=>c.value=r),"max-width":"600px","max-height":"600px","onClick:outside":p,persistent:""},{default:e(()=>[t(w,{class:"board-detail"},{default:e(()=>[t(y,{class:"text-center"},{default:e(()=>[a(b(o.post.title),1)]),_:1}),t(H,{class:"text-right"},{default:e(()=>[a(b(o.post.member.nickname),1)]),_:1}),_.post.file?(n(),i(k,{key:0},{default:e(()=>[a(b(g(q)(_.post.file.updatedTime)),1)]),_:1})):d("",!0),o.post.file?(n(),i(j,{key:1},{default:e(()=>[o.post.file.type=="image"?(n(),i(L,{key:0,src:o.post.file.url,class:"img",cover:"",width:"100%"},null,8,["src"])):d("",!0),o.post.file.type=="video"?(n(),E("video",{key:1,src:o.post.file.url,controls:"",type:"video/mp4",cover:"",width:"100%"},null,8,G)):d("",!0)]),_:1})):d("",!0),t(k,null,{default:e(()=>[M("div",null,[M("div",{innerHTML:o.post.content},null,8,J)])]),_:1}),t(h,null,{default:e(()=>[t(B),g(V)==o.post.member.id?(n(),i(m,{key:0,color:"success",onClick:S},{default:e(()=>[a("수정하기")]),_:1})):d("",!0),g(V)==o.post.member.id?(n(),i(m,{key:1,color:"error",onClick:U},{default:e(()=>[a("삭제하기")]),_:1})):d("",!0),t(m,{color:"red",onClick:p},{default:e(()=>[a("닫기")]),_:1})]),_:1}),t(D,{modelValue:u.value,"onUpdate:modelValue":s[1]||(s[1]=r=>u.value=r),persistent:"","max-width":"500px"},{default:e(()=>[t(w,null,{default:e(()=>[t(y,{class:"text-h5"},{default:e(()=>[a("게시글 삭제")]),_:1}),t(k,null,{default:e(()=>[a("정말로 이 게시글을 삭제하시겠습니까?")]),_:1}),t(h,null,{default:e(()=>[t(B),t(m,{color:"blue darken-1",text:"",onClick:s[0]||(s[0]=r=>u.value=!1)},{default:e(()=>[a("취소")]),_:1}),t(m,{color:"red darken-1",text:"",onClick:F},{default:e(()=>[a("삭제")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1},8,["modelValue"]),f.value?(n(),i(O,{key:0,detail:_.post,onEditClose:s[3]||(s[3]=r=>I(r))},null,8,["detail"])):d("",!0)],64)}}},X=z(K,[["__scopeId","data-v-32e90c5e"]]);export{X as B};
