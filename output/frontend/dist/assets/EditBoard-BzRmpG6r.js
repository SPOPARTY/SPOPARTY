import{u as P,_ as T}from"./TextEditor-0PeRoz14.js";import{_ as $,r,d as j,e as t,b as d,o as y,f as e,g as s,z,A as M,h as O}from"./index-w_VBQHr5.js";const R=u=>(z("data-v-64424da9"),u=u(),M(),u),h=R(()=>O("h1",null,"게시글 수정",-1)),q={__name:"EditBoard",props:{detail:Object},emits:["edit-close"],setup(u,{emit:I}){localStorage.getItem("id");const S=P(),p=r(!0),n=u,V=I,w=[o=>!!o||"제목을 필수입니다!",o=>o&&o.length<=40||"제목은 40자 이하로 작성해주세요"],x=n.detail.id,U=n.detail.clubId,_=r(n.detail.title),f=r(n.detail.content),m=r(n.detail.file&&n.detail.file.url?[n.detail.file.url]:[]),i=r(!1);function A(){i.value=!0}const D=()=>{const o=new FormData;o.append("id",x),o.append("title",_.value),o.append("content",f.value),o.append("file",m.value[0]);for(let[b,c]of o.entries());S.updateBoard(o);const l={id:x,clubId:U,title:_.value,content:f.value,file:m.value[0]};V("edit-close",l),i.value=!1,p.value=!1},E=()=>{p.value=!1,V("edit-close")};return(o,l)=>{const b=d("v-text-field"),c=d("v-card-text"),N=d("v-file-input"),g=d("v-spacer"),v=d("v-btn"),C=d("v-card-actions"),F=d("v-card-title"),k=d("v-card"),B=d("v-dialog");return y(),j(B,{class:"edit-dialog",modelValue:p.value,"onUpdate:modelValue":l[5]||(l[5]=a=>p.value=a),width:"1000px",height:"1000px",persistent:""},{default:t(()=>[e(k,{class:"dialog-card"},{default:t(()=>[h,e(c,null,{default:t(()=>[e(b,{modelValue:_.value,"onUpdate:modelValue":l[0]||(l[0]=a=>_.value=a),rules:w,outlined:"",class:"title"},null,8,["modelValue"])]),_:1}),e(c,null,{default:t(()=>[e(T,{modelValue:f.value,"onUpdate:modelValue":l[1]||(l[1]=a=>f.value=a)},null,8,["modelValue"])]),_:1}),e(c,{class:"file-input-container"},{default:t(()=>[e(N,{accept:"image/*",label:"파일을 첨부해주세요",modelValue:m.value,"onUpdate:modelValue":l[2]||(l[2]=a=>m.value=a),class:"file-input"},null,8,["modelValue"])]),_:1}),e(C,null,{default:t(()=>[e(g),e(v,{color:"#D3AC2B",onClick:A},{default:t(()=>[s("수정완료")]),_:1}),e(v,{color:"#D3AC2B",onClick:E},{default:t(()=>[s("취소")]),_:1})]),_:1}),e(B,{modelValue:i.value,"onUpdate:modelValue":l[4]||(l[4]=a=>i.value=a),persistent:"","max-width":"500px"},{default:t(()=>[e(k,null,{default:t(()=>[e(F,null,{default:t(()=>[s("게시글 수정")]),_:1}),e(c,null,{default:t(()=>[s("이 게시글을 수정하시겠습니까?")]),_:1}),e(C,null,{default:t(()=>[e(g),e(v,{color:"green darken-1",text:"",onClick:D},{default:t(()=>[s("예")]),_:1}),e(v,{color:"blue darken-1",text:"",onClick:l[3]||(l[3]=a=>i.value=!1)},{default:t(()=>[s("아니오")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1},8,["modelValue"])}}},J=$(q,[["__scopeId","data-v-64424da9"]]);export{J as default};
