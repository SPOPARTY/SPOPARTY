import{J as b,K as g,u as N,j as v,r as $,B as i}from"./index-w_VBQHr5.js";const l="party",p=b();async function R(t,r,s,u){p.get(`clubs/${t}/${l}/${r}`).then(s).catch(u)}async function S(t,r,s){p.post(`clubs/${t}/${l}`).then(r).catch(s)}function q(t,r,s,u,d){p.put(`clubs/${t}/${l}/${r}`,s).then(u).catch(d)}function D(t,r,s,u){p.delete(`clubs/${t}/${l}/${r}`).then(s).catch(u)}async function M(t,r,s,u){p.get(`clubs/${t}/${l}/${r}/participants`).then(s).catch(u)}async function T(t,r,s,u){p.post(`clubs/${t}/${l}/${r}/participants`).then(s).catch(u)}async function U(t,r,s,u,d){p.get(`clubs/${t}/${l}/${r}/participants/${s}`).then(u).catch(d)}function I(t,r,s,u,d){p.delete(`clubs/${t}/${l}/${r}/participants/${s}`).then(u).catch(d)}function F(t,r,s,u){p.post(`clubs/${t}/${l}/recording/start`,r).then(s).catch(u)}function K(t,r,s,u){p.post(`clubs/${t}/${l}/recording/stop`,r).then(s).catch(u)}const G=g("party",()=>{N(),v();const t=$([]),r=$({}),s=$([]),u=$(null),d=(n,o)=>new Promise((c,e)=>{R(n,o,a=>{a.status===i.OK&&(t.value=a.data.data,c(a.data.data))},a=>{a.response.status===i.NOTFOUND&&(console.error(a),t.value=[]),e(a)})}),O=n=>new Promise((o,c)=>{S(n,e=>{e.status===i.CREATE&&(t.value=e.data.data,o(e.data.data))},e=>{e.response.status===i.NOTFOUND&&console.error(e),c(e)})}),h=(n,o,c,e,a)=>{const f={memberId:localStorage.getItem("id"),title:c,fixtureUrl:e,fixtureId:a};q(n,o,f,P=>{if(P.status===i.OK)return t.value=P.data.data,t.value},P=>{P.response.status===i.NOTFOUND&&console.error(P)})},m=(n,o)=>{D(n,o,c=>{if(c.status===i.OK)return t.value=[],t.value},c=>{c.response.status===i.NOTFOUND&&console.error(c)})},y=(n,o)=>new Promise((c,e)=>{M(n,o,a=>{a.status===i.OK&&(s.value=a.data.data,c(a.data.data))},a=>{a.response.status===i.NOTFOUND&&console.error(a),e(a)})});return{partyInfo:t,openViduSession:r,partyMemberList:s,myParticipantId:u,getPartyInfo:d,postPartyInfo:O,putPartyInfo:h,deletePartyInfo:m,getPartyMemberList:y,postPartyMember:(n,o)=>new Promise((c,e)=>{T(n,o,a=>{a.status===i.CREATE&&(d(n,o),y(n,o),u.value=a.data.data.participantId,c(a.data.data))},a=>{a.response.status===i.NOTFOUND&&console.error(a),e(a)})}),getPartyParticipant:(n,o,c)=>new Promise((e,a)=>{U(n,o,c,f=>{f.status===i.OK&&(s.value=f.data.data,e(f.data.data))},f=>{f.response.status===i.NOTFOUND&&console.error(f),a(f)})}),deletePartyMember:(n,o,c)=>{I(n,o,c,e=>{if(e.status===i.OK)return s.value=e.data.data,t.value=d(n,o),s.value},e=>{e.response.status===i.NOTFOUND&&console.error(e)})},postStartRecording:(n,o,c,e)=>{F(n,o,c,e)},postStopRecording:(n,o,c,e)=>{K(n,o,c,e)}}});export{G as u};
