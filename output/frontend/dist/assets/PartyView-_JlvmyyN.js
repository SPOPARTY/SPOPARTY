import{_ as Ie,a as cr,r as G,w as HA,b as J,o as Y,d as cA,e as F,i as uA,f as S,h as q,g as AA,t as aA,F as jA,l as ce,z as xt,A as Tt,c as cu,s as $A,n as Ut,k as Be,p as zr,Q as lu,W as Qi,j as Pi,u as uu,E as xh,G as du,q as Th,X as Hh,K as fu,B as ke,J as hu,Y as Lh,Z as mi,$ as Rh,R as Dh,a0 as tc,a1 as rc,a2 as nc,a3 as kh}from"./index-w_VBQHr5.js";import{T as ic}from"./TeamInfoMembers-JBdUaktU.js";import{u as Nh}from"./party-6cCvqDIs.js";import{u as Mh}from"./archives-FApP3BGQ.js";const ha=t=>(xt("data-v-3ace1ed8"),t=t(),Tt(),t),Ph=ha(()=>q("p",{class:"table-title"},"양 팀 경기 이력",-1)),Vh={key:0,class:"alert-msg"},Kh={class:"team-title text-center"},Gh={class:"text-center"},$h={class:"mb-6 title-time"},Wh={class:"round"},Xh=ha(()=>q("span",{class:"vs"},"VS",-1)),jh={class:"team-title text-center"},Jh={class:"text-center"},Yh={class:"mb-6 title-time"},qh={class:"round"},Zh=ha(()=>q("span",{class:"vs"},"VS",-1)),zh={__name:"PartyMatchHistory",setup(t){const A=cr(),{matchWatchable:e,getMatchHistory:r}=A,n=G(e),i=G(null),o=G(null),s=G(null),a=G(null),c=G(null),l=G(null);HA(()=>A.fixtureIdForParty,E=>{l.value=E,l.value&&(i.value=n.value.find(C=>C.fixtureId===l.value),r(i.value.homeTeam.nameKr,"home"),r(i.value.awayTeam.nameKr,"away"),a.value=i.value.homeTeam.nameKr,c.value=i.value.awayTeam.nameKr)},{immediate:!0}),HA(()=>A.matchHistory,E=>{o.value=E.home.sort((C,I)=>new Date(I.startTime)-new Date(C.startTime)),s.value=E.away.sort((C,I)=>new Date(I.startTime)-new Date(C.startTime))},{immediate:!0,deep:!0});function u(E){return new Date(E).toLocaleString()}const f=E=>{router.push(`/team/${E}`)};return(E,C)=>{const I=J("v-icon"),y=J("v-img"),p=J("v-col"),U=J("v-row"),O=J("v-card"),B=J("v-container");return Y(),cA(B,{fluid:"",class:"vc"},{default:F(()=>[Ph,l.value==null?(Y(),uA("p",Vh,"경기를 선택해주세요.")):(Y(),cA(U,{key:1},{default:F(()=>[S(p,{cols:"6"},{default:F(()=>[q("p",Kh,[AA(" Home "),S(I,{color:"red"},{default:F(()=>[AA("mdi-circle-small")]),_:1}),AA(" "+aA(a.value),1)]),(Y(!0),uA(jA,null,ce(o.value,b=>(Y(),cA(O,{class:"pa-3 mb-6 match-card",key:b.id,variant:"outlined"},{default:F(()=>[q("div",Gh,[q("p",$h,aA(u(b.startTime)),1),S(U,{class:"league-round-details"},{default:F(()=>[S(p,{cols:"auto",align:"center",class:"pa-1 mx-4"},{default:F(()=>[S(y,{src:b.league.logo,class:"league-logo"},null,8,["src"])]),_:2},1024),S(p,{cols:"auto"},{default:F(()=>[q("span",Wh,aA(b.round),1)]),_:2},1024)]),_:2},1024),S(U,{class:"team-vs-team"},{default:F(()=>[S(p,{cols:"3",class:"team-name",onClick:Q=>f(b.homeTeam.seasonLeagueTeamId)},{default:F(()=>[q("h3",null,aA(b.homeTeam.nameKr),1)]),_:2},1032,["onClick"]),S(p,{cols:"2",align:"center"},{default:F(()=>[S(y,{src:b.homeTeam.logo,class:"team-logo team-name",onClick:Q=>f(b.homeTeam.seasonLeagueTeamId)},null,8,["src","onClick"])]),_:2},1024),S(p,{cols:"1",class:"pa-0"},{default:F(()=>[Xh]),_:1}),S(p,{cols:"2",align:"center"},{default:F(()=>[S(y,{src:b.awayTeam.logo,class:"team-logo team-name",onClick:Q=>f(b.awayTeam.seasonLeagueTeamId)},null,8,["src","onClick"])]),_:2},1024),S(p,{cols:"3",class:"team-name",onClick:Q=>f(b.awayTeam.seasonLeagueTeamId)},{default:F(()=>[q("h3",null,aA(b.awayTeam.nameKr),1)]),_:2},1032,["onClick"])]),_:2},1024)])]),_:2},1024))),128))]),_:1}),S(p,{cols:"6"},{default:F(()=>[q("p",jh,[AA(" Away "),S(I,{color:"red"},{default:F(()=>[AA("mdi-circle-small")]),_:1}),AA(" "+aA(c.value),1)]),(Y(!0),uA(jA,null,ce(s.value,b=>(Y(),cA(O,{class:"pa-3 mb-6 match-card",key:b.id,variant:"outlined"},{default:F(()=>[q("div",Jh,[q("p",Yh,aA(u(b.startTime)),1),S(U,{class:"league-round-details"},{default:F(()=>[S(p,{cols:"auto",align:"center",class:"pa-1 mx-4"},{default:F(()=>[S(y,{src:b.league.logo,class:"league-logo"},null,8,["src"])]),_:2},1024),S(p,{cols:"auto"},{default:F(()=>[q("span",qh,aA(b.round),1)]),_:2},1024)]),_:2},1024),S(U,{class:"team-vs-team"},{default:F(()=>[S(p,{cols:"3",class:"team-name",onClick:Q=>f(b.homeTeam.seasonLeagueTeamId)},{default:F(()=>[q("h3",null,aA(b.homeTeam.nameKr),1)]),_:2},1032,["onClick"]),S(p,{cols:"2",align:"center"},{default:F(()=>[S(y,{src:b.homeTeam.logo,class:"team-logo team-name",onClick:Q=>f(b.homeTeam.seasonLeagueTeamId)},null,8,["src","onClick"])]),_:2},1024),S(p,{cols:"1",class:"pa-0"},{default:F(()=>[Zh]),_:1}),S(p,{cols:"2",align:"center"},{default:F(()=>[S(y,{src:b.awayTeam.logo,class:"team-logo team-name",onClick:Q=>f(b.awayTeam.seasonLeagueTeamId)},null,8,["src","onClick"])]),_:2},1024),S(p,{cols:"3",class:"team-name",onClick:Q=>f(b.awayTeam.seasonLeagueTeamId)},{default:F(()=>[q("h3",null,aA(b.awayTeam.nameKr),1)]),_:2},1032,["onClick"])]),_:2},1024)])]),_:2},1024))),128))]),_:1})]),_:1}))]),_:1})}}},Ap=Ie(zh,[["__scopeId","data-v-3ace1ed8"]]),pu=t=>(xt("data-v-66d16cbb"),t=t(),Tt(),t),ep=pu(()=>q("p",{class:"table-title"},"실시간 정보",-1)),tp={key:0,class:"alert-msg"},rp=pu(()=>q("thead",null,[q("tr",null,[q("th",{class:"text-center"},"시간"),q("th",{class:"text-center"},"팀"),q("th",{class:"text-center"},"선수"),q("th",{class:"text-center"},"어시스트"),q("th",{class:"text-center"},"상세")])],-1)),np={class:"text-center time"},ip={class:"text-center"},op=["src"],sp={class:"text-center"},ap={class:"text-center"},cp={key:0},lp={key:1},up={class:"text-center"},dp={key:2,class:"alert-msg"},fp={__name:"PartyRealTimeInfo",setup(t){const A=cr(),{getMatchRealTimeData:e}=A,r=G(null),n=G({home:null,homeName:null,away:null,awayName:null}),i=G({});HA(()=>A.fixtureIdForParty,async c=>{r.value=c,c!==null&&await e(c),A.findTeamIdsByFixtureId(c)},{immediate:!0,deep:!0}),HA(()=>A.matchRealTimeData,c=>{i.value=c},{immediate:!0,deep:!0}),HA(()=>A.teamIdsForParty,c=>{n.value=c},{immediate:!0,deep:!0});const o=cu(()=>{var c;return(c=i.value)==null?void 0:c.sort((l,u)=>u.time-l.time)}),s=c=>{if(c==="goal")return"골";if(c==="Card")return"경고";if(c==="subst")return"교체"},a=c=>{if(c===n.value.homeName)return"home";if(c===n.value.awayName)return"away"};return(c,l)=>{const u=J("v-icon"),f=J("v-table"),E=J("v-container");return Y(),cA(E,{fluid:"",class:"vc"},{default:F(()=>[ep,r.value==null?(Y(),uA("p",tp,"경기를 선택해주세요.")):$A("",!0),r.value!=null&&o.value&&o.value.length>0?(Y(),cA(f,{key:1},{default:F(()=>[rp,q("tbody",null,[(Y(!0),uA(jA,null,ce(o.value,(C,I)=>(Y(),uA("tr",{key:I},[q("td",np,aA(C.time)+"'",1),q("td",ip,[q("img",{src:C.team.logo,class:"mx-3",alt:"logo",style:{height:"30px"}},null,8,op),q("span",{class:Ut([{"text-red":a(C.team.nameKr)=="home","text-blue":a(C.team.nameKr)=="away"},"team-name"])},aA(C.team.nameKr),3)]),q("td",sp,aA(C.playerName),1),q("td",ap,[C.assistName?(Y(),uA("div",cp,aA(C.assistName),1)):(Y(),uA("div",lp,[S(u,null,{default:F(()=>[AA("mdi-close")]),_:1})]))]),q("td",up,aA(s(C.type))+" : "+aA(C.detail),1)]))),128))])]),_:1})):(Y(),uA("p",dp,"데이터가 없습니다."))]),_:1})}}},hp=Ie(fp,[["__scopeId","data-v-66d16cbb"]]),pp=t=>(xt("data-v-4de29f5f"),t=t(),Tt(),t),gp=pp(()=>q("p",{class:"table-title"},"선수 목록",-1)),Bp={key:0,class:"alert-msg"},vp={class:"team-name text-center"},mp={class:"team-name text-center"},wp={__name:"PartyTeamPlayers",setup(t){const A=cr(),e=G(null),r=A.teamIdsForParty;return HA(()=>A.fixtureIdForParty,n=>{e.value=n,n!==null&&(r.value={...A.findTeamIdsByFixtureId(n)})},{immediate:!0,deep:!0}),(n,i)=>{const o=J("v-icon"),s=J("v-col"),a=J("v-row"),c=J("v-container");return Y(),cA(c,{fluid:"",class:"vc"},{default:F(()=>[gp,e.value==null?(Y(),uA("p",Bp,"경기를 선택해주세요.")):$A("",!0),e.value!=null?(Y(),cA(a,{key:1},{default:F(()=>[S(s,{cols:"6"},{default:F(()=>[q("p",vp,[AA(" Home "),S(o,{color:"red"},{default:F(()=>[AA("mdi-circle-small")]),_:1}),AA(" "+aA(Be(r).homeName),1)]),(Y(),cA(ic,{key:"home-"+Be(r).home,"team-id":Be(r).home},null,8,["team-id"]))]),_:1}),S(s,{cols:"6"},{default:F(()=>[q("p",mp,[AA(" Away "),S(o,{color:"red"},{default:F(()=>[AA("mdi-circle-small")]),_:1}),AA(" "+aA(Be(r).awayName),1)]),(Y(),cA(ic,{key:"away-"+Be(r).away,"team-id":Be(r).away},null,8,["team-id"]))]),_:1})]),_:1})):$A("",!0)]),_:1})}}},Cp=Ie(wp,[["__scopeId","data-v-4de29f5f"]]),Ep=t=>(xt("data-v-dca75106"),t=t(),Tt(),t),yp={key:0,class:"mb-6 alert-msg"},bp={class:"d-flex flex-column justify-center align-center",style:{height:"100%"}},Qp={class:"match-info"},Up={class:"match-details"},Fp={class:"vote-message"},Sp={class:"d-flex justify-center align-center pb-12"},Ip={class:"wrapper pb-1"},_p=Ep(()=>q("span",{class:"VS"},"VS",-1)),Op={class:"wrapper pb-1"},xp={__name:"PartyCheer",setup(t){const A=cr(),{getCheerData:e,postCheersData:r}=A,n=G(null),i=G(null);HA(()=>A.fixtureIdForParty,y=>{n.value=y,y!==null&&e(y)},{immediate:!0,deep:!0}),HA(()=>A.oneCheerData,y=>{i.value=y},{immediate:!0,deep:!0}),n.value!==null&&e(n.value);const o=G(localStorage.getItem("accessToken")!==null),s=G(localStorage.getItem("id")),a=(y,p)=>{r(y,p),setTimeout(()=>{e(y.fixtureId)},100)},c=G(0);function l(y){return new Date(y).toLocaleString()}function u(y,p){if(y.alreadyCheer==="true")return;if(o.value===!1||s===null){alert("로그인이 필요한 서비스입니다.");return}const U=y.cheerFixtureId,O=p==="home"?y.fixture.homeTeam.teamId:y.fixture.awayTeam.teamId,B=y.fixture.fixtureId,b={memberId:s.value,teamId:O,cheerFixtureId:U,fixtureId:B};a(b)}const f=G(0),E=G(0),C=(y,p)=>{const U=y.homeCount+y.awayCount,O=(y.homeCount/U*100).toFixed(0),B=100-O;return U===0?0:p==="home"?O:B};zr(()=>{const y=setInterval(()=>{if(i.value!=null&&i.value.length>0){const p=i.value[c.value];p&&p.alreadyCheer&&I(p),clearInterval(y)}},1e3)}),HA(c,async y=>{await lu();const p=i.value[y];p&&p.alreadyCheer&&I(p)},{immediate:!0,deep:!0});function I(y){f.value=0,E.value=0,setTimeout(()=>{f.value=C(y,"home"),E.value=C(y,"away")},200)}return(y,p)=>{const U=J("v-icon"),O=J("v-img"),B=J("v-tooltip"),b=J("v-card-title"),Q=J("v-card-text"),R=J("v-card"),g=J("v-carousel-item"),T=J("v-carousel"),V=J("v-card-subtitle"),M=J("v-col"),k=J("v-row"),d=J("v-container");return n.value==null?(Y(),uA("p",yp,"경기를 선택해주세요.")):(Y(),cA(d,{key:1,fluid:"",class:"pa-4 fill-height part-section"},{default:F(()=>[S(k,{justify:"center"},{default:F(()=>[S(M,{cols:"12",class:"d-flex flex-column align-center justify-center"},{default:F(()=>[i.value?(Y(),cA(T,{key:0,modelValue:c.value,"onUpdate:modelValue":p[0]||(p[0]=v=>c.value=v),class:"carousel","show-arrows":!1,height:"500px","hide-delimiters":"","hide-delimiter-background":""},{default:F(()=>[(Y(!0),uA(jA,null,ce(i.value,(v,L)=>(Y(),cA(g,{key:v.cheerFixtureId},{default:F(()=>[q("div",bp,[q("div",Qp,[q("p",Up,[AA(aA(l(v.fixture.startTime))+" ",1),S(U,null,{default:F(()=>[AA("mdi-circle-small")]),_:1}),AA(" "+aA(v.fixture.league.nameKr)+" ",1),S(U,null,{default:F(()=>[AA("mdi-circle-small")]),_:1}),S(O,{src:v.fixture.league.logo,class:"league-logo"},null,8,["src"])])]),q("div",Fp,[q("h1",null,aA(v.alreadyCheer?"이미 투표하셨습니다":"팀을 선택해주세요!"),1)]),q("div",Sp,[q("div",Ip,[v.alreadyCheer?(Y(),uA("div",{key:0,class:Ut([{barWin:C(v,"home")>50,barLose:C(v,"home")<50,barSame:C(v,"home")==50},"bar"]),style:Qi({height:f.value*2.5+"px"})},null,6)):$A("",!0)]),S(R,{disabled:v.alreadyCheer,class:Ut(["team-card text-center",{notDisabled:!(v.alreadyCheer||v.fixture.status=="Match Finished")}]),onClick:()=>u(v,"home")},{default:F(()=>[S(B,{location:"top",activator:"parent"},{default:F(()=>[AA("홈 팀을 선택하시겠습니까?")]),_:1}),S(O,{src:v.fixture.homeTeam.logo,class:"team-logo"},null,8,["src"]),S(b,{class:Ut({chosen:v.cheerTeamId==v.fixture.homeTeam.seasonLeagueTeamId})},{default:F(()=>[AA(aA(v.fixture.homeTeam.nameKr),1)]),_:2},1032,["class"]),v.alreadyCheer?(Y(),cA(Q,{key:0},{default:F(()=>[q("p",null,"득표 : "+aA(C(v,"home"))+"%",1)]),_:2},1024)):$A("",!0)]),_:2},1032,["disabled","onClick","class"]),_p,S(R,{disabled:v.alreadyCheer,class:Ut(["team-card text-center",{notDisabled:!(v.alreadyCheer||v.fixture.status=="Match Finished")}]),onClick:()=>u(v,"away")},{default:F(()=>[S(B,{location:"top",activator:"parent"},{default:F(()=>[AA("어웨이 팀을 선택하시겠습니까?")]),_:1}),S(O,{src:v.fixture.awayTeam.logo,class:"team-logo"},null,8,["src"]),S(b,{class:Ut({chosen:v.cheerTeamId==v.fixture.awayTeam.seasonLeagueTeamId})},{default:F(()=>[AA(aA(v.fixture.awayTeam.nameKr),1)]),_:2},1032,["class"]),v.alreadyCheer?(Y(),cA(Q,{key:0},{default:F(()=>[q("p",null,"득표 : "+aA(C(v,"away"))+"%",1)]),_:2},1024)):$A("",!0)]),_:2},1032,["disabled","onClick","class"]),q("div",Op,[v.alreadyCheer?(Y(),uA("div",{key:0,class:Ut([{barWin:C(v,"away")>50,barLose:C(v,"away")<50,barSame:C(v,"away")==50},"bar"]),style:Qi({height:E.value*2.5+"px"})},null,6)):$A("",!0)])])])]),_:2},1024))),128))]),_:1},8,["modelValue"])):(Y(),cA(R,{key:1,class:"card-else",title:"경기 응원 데이터가 없습니다."},{default:F(()=>[n.value?(Y(),cA(V,{key:0},{default:F(()=>[AA("해당 경기에는 응원 투표가 없습니다.")]),_:1})):(Y(),cA(V,{key:1},{default:F(()=>[AA("경기를 선택해주세요.")]),_:1}))]),_:1}))]),_:1})]),_:1})]),_:1}))}}},Tp=Ie(xp,[["__scopeId","data-v-dca75106"]]),Hp={key:0},Lp={__name:"PartyMatch",setup(t){const A=cr(),e=G(null);HA(()=>A.fixtureIdForParty,s=>{e.value=s},{immediate:!0});const r=G(null),n=G(!1),i=G([!1,"새로고침 중..."]),o=()=>{n.value=!0,i.value[0]=!0;const s=e.value;A.fixtureIdForParty=null,setTimeout(()=>(n.value=!1,i.value[0]=!1,A.fixtureIdForParty=s),2e3)};return(s,a)=>{const c=J("v-tab"),l=J("v-spacer"),u=J("v-tooltip"),f=J("v-icon"),E=J("v-btn"),C=J("v-tabs"),I=J("v-window-item"),y=J("v-window"),p=J("v-card-text"),U=J("v-card"),O=J("v-container");return Y(),cA(O,{fluid:"",class:"pa-1"},{default:F(()=>[S(U,null,{default:F(()=>[S(C,{modelValue:r.value,"onUpdate:modelValue":a[0]||(a[0]=B=>r.value=B),"bg-color":"#CBD0D8","show-arrows":"","slider-color":"primary",class:"tabs"},{default:F(()=>[S(c,{value:"one"},{default:F(()=>[AA("실시간 정보")]),_:1}),S(c,{value:"two"},{default:F(()=>[AA("경기 내역")]),_:1}),S(c,{value:"three"},{default:F(()=>[AA("팀 플레이어들")]),_:1}),S(c,{value:"four"},{default:F(()=>[AA("응원하기")]),_:1}),S(l),S(E,{loading:n.value,icon:"",onClick:o,variant:"text",class:"loading-btn"},{default:F(()=>[S(u,{activator:"parent",location:"top",theme:"dark"},{default:F(()=>[AA("새로고침")]),_:1}),S(f,null,{default:F(()=>[AA("mdi-refresh")]),_:1})]),_:1},8,["loading"])]),_:1},8,["modelValue"]),S(p,null,{default:F(()=>[S(y,{modelValue:r.value,"onUpdate:modelValue":a[1]||(a[1]=B=>r.value=B)},{default:F(()=>[i.value[0]?(Y(),uA("h1",Hp,aA(i.value[1]),1)):$A("",!0),S(I,{value:"one"},{default:F(()=>[S(hp)]),_:1}),S(I,{value:"two"},{default:F(()=>[S(Ap)]),_:1}),S(I,{value:"three"},{default:F(()=>[S(Cp)]),_:1}),S(I,{value:"four"},{default:F(()=>[S(Tp)]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1})}}},Rp=Ie(Lp,[["__scopeId","data-v-86df9a2e"]]);var D=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function gu(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Bu={exports:{}};(function(t,A){(function(e,r){t.exports=r()})(D,function(){var e=function(U,O){if(!(U instanceof O))throw new TypeError("Cannot call a class as a function")},r=function(){function U(O,B){for(var b=0;b<B.length;b++){var Q=B[b];Q.enumerable=Q.enumerable||!1,Q.configurable=!0,"value"in Q&&(Q.writable=!0),Object.defineProperty(O,Q.key,Q)}}return function(O,B,b){return B&&U(O.prototype,B),b&&U(O,b),O}}(),n=function(){function U(O,B){var b=[],Q=!0,R=!1,g=void 0;try{for(var T=O[Symbol.iterator](),V;!(Q=(V=T.next()).done)&&(b.push(V.value),!(B&&b.length===B));Q=!0);}catch(M){R=!0,g=M}finally{try{!Q&&T.return&&T.return()}finally{if(R)throw g}}return b}return function(O,B){if(Array.isArray(O))return O;if(Symbol.iterator in Object(O))return U(O,B);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),i=function(U){if(Array.isArray(U)){for(var O=0,B=Array(U.length);O<U.length;O++)B[O]=U[O];return B}else return Array.from(U)},o={V1_0:"1.0",V1_1:"1.1",V1_2:"1.2",supportedVersions:function(){return"1.2,1.1,1.0"},supportedProtocols:function(){return["v10.stomp","v11.stomp","v12.stomp"]}},s={"v10.stomp":o.V1_0,"v11.stomp":o.V1_1,"v12.stomp":o.V1_2};function a(U,O){var B=s[U];return!B&&O&&O("DEPRECATED: "+U+" is not a recognized STOMP version. In next major client version, this will close the connection."),B||o.V1_2}var c={LF:`
`,NULL:"\0"},l=function(O){return O.replace(/^\s+|\s+$/g,"")};function u(U){var O=encodeURIComponent(U),B=O.replace(/%([0-9A-F]{2})/g,function(Q,R){return String.fromCharCode("0x"+R)}),b=Array.prototype.map.call(B,function(Q){return Q.charCodeAt(0)});return new Uint8Array(b)}function f(U){var O=String.fromCharCode.apply(String,i(U)),B=O.replace(/(.)/g,function(b,Q){var R=Q.charCodeAt(0).toString(16).toUpperCase();return R.length<2&&(R="0"+R),"%"+R});return decodeURIComponent(B)}function E(U){return U?encodeURIComponent(U).match(/%..|./g).length:0}function C(){var U=new Date().getTime(),O=Math.floor(Math.random()*1e3);return U+"-"+O}var I=function(){function U(O){var B=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},b=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"";e(this,U),this.command=O,this.headers=B,this.body=b}return r(U,[{key:"toString",value:function(){var B=this,b=[this.command],Q=this.headers["content-length"]===!1;return Q&&delete this.headers["content-length"],Object.keys(this.headers).forEach(function(R){var g=B.headers[R];b.push(R+":"+g)}),this.body&&!Q&&b.push("content-length:"+E(this.body)),b.push(c.LF+this.body),b.join(c.LF)}}],[{key:"unmarshallSingle",value:function(B){var b=B.search(new RegExp(c.LF+c.LF)),Q=B.substring(0,b).split(c.LF),R=Q.shift(),g={},T="",V=b+2,M=!0,k=!1,d=void 0;try{for(var v=Q.reverse()[Symbol.iterator](),L;!(M=(L=v.next()).done);M=!0){var m=L.value,h=m.indexOf(":");g[l(m.substring(0,h))]=l(m.substring(h+1))}}catch(N){k=!0,d=N}finally{try{!M&&v.return&&v.return()}finally{if(k)throw d}}if(g["content-length"]){var w=parseInt(g["content-length"],10);T=(""+B).substring(V,V+w)}else for(var _=null,x=V;x<B.length&&(_=B.charAt(x),_!==c.NULL);x++)T+=_;return new U(R,g,T)}},{key:"unmarshall",value:function(B){var b=B.split(new RegExp(c.NULL+c.LF+"*")),Q=b.slice(0,-1),R=b.slice(-1)[0],g={frames:Q.map(function(T){return U.unmarshallSingle(T)}),partial:""};return R===c.LF||R.search(RegExp(c.NULL+c.LF+"*$"))!==-1?g.frames.push(U.unmarshallSingle(R)):g.partial=R,g}},{key:"marshall",value:function(B,b,Q){var R=new U(B,b,Q);return R.toString()+c.NULL}}]),U}(),y=function(){function U(O){var B=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};e(this,U);var b=B.binary,Q=b===void 0?!1:b,R=B.heartbeat,g=R===void 0?{outgoing:1e4,incoming:1e4}:R,T=B.debug,V=T===void 0?!0:T,M=B.protocols,k=M===void 0?[]:M;this.ws=O,this.ws.binaryType="arraybuffer",this.isBinary=!!Q,this.hasDebug=!!V,this.connected=!1,this.heartbeat=g||{outgoing:0,incoming:0},this.maxWebSocketFrameSize=16*1024,this.subscriptions={},this.partialData="",this.protocols=k}return r(U,[{key:"debug",value:function(){var B;this.hasDebug&&(B=console).log.apply(B,arguments)}},{key:"connect",value:function(){var B=this,b=this._parseConnect.apply(this,arguments),Q=n(b,3),R=Q[0],g=Q[1],T=Q[2];this.connectCallback=g,this.debug("Opening Web Socket..."),this.ws.onmessage=function(V){var M=V.data;if(V.data instanceof ArrayBuffer&&(M=f(new Uint8Array(V.data))),B.serverActivity=Date.now(),M===c.LF){B.debug("<<< PONG");return}B.debug("<<< "+M);var k=I.unmarshall(B.partialData+M);B.partialData=k.partial,k.frames.forEach(function(d){switch(d.command){case"CONNECTED":B.debug("connected to server "+d.headers.server),B.connected=!0,B.version=d.headers.version,B._setupHeartbeat(d.headers),g&&g(d);break;case"MESSAGE":var v=d.headers.subscription,L=B.subscriptions[v]||B.onreceive;if(L){var m=B.version===o.V1_2&&d.headers.ack||d.headers["message-id"];d.ack=B.ack.bind(B,m,v),d.nack=B.nack.bind(B,m,v),L(d)}else B.debug("Unhandled received MESSAGE: "+d);break;case"RECEIPT":B.onreceipt&&B.onreceipt(d);break;case"ERROR":T&&T(d);break;default:B.debug("Unhandled frame: "+d)}})},this.ws.onclose=function(V){B.debug("Whoops! Lost connection to "+B.ws.url+":",{event:V}),B._cleanUp(),T&&T(V)},this.ws.onopen=function(){B.debug("Web Socket Opened..."),R["accept-version"]=a(B.ws.protocol||B.protocols[0],B.debug.bind(B)),R["heart-beat"]||(R["heart-beat"]=[B.heartbeat.outgoing,B.heartbeat.incoming].join(",")),B._transmit("CONNECT",R)},this.ws.readyState===this.ws.OPEN&&this.ws.onopen()}},{key:"disconnect",value:function(B){var b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this._transmit("DISCONNECT",b),this.ws.onclose=null,this.ws.close(),this._cleanUp(),B&&B()}},{key:"send",value:function(B){var b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",Q=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},R=Object.assign({},Q);R.destination=B,this._transmit("SEND",R,b)}},{key:"begin",value:function(){var B=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"tx-"+C();return this._transmit("BEGIN",{transaction:B}),{id:B,commit:this.commit.bind(this,B),abort:this.abort.bind(this,B)}}},{key:"commit",value:function(B){this._transmit("COMMIT",{transaction:B})}},{key:"abort",value:function(B){this._transmit("ABORT",{transaction:B})}},{key:"ack",value:function(B,b){var Q=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},R=Object.assign({},Q),g=this.version===o.V1_2?"id":"message-id";R[g]=B,R.subscription=b,this._transmit("ACK",R)}},{key:"nack",value:function(B,b){var Q=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},R=Object.assign({},Q),g=this.version===o.V1_2?"id":"message-id";R[g]=B,R.subscription=b,this._transmit("NACK",R)}},{key:"subscribe",value:function(B,b){var Q=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},R=Object.assign({},Q);return R.id||(R.id="sub-"+C()),R.destination=B,this.subscriptions[R.id]=b,this._transmit("SUBSCRIBE",R),{id:R.id,unsubscribe:this.unsubscribe.bind(this,R.id)}}},{key:"unsubscribe",value:function(B){var b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Q=Object.assign({},b);delete this.subscriptions[B],Q.id=B,this._transmit("UNSUBSCRIBE",Q)}},{key:"_cleanUp",value:function(){this.connected=!1,clearInterval(this.pinger),clearInterval(this.ponger)}},{key:"_transmit",value:function(B,b,Q){var R=I.marshall(B,b,Q);this.debug(">>> "+R,{frame:{command:B,headers:b,body:Q}}),this._wsSend(R)}},{key:"_wsSend",value:function(B){for(this.isBinary&&(B=u(B)),this.debug(">>> length "+B.length);;)if(B.length>this.maxWebSocketFrameSize)this.ws.send(B.slice(0,this.maxWebSocketFrameSize)),B=B.slice(this.maxWebSocketFrameSize),this.debug("remaining = "+B.length);else return this.ws.send(B)}},{key:"_setupHeartbeat",value:function(B){var b=this;if(!(this.version!==o.V1_1&&this.version!==o.V1_2)){var Q=(B["heart-beat"]||"0,0").split(",").map(function(k){return parseInt(k,10)}),R=n(Q,2),g=R[0],T=R[1];if(!(this.heartbeat.outgoing===0||T===0)){var V=Math.max(this.heartbeat.outgoing,T);this.debug("send PING every "+V+"ms"),this.pinger=setInterval(function(){b._wsSend(c.LF),b.debug(">>> PING")},V)}if(!(this.heartbeat.incoming===0||g===0)){var M=Math.max(this.heartbeat.incoming,g);this.debug("check PONG every "+M+"ms"),this.ponger=setInterval(function(){var k=Date.now()-b.serverActivity;k>M*2&&(b.debug("did not receive server activity for the last "+k+"ms"),b.ws.close())},M)}}}},{key:"_parseConnect",value:function(){for(var B={},b=void 0,Q=void 0,R=arguments.length,g=Array(R),T=0;T<R;T++)g[T]=arguments[T];switch(g.length){case 2:B=g[0],b=g[1];break;case 3:g[1]instanceof Function?(B=g[0],b=g[1],Q=g[2]):(B.login=g[0],B.passcode=g[1],b=g[2]);break;case 4:B.login=g[0],B.passcode=g[1],b=g[2],Q=g[3];break;default:B.login=g[0],B.passcode=g[1],b=g[2],Q=g[3],B.host=g[4]}return[B,b,Q]}}]),U}(),p={Frame:I,VERSIONS:o,client:function(O){var B=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},b=new WebSocket(O,B.protocols||o.supportedProtocols());return new y(b,B)},over:function(){for(var O=arguments.length,B=Array(O),b=0;b<O;b++)B[b]=arguments[b];return new(Function.prototype.bind.apply(y,[null].concat(B)))}};return p})})(Bu);var Dp=Bu.exports;const vu=gu(Dp);var mu={exports:{}},Os={};D.crypto&&D.crypto.getRandomValues?Os.randomBytes=function(t){var A=new Uint8Array(t);return D.crypto.getRandomValues(A),A}:Os.randomBytes=function(t){for(var A=new Array(t),e=0;e<t;e++)A[e]=Math.floor(Math.random()*256);return A};var kp=Os,oc="abcdefghijklmnopqrstuvwxyz012345",lr={string:function(t){for(var A=oc.length,e=kp.randomBytes(t),r=[],n=0;n<t;n++)r.push(oc.substr(e[n]%A,1));return r.join("")},number:function(t){return Math.floor(Math.random()*t)},numberString:function(t){var A=(""+(t-1)).length,e=new Array(A+1).join("0");return(e+this.number(t)).slice(-A)}};(function(t){var A=lr,e={},r=!1,n=D.chrome&&D.chrome.app&&D.chrome.app.runtime;t.exports={attachEvent:function(o,s){typeof D.addEventListener<"u"?D.addEventListener(o,s,!1):D.document&&D.attachEvent&&(D.document.attachEvent("on"+o,s),D.attachEvent("on"+o,s))},detachEvent:function(o,s){typeof D.addEventListener<"u"?D.removeEventListener(o,s,!1):D.document&&D.detachEvent&&(D.document.detachEvent("on"+o,s),D.detachEvent("on"+o,s))},unloadAdd:function(o){if(n)return null;var s=A.string(8);return e[s]=o,r&&setTimeout(this.triggerUnloadCallbacks,0),s},unloadDel:function(o){o in e&&delete e[o]},triggerUnloadCallbacks:function(){for(var o in e)e[o](),delete e[o]}};var i=function(){r||(r=!0,t.exports.triggerUnloadCallbacks())};n||t.exports.attachEvent("unload",i)})(mu);var mt=mu.exports,Np=function(A,e){if(e=e.split(":")[0],A=+A,!A)return!1;switch(e){case"http":case"ws":return A!==80;case"https":case"wss":return A!==443;case"ftp":return A!==21;case"gopher":return A!==70;case"file":return!1}return A!==0},pa={},Mp=Object.prototype.hasOwnProperty,Pp;function sc(t){try{return decodeURIComponent(t.replace(/\+/g," "))}catch{return null}}function ac(t){try{return encodeURIComponent(t)}catch{return null}}function Vp(t){for(var A=/([^=?#&]+)=?([^&]*)/g,e={},r;r=A.exec(t);){var n=sc(r[1]),i=sc(r[2]);n===null||i===null||n in e||(e[n]=i)}return e}function Kp(t,A){A=A||"";var e=[],r,n;typeof A!="string"&&(A="?");for(n in t)if(Mp.call(t,n)){if(r=t[n],!r&&(r===null||r===Pp||isNaN(r))&&(r=""),n=ac(n),r=ac(r),n===null||r===null)continue;e.push(n+"="+r)}return e.length?A+e.join("&"):""}pa.stringify=Kp;pa.parse=Vp;var wu=Np,Vi=pa,Gp=/^[\x00-\x20\u00a0\u1680\u2000-\u200a\u2028\u2029\u202f\u205f\u3000\ufeff]+/,Cu=/[\n\r\t]/g,$p=/^[A-Za-z][A-Za-z0-9+-.]*:\/\//,Eu=/:\d+$/,Wp=/^([a-z][a-z0-9.+-]*:)?(\/\/)?([\\/]+)?([\S\s]*)/i,Xp=/^[a-zA-Z]:/;function ga(t){return(t||"").toString().replace(Gp,"")}var xs=[["#","hash"],["?","query"],function(A,e){return Me(e.protocol)?A.replace(/\\/g,"/"):A},["/","pathname"],["@","auth",1],[NaN,"host",void 0,1,1],[/:(\d*)$/,"port",void 0,1],[NaN,"hostname",void 0,1,1]],cc={hash:1,query:1};function yu(t){var A;typeof window<"u"?A=window:typeof D<"u"?A=D:typeof self<"u"?A=self:A={};var e=A.location||{};t=t||e;var r={},n=typeof t,i;if(t.protocol==="blob:")r=new Ve(unescape(t.pathname),{});else if(n==="string"){r=new Ve(t,{});for(i in cc)delete r[i]}else if(n==="object"){for(i in t)i in cc||(r[i]=t[i]);r.slashes===void 0&&(r.slashes=$p.test(t.href))}return r}function Me(t){return t==="file:"||t==="ftp:"||t==="http:"||t==="https:"||t==="ws:"||t==="wss:"}function bu(t,A){t=ga(t),t=t.replace(Cu,""),A=A||{};var e=Wp.exec(t),r=e[1]?e[1].toLowerCase():"",n=!!e[2],i=!!e[3],o=0,s;return n?i?(s=e[2]+e[3]+e[4],o=e[2].length+e[3].length):(s=e[2]+e[4],o=e[2].length):i?(s=e[3]+e[4],o=e[3].length):s=e[4],r==="file:"?o>=2&&(s=s.slice(2)):Me(r)?s=e[4]:r?n&&(s=s.slice(2)):o>=2&&Me(A.protocol)&&(s=e[4]),{protocol:r,slashes:n||Me(r),slashesCount:o,rest:s}}function jp(t,A){if(t==="")return A;for(var e=(A||"/").split("/").slice(0,-1).concat(t.split("/")),r=e.length,n=e[r-1],i=!1,o=0;r--;)e[r]==="."?e.splice(r,1):e[r]===".."?(e.splice(r,1),o++):o&&(r===0&&(i=!0),e.splice(r,1),o--);return i&&e.unshift(""),(n==="."||n==="..")&&e.push(""),e.join("/")}function Ve(t,A,e){if(t=ga(t),t=t.replace(Cu,""),!(this instanceof Ve))return new Ve(t,A,e);var r,n,i,o,s,a,c=xs.slice(),l=typeof A,u=this,f=0;for(l!=="object"&&l!=="string"&&(e=A,A=null),e&&typeof e!="function"&&(e=Vi.parse),A=yu(A),n=bu(t||"",A),r=!n.protocol&&!n.slashes,u.slashes=n.slashes||r&&A.slashes,u.protocol=n.protocol||A.protocol||"",t=n.rest,(n.protocol==="file:"&&(n.slashesCount!==2||Xp.test(t))||!n.slashes&&(n.protocol||n.slashesCount<2||!Me(u.protocol)))&&(c[3]=[/(.*)/,"pathname"]);f<c.length;f++){if(o=c[f],typeof o=="function"){t=o(t,u);continue}i=o[0],a=o[1],i!==i?u[a]=t:typeof i=="string"?(s=i==="@"?t.lastIndexOf(i):t.indexOf(i),~s&&(typeof o[2]=="number"?(u[a]=t.slice(0,s),t=t.slice(s+o[2])):(u[a]=t.slice(s),t=t.slice(0,s)))):(s=i.exec(t))&&(u[a]=s[1],t=t.slice(0,s.index)),u[a]=u[a]||r&&o[3]&&A[a]||"",o[4]&&(u[a]=u[a].toLowerCase())}e&&(u.query=e(u.query)),r&&A.slashes&&u.pathname.charAt(0)!=="/"&&(u.pathname!==""||A.pathname!=="")&&(u.pathname=jp(u.pathname,A.pathname)),u.pathname.charAt(0)!=="/"&&Me(u.protocol)&&(u.pathname="/"+u.pathname),wu(u.port,u.protocol)||(u.host=u.hostname,u.port=""),u.username=u.password="",u.auth&&(s=u.auth.indexOf(":"),~s?(u.username=u.auth.slice(0,s),u.username=encodeURIComponent(decodeURIComponent(u.username)),u.password=u.auth.slice(s+1),u.password=encodeURIComponent(decodeURIComponent(u.password))):u.username=encodeURIComponent(decodeURIComponent(u.auth)),u.auth=u.password?u.username+":"+u.password:u.username),u.origin=u.protocol!=="file:"&&Me(u.protocol)&&u.host?u.protocol+"//"+u.host:"null",u.href=u.toString()}function Jp(t,A,e){var r=this;switch(t){case"query":typeof A=="string"&&A.length&&(A=(e||Vi.parse)(A)),r[t]=A;break;case"port":r[t]=A,wu(A,r.protocol)?A&&(r.host=r.hostname+":"+A):(r.host=r.hostname,r[t]="");break;case"hostname":r[t]=A,r.port&&(A+=":"+r.port),r.host=A;break;case"host":r[t]=A,Eu.test(A)?(A=A.split(":"),r.port=A.pop(),r.hostname=A.join(":")):(r.hostname=A,r.port="");break;case"protocol":r.protocol=A.toLowerCase(),r.slashes=!e;break;case"pathname":case"hash":if(A){var n=t==="pathname"?"/":"#";r[t]=A.charAt(0)!==n?n+A:A}else r[t]=A;break;case"username":case"password":r[t]=encodeURIComponent(A);break;case"auth":var i=A.indexOf(":");~i?(r.username=A.slice(0,i),r.username=encodeURIComponent(decodeURIComponent(r.username)),r.password=A.slice(i+1),r.password=encodeURIComponent(decodeURIComponent(r.password))):r.username=encodeURIComponent(decodeURIComponent(A))}for(var o=0;o<xs.length;o++){var s=xs[o];s[4]&&(r[s[1]]=r[s[1]].toLowerCase())}return r.auth=r.password?r.username+":"+r.password:r.username,r.origin=r.protocol!=="file:"&&Me(r.protocol)&&r.host?r.protocol+"//"+r.host:"null",r.href=r.toString(),r}function Yp(t){(!t||typeof t!="function")&&(t=Vi.stringify);var A,e=this,r=e.host,n=e.protocol;n&&n.charAt(n.length-1)!==":"&&(n+=":");var i=n+(e.protocol&&e.slashes||Me(e.protocol)?"//":"");return e.username?(i+=e.username,e.password&&(i+=":"+e.password),i+="@"):e.password?(i+=":"+e.password,i+="@"):e.protocol!=="file:"&&Me(e.protocol)&&!r&&e.pathname!=="/"&&(i+="@"),(r[r.length-1]===":"||Eu.test(e.hostname)&&!e.port)&&(r+=":"),i+=r+e.pathname,A=typeof e.query=="object"?t(e.query):e.query,A&&(i+=A.charAt(0)!=="?"?"?"+A:A),e.hash&&(i+=e.hash),i}Ve.prototype={set:Jp,toString:Yp};Ve.extractProtocol=bu;Ve.location=yu;Ve.trimLeft=ga;Ve.qs=Vi;var Qu=Ve,qp=Qu,be={getOrigin:function(t){if(!t)return null;var A=new qp(t);if(A.protocol==="file:")return null;var e=A.port;return e||(e=A.protocol==="https:"?"443":"80"),A.protocol+"//"+A.hostname+":"+e},isOriginEqual:function(t,A){var e=this.getOrigin(t)===this.getOrigin(A);return e},isSchemeEqual:function(t,A){return t.split(":")[0]===A.split(":")[0]},addPath:function(t,A){var e=t.split("?");return e[0]+A+(e[1]?"?"+e[1]:"")},addQuery:function(t,A){return t+(t.indexOf("?")===-1?"?"+A:"&"+A)},isLoopbackAddr:function(t){return/^127\.([0-9]{1,3})\.([0-9]{1,3})\.([0-9]{1,3})$/i.test(t)||/^\[::1\]$/.test(t)}},Ts={exports:{}};typeof Object.create=="function"?Ts.exports=function(A,e){e&&(A.super_=e,A.prototype=Object.create(e.prototype,{constructor:{value:A,enumerable:!1,writable:!0,configurable:!0}}))}:Ts.exports=function(A,e){if(e){A.super_=e;var r=function(){};r.prototype=e.prototype,A.prototype=new r,A.prototype.constructor=A}};var CA=Ts.exports,ne={};function Ki(){this._listeners={}}Ki.prototype.addEventListener=function(t,A){t in this._listeners||(this._listeners[t]=[]);var e=this._listeners[t];e.indexOf(A)===-1&&(e=e.concat([A])),this._listeners[t]=e};Ki.prototype.removeEventListener=function(t,A){var e=this._listeners[t];if(e){var r=e.indexOf(A);if(r!==-1){e.length>1?this._listeners[t]=e.slice(0,r).concat(e.slice(r+1)):delete this._listeners[t];return}}};Ki.prototype.dispatchEvent=function(){var t=arguments[0],A=t.type,e=arguments.length===1?[t]:Array.apply(null,arguments);if(this["on"+A]&&this["on"+A].apply(this,e),A in this._listeners)for(var r=this._listeners[A],n=0;n<r.length;n++)r[n].apply(this,e)};var Uu=Ki,Zp=CA,Gi=Uu;function gt(){Gi.call(this)}Zp(gt,Gi);gt.prototype.removeAllListeners=function(t){t?delete this._listeners[t]:this._listeners={}};gt.prototype.once=function(t,A){var e=this,r=!1;function n(){e.removeListener(t,n),r||(r=!0,A.apply(this,arguments))}this.on(t,n)};gt.prototype.emit=function(){var t=arguments[0],A=this._listeners[t];if(A){for(var e=arguments.length,r=new Array(e-1),n=1;n<e;n++)r[n-1]=arguments[n];for(var i=0;i<A.length;i++)A[i].apply(this,r)}};gt.prototype.on=gt.prototype.addListener=Gi.prototype.addEventListener;gt.prototype.removeListener=Gi.prototype.removeEventListener;ne.EventEmitter=gt;var Hs={exports:{}},lc=D.WebSocket||D.MozWebSocket;lc?Hs.exports=function(A){return new lc(A)}:Hs.exports=void 0;var zp=Hs.exports,Fu=mt,Ag=be,eg=CA,Su=ne.EventEmitter,Iu=zp,uc=function(){};function At(t,A,e){if(!At.enabled())throw new Error("Transport created when disabled");Su.call(this);var r=this,n=Ag.addPath(t,"/websocket");n.slice(0,5)==="https"?n="wss"+n.slice(5):n="ws"+n.slice(4),this.url=n,this.ws=new Iu(this.url,[],e),this.ws.onmessage=function(i){uc("message event",i.data),r.emit("message",i.data)},this.unloadRef=Fu.unloadAdd(function(){r.ws.close()}),this.ws.onclose=function(i){uc("close event",i.code,i.reason),r.emit("close",i.code,i.reason),r._cleanup()},this.ws.onerror=function(i){r.emit("close",1006,"WebSocket connection broken"),r._cleanup()}}eg(At,Su);At.prototype.send=function(t){var A="["+t+"]";this.ws.send(A)};At.prototype.close=function(){var t=this.ws;this._cleanup(),t&&t.close()};At.prototype._cleanup=function(){var t=this.ws;t&&(t.onmessage=t.onclose=t.onerror=null),Fu.unloadDel(this.unloadRef),this.unloadRef=this.ws=null,this.removeAllListeners()};At.enabled=function(){return!!Iu};At.transportName="websocket";At.roundTrips=2;var tg=At,rg=CA,_u=ne.EventEmitter,ng=function(){};function Ht(t,A){_u.call(this),this.sendBuffer=[],this.sender=A,this.url=t}rg(Ht,_u);Ht.prototype.send=function(t){this.sendBuffer.push(t),this.sendStop||this.sendSchedule()};Ht.prototype.sendScheduleWait=function(){var t=this,A;this.sendStop=function(){t.sendStop=null,clearTimeout(A)},A=setTimeout(function(){t.sendStop=null,t.sendSchedule()},25)};Ht.prototype.sendSchedule=function(){ng("sendSchedule",this.sendBuffer.length);var t=this;if(this.sendBuffer.length>0){var A="["+this.sendBuffer.join(",")+"]";this.sendStop=this.sender(this.url,A,function(e){t.sendStop=null,e?(t.emit("close",e.code||1006,"Sending error: "+e),t.close()):t.sendScheduleWait()}),this.sendBuffer=[]}};Ht.prototype._cleanup=function(){this.removeAllListeners()};Ht.prototype.close=function(){this._cleanup(),this.sendStop&&(this.sendStop(),this.sendStop=null)};var ig=Ht,og=CA,Ou=ne.EventEmitter,sg=function(){};function $i(t,A,e){Ou.call(this),this.Receiver=t,this.receiveUrl=A,this.AjaxObject=e,this._scheduleReceiver()}og($i,Ou);$i.prototype._scheduleReceiver=function(){var t=this,A=this.poll=new this.Receiver(this.receiveUrl,this.AjaxObject);A.on("message",function(e){t.emit("message",e)}),A.once("close",function(e,r){sg("close",e,r,t.pollIsClosing),t.poll=A=null,t.pollIsClosing||(r==="network"?t._scheduleReceiver():(t.emit("close",e||1006,r),t.removeAllListeners()))})};$i.prototype.abort=function(){this.removeAllListeners(),this.pollIsClosing=!0,this.poll&&this.poll.abort()};var ag=$i,cg=CA,lg=be,Ba=ig,ug=ag;function va(t,A,e,r,n){var i=lg.addPath(t,A),o=this;Ba.call(this,t,e),this.poll=new ug(r,i,n),this.poll.on("message",function(s){o.emit("message",s)}),this.poll.once("close",function(s,a){o.poll=null,o.emit("close",s,a),o.close()})}cg(va,Ba);va.prototype.close=function(){Ba.prototype.close.call(this),this.removeAllListeners(),this.poll&&(this.poll.abort(),this.poll=null)};var xu=va,dg=CA,fg=be,Tu=xu;function hg(t){return function(A,e,r){var n={};typeof e=="string"&&(n.headers={"Content-type":"text/plain"});var i=fg.addPath(A,"/xhr_send"),o=new t("POST",i,e,n);return o.once("finish",function(s){if(o=null,s!==200&&s!==204)return r(new Error("http status "+s));r()}),function(){o.close(),o=null;var s=new Error("Aborted");s.code=1e3,r(s)}}}function Hu(t,A,e,r){Tu.call(this,t,A,hg(r),e,r)}dg(Hu,Tu);var ur=Hu,pg=CA,Lu=ne.EventEmitter;function sn(t,A){Lu.call(this);var e=this;this.bufferPosition=0,this.xo=new A("POST",t,null),this.xo.on("chunk",this._chunkHandler.bind(this)),this.xo.once("finish",function(r,n){e._chunkHandler(r,n),e.xo=null;var i=r===200?"network":"permanent";e.emit("close",null,i),e._cleanup()})}pg(sn,Lu);sn.prototype._chunkHandler=function(t,A){if(!(t!==200||!A))for(var e=-1;;this.bufferPosition+=e+1){var r=A.slice(this.bufferPosition);if(e=r.indexOf(`
`),e===-1)break;var n=r.slice(0,e);n&&this.emit("message",n)}};sn.prototype._cleanup=function(){this.removeAllListeners()};sn.prototype.abort=function(){this.xo&&(this.xo.close(),this.emit("close",null,"user"),this.xo=null),this._cleanup()};var Wi=sn,Ru=ne.EventEmitter,gg=CA,Du=mt,Bg=be,An=D.XMLHttpRequest,Lo=function(){};function Ke(t,A,e,r){var n=this;Ru.call(this),setTimeout(function(){n._start(t,A,e,r)},0)}gg(Ke,Ru);Ke.prototype._start=function(t,A,e,r){var n=this;try{this.xhr=new An}catch{}if(!this.xhr){this.emit("finish",0,"no xhr support"),this._cleanup();return}A=Bg.addQuery(A,"t="+ +new Date),this.unloadRef=Du.unloadAdd(function(){n._cleanup(!0)});try{this.xhr.open(t,A,!0),this.timeout&&"timeout"in this.xhr&&(this.xhr.timeout=this.timeout,this.xhr.ontimeout=function(){Lo("xhr timeout"),n.emit("finish",0,""),n._cleanup(!1)})}catch{this.emit("finish",0,""),this._cleanup(!1);return}if((!r||!r.noCredentials)&&Ke.supportsCORS&&(this.xhr.withCredentials=!0),r&&r.headers)for(var i in r.headers)this.xhr.setRequestHeader(i,r.headers[i]);this.xhr.onreadystatechange=function(){if(n.xhr){var o=n.xhr,s,a;switch(Lo("readyState",o.readyState),o.readyState){case 3:try{a=o.status,s=o.responseText}catch{}a===1223&&(a=204),a===200&&s&&s.length>0&&n.emit("chunk",a,s);break;case 4:a=o.status,a===1223&&(a=204),(a===12005||a===12029)&&(a=0),Lo("finish",a,o.responseText),n.emit("finish",a,o.responseText),n._cleanup(!1);break}}};try{n.xhr.send(e)}catch{n.emit("finish",0,""),n._cleanup(!1)}};Ke.prototype._cleanup=function(t){if(this.xhr){if(this.removeAllListeners(),Du.unloadDel(this.unloadRef),this.xhr.onreadystatechange=function(){},this.xhr.ontimeout&&(this.xhr.ontimeout=null),t)try{this.xhr.abort()}catch{}this.unloadRef=this.xhr=null}};Ke.prototype.close=function(){this._cleanup(!0)};Ke.enabled=!!An;var dc=["Active"].concat("Object").join("X");!Ke.enabled&&dc in D&&(An=function(){try{return new D[dc]("Microsoft.XMLHTTP")}catch{return null}},Ke.enabled=!!new An);var ku=!1;try{ku="withCredentials"in new An}catch{}Ke.supportsCORS=ku;var Nu=Ke,vg=CA,Ui=Nu;function ma(t,A,e,r){Ui.call(this,t,A,e,r)}vg(ma,Ui);ma.enabled=Ui.enabled&&Ui.supportsCORS;var Xi=ma,mg=CA,wa=Nu;function Ca(t,A,e){wa.call(this,t,A,e,{noCredentials:!0})}mg(Ca,wa);Ca.enabled=wa.enabled;var an=Ca,cn={isOpera:function(){return D.navigator&&/opera/i.test(D.navigator.userAgent)},isKonqueror:function(){return D.navigator&&/konqueror/i.test(D.navigator.userAgent)},hasDomain:function(){if(!D.document)return!0;try{return!!D.document.domain}catch{return!1}}},wg=CA,Mu=ur,Cg=Wi,Ls=Xi,Eg=an,yg=cn;function dr(t){if(!Eg.enabled&&!Ls.enabled)throw new Error("Transport created when disabled");Mu.call(this,t,"/xhr_streaming",Cg,Ls)}wg(dr,Mu);dr.enabled=function(t){return t.nullOrigin||yg.isOpera()?!1:Ls.enabled};dr.transportName="xhr-streaming";dr.roundTrips=2;dr.needBody=!!D.document;var bg=dr,Pu=ne.EventEmitter,Qg=CA,Vu=mt,Ug=cn,Fg=be,Sg=function(){};function Lt(t,A,e){var r=this;Pu.call(this),setTimeout(function(){r._start(t,A,e)},0)}Qg(Lt,Pu);Lt.prototype._start=function(t,A,e){var r=this,n=new D.XDomainRequest;A=Fg.addQuery(A,"t="+ +new Date),n.onerror=function(){r._error()},n.ontimeout=function(){r._error()},n.onprogress=function(){Sg("progress",n.responseText),r.emit("chunk",200,n.responseText)},n.onload=function(){r.emit("finish",200,n.responseText),r._cleanup(!1)},this.xdr=n,this.unloadRef=Vu.unloadAdd(function(){r._cleanup(!0)});try{this.xdr.open(t,A),this.timeout&&(this.xdr.timeout=this.timeout),this.xdr.send(e)}catch{this._error()}};Lt.prototype._error=function(){this.emit("finish",0,""),this._cleanup(!1)};Lt.prototype._cleanup=function(t){if(this.xdr){if(this.removeAllListeners(),Vu.unloadDel(this.unloadRef),this.xdr.ontimeout=this.xdr.onerror=this.xdr.onprogress=this.xdr.onload=null,t)try{this.xdr.abort()}catch{}this.unloadRef=this.xdr=null}};Lt.prototype.close=function(){this._cleanup(!0)};Lt.enabled=!!(D.XDomainRequest&&Ug.hasDomain());var Ea=Lt,Ig=CA,Ku=ur,_g=Wi,Rs=Ea;function ln(t){if(!Rs.enabled)throw new Error("Transport created when disabled");Ku.call(this,t,"/xhr_streaming",_g,Rs)}Ig(ln,Ku);ln.enabled=function(t){return t.cookie_needed||t.nullOrigin?!1:Rs.enabled&&t.sameScheme};ln.transportName="xdr-streaming";ln.roundTrips=2;var Gu=ln,$u=D.EventSource,Og=CA,Wu=ne.EventEmitter,xg=$u,fc=function(){};function un(t){Wu.call(this);var A=this,e=this.es=new xg(t);e.onmessage=function(r){fc("message",r.data),A.emit("message",decodeURI(r.data))},e.onerror=function(r){fc("error",e.readyState);var n=e.readyState!==2?"network":"permanent";A._cleanup(),A._close(n)}}Og(un,Wu);un.prototype.abort=function(){this._cleanup(),this._close("user")};un.prototype._cleanup=function(){var t=this.es;t&&(t.onmessage=t.onerror=null,t.close(),this.es=null)};un.prototype._close=function(t){var A=this;setTimeout(function(){A.emit("close",null,t),A.removeAllListeners()},200)};var Tg=un,Hg=CA,Xu=ur,Lg=Tg,Rg=Xi,Dg=$u;function fr(t){if(!fr.enabled())throw new Error("Transport created when disabled");Xu.call(this,t,"/eventsource",Lg,Rg)}Hg(fr,Xu);fr.enabled=function(){return!!Dg};fr.transportName="eventsource";fr.roundTrips=2;var hc=fr,Ro,pc;function ju(){return pc||(pc=1,Ro="1.6.1"),Ro}var Ju={exports:{}};(function(t){var A=mt,e=cn;t.exports={WPrefix:"_jp",currentWindowId:null,polluteGlobalNamespace:function(){t.exports.WPrefix in D||(D[t.exports.WPrefix]={})},postMessage:function(r,n){D.parent!==D&&D.parent.postMessage(JSON.stringify({windowId:t.exports.currentWindowId,type:r,data:n||""}),"*")},createIframe:function(r,n){var i=D.document.createElement("iframe"),o,s,a=function(){clearTimeout(o);try{i.onload=null}catch{}i.onerror=null},c=function(){i&&(a(),setTimeout(function(){i&&i.parentNode.removeChild(i),i=null},0),A.unloadDel(s))},l=function(f){i&&(c(),n(f))},u=function(f,E){setTimeout(function(){try{i&&i.contentWindow&&i.contentWindow.postMessage(f,E)}catch{}},0)};return i.src=r,i.style.display="none",i.style.position="absolute",i.onerror=function(){l("onerror")},i.onload=function(){clearTimeout(o),o=setTimeout(function(){l("onload timeout")},2e3)},D.document.body.appendChild(i),o=setTimeout(function(){l("timeout")},15e3),s=A.unloadAdd(c),{post:u,cleanup:c,loaded:a}},createHtmlfile:function(r,n){var i=["Active"].concat("Object").join("X"),o=new D[i]("htmlfile"),s,a,c,l=function(){clearTimeout(s),c.onerror=null},u=function(){o&&(l(),A.unloadDel(a),c.parentNode.removeChild(c),c=o=null,CollectGarbage())},f=function(I){o&&(u(),n(I))},E=function(I,y){try{setTimeout(function(){c&&c.contentWindow&&c.contentWindow.postMessage(I,y)},0)}catch{}};o.open(),o.write('<html><script>document.domain="'+D.document.domain+'";<\/script></html>'),o.close(),o.parentWindow[t.exports.WPrefix]=D[t.exports.WPrefix];var C=o.createElement("div");return o.body.appendChild(C),c=o.createElement("iframe"),C.appendChild(c),c.src=r,c.onerror=function(){f("onerror")},s=setTimeout(function(){f("timeout")},15e3),a=A.unloadAdd(u),{post:E,cleanup:u,loaded:l}}},t.exports.iframeEnabled=!1,D.document&&(t.exports.iframeEnabled=(typeof D.postMessage=="function"||typeof D.postMessage=="object")&&!e.isKonqueror())})(Ju);var dn=Ju.exports,kg=CA,Yu=ne.EventEmitter,Ng=ju(),Ds=be,qu=dn,Zu=mt,Mg=lr,Sr=function(){};function Ge(t,A,e){if(!Ge.enabled())throw new Error("Transport created when disabled");Yu.call(this);var r=this;this.origin=Ds.getOrigin(e),this.baseUrl=e,this.transUrl=A,this.transport=t,this.windowId=Mg.string(8);var n=Ds.addPath(e,"/iframe.html")+"#"+this.windowId;this.iframeObj=qu.createIframe(n,function(i){r.emit("close",1006,"Unable to load an iframe ("+i+")"),r.close()}),this.onmessageCallback=this._message.bind(this),Zu.attachEvent("message",this.onmessageCallback)}kg(Ge,Yu);Ge.prototype.close=function(){if(this.removeAllListeners(),this.iframeObj){Zu.detachEvent("message",this.onmessageCallback);try{this.postMessage("c")}catch{}this.iframeObj.cleanup(),this.iframeObj=null,this.onmessageCallback=this.iframeObj=null}};Ge.prototype._message=function(t){if(Sr("message",t.data),!Ds.isOriginEqual(t.origin,this.origin)){Sr("not same origin",t.origin,this.origin);return}var A;try{A=JSON.parse(t.data)}catch{Sr("bad json",t.data);return}if(A.windowId!==this.windowId){Sr("mismatched window id",A.windowId,this.windowId);return}switch(A.type){case"s":this.iframeObj.loaded(),this.postMessage("s",JSON.stringify([Ng,this.transport,this.transUrl,this.baseUrl]));break;case"t":this.emit("message",A.data);break;case"c":var e;try{e=JSON.parse(A.data)}catch{Sr("bad json",A.data);return}this.emit("close",e[0],e[1]),this.close();break}};Ge.prototype.postMessage=function(t,A){this.iframeObj.post(JSON.stringify({windowId:this.windowId,type:t,data:A||""}),this.origin)};Ge.prototype.send=function(t){this.postMessage("m",t)};Ge.enabled=function(){return qu.iframeEnabled};Ge.transportName="iframe";Ge.roundTrips=2;var zu=Ge,ya={isObject:function(t){var A=typeof t;return A==="function"||A==="object"&&!!t},extend:function(t){if(!this.isObject(t))return t;for(var A,e,r=1,n=arguments.length;r<n;r++){A=arguments[r];for(e in A)Object.prototype.hasOwnProperty.call(A,e)&&(t[e]=A[e])}return t}},Pg=CA,Mn=zu,Vg=ya,Do=function(t){function A(e,r){Mn.call(this,t.transportName,e,r)}return Pg(A,Mn),A.enabled=function(e,r){if(!D.document)return!1;var n=Vg.extend({},r);return n.sameOrigin=!0,t.enabled(n)&&Mn.enabled()},A.transportName="iframe-"+t.transportName,A.needBody=!0,A.roundTrips=Mn.roundTrips+t.roundTrips-1,A.facadeTransport=t,A},Kg=CA,Ft=dn,Gg=be,Ad=ne.EventEmitter,$g=lr,Wg=function(){};function Se(t){Ad.call(this);var A=this;Ft.polluteGlobalNamespace(),this.id="a"+$g.string(6),t=Gg.addQuery(t,"c="+decodeURIComponent(Ft.WPrefix+"."+this.id)),Wg("using htmlfile",Se.htmlfileEnabled);var e=Se.htmlfileEnabled?Ft.createHtmlfile:Ft.createIframe;D[Ft.WPrefix][this.id]={start:function(){A.iframeObj.loaded()},message:function(r){A.emit("message",r)},stop:function(){A._cleanup(),A._close("network")}},this.iframeObj=e(t,function(){A._cleanup(),A._close("permanent")})}Kg(Se,Ad);Se.prototype.abort=function(){this._cleanup(),this._close("user")};Se.prototype._cleanup=function(){this.iframeObj&&(this.iframeObj.cleanup(),this.iframeObj=null),delete D[Ft.WPrefix][this.id]};Se.prototype._close=function(t){this.emit("close",null,t),this.removeAllListeners()};Se.htmlfileEnabled=!1;var gc=["Active"].concat("Object").join("X");if(gc in D)try{Se.htmlfileEnabled=!!new D[gc]("htmlfile")}catch{}Se.enabled=Se.htmlfileEnabled||Ft.iframeEnabled;var Xg=Se,jg=CA,ks=Xg,Jg=an,ed=ur;function fn(t){if(!ks.enabled)throw new Error("Transport created when disabled");ed.call(this,t,"/htmlfile",ks,Jg)}jg(fn,ed);fn.enabled=function(t){return ks.enabled&&t.sameOrigin};fn.transportName="htmlfile";fn.roundTrips=2;var Bc=fn,Yg=CA,td=ur,qg=Wi,Ns=Xi,rd=an;function hn(t){if(!rd.enabled&&!Ns.enabled)throw new Error("Transport created when disabled");td.call(this,t,"/xhr",qg,Ns)}Yg(hn,td);hn.enabled=function(t){return t.nullOrigin?!1:rd.enabled&&t.sameOrigin?!0:Ns.enabled};hn.transportName="xhr-polling";hn.roundTrips=2;var vc=hn,Zg=CA,nd=ur,zg=Gu,AB=Wi,mc=Ea;function pn(t){if(!mc.enabled)throw new Error("Transport created when disabled");nd.call(this,t,"/xhr",AB,mc)}Zg(pn,nd);pn.enabled=zg.enabled;pn.transportName="xdr-polling";pn.roundTrips=2;var eB=pn,Wr=dn,id=lr,tB=cn,rB=be,nB=CA,od=ne.EventEmitter,iB=function(){};function ye(t){var A=this;od.call(this),Wr.polluteGlobalNamespace(),this.id="a"+id.string(6);var e=rB.addQuery(t,"c="+encodeURIComponent(Wr.WPrefix+"."+this.id));D[Wr.WPrefix][this.id]=this._callback.bind(this),this._createScript(e),this.timeoutId=setTimeout(function(){A._abort(new Error("JSONP script loaded abnormally (timeout)"))},ye.timeout)}nB(ye,od);ye.prototype.abort=function(){if(D[Wr.WPrefix][this.id]){var t=new Error("JSONP user aborted read");t.code=1e3,this._abort(t)}};ye.timeout=35e3;ye.scriptErrorTimeout=1e3;ye.prototype._callback=function(t){this._cleanup(),!this.aborting&&(t&&this.emit("message",t),this.emit("close",null,"network"),this.removeAllListeners())};ye.prototype._abort=function(t){this._cleanup(),this.aborting=!0,this.emit("close",t.code,t.message),this.removeAllListeners()};ye.prototype._cleanup=function(){if(clearTimeout(this.timeoutId),this.script2&&(this.script2.parentNode.removeChild(this.script2),this.script2=null),this.script){var t=this.script;t.parentNode.removeChild(t),t.onreadystatechange=t.onerror=t.onload=t.onclick=null,this.script=null}delete D[Wr.WPrefix][this.id]};ye.prototype._scriptError=function(){var t=this;this.errorTimer||(this.errorTimer=setTimeout(function(){t.loadedOkay||t._abort(new Error("JSONP script loaded abnormally (onerror)"))},ye.scriptErrorTimeout))};ye.prototype._createScript=function(t){var A=this,e=this.script=D.document.createElement("script"),r;if(e.id="a"+id.string(8),e.src=t,e.type="text/javascript",e.charset="UTF-8",e.onerror=this._scriptError.bind(this),e.onload=function(){A._abort(new Error("JSONP script loaded abnormally (onload)"))},e.onreadystatechange=function(){if(iB("onreadystatechange",e.readyState),/loaded|closed/.test(e.readyState)){if(e&&e.htmlFor&&e.onclick){A.loadedOkay=!0;try{e.onclick()}catch{}}e&&A._abort(new Error("JSONP script loaded abnormally (onreadystatechange)"))}},typeof e.async>"u"&&D.document.attachEvent)if(tB.isOpera())r=this.script2=D.document.createElement("script"),r.text="try{var a = document.getElementById('"+e.id+"'); if(a)a.onerror();}catch(x){};",e.async=r.async=!1;else{try{e.htmlFor=e.id,e.event="onclick"}catch{}e.async=!0}typeof e.async<"u"&&(e.async=!0);var n=D.document.getElementsByTagName("head")[0];n.insertBefore(e,n.firstChild),r&&n.insertBefore(r,n.firstChild)};var oB=ye,sB=lr,wc=be,aB=function(){},ge,Xr;function cB(t){try{return D.document.createElement('<iframe name="'+t+'">')}catch{var A=D.document.createElement("iframe");return A.name=t,A}}function lB(){ge=D.document.createElement("form"),ge.style.display="none",ge.style.position="absolute",ge.method="POST",ge.enctype="application/x-www-form-urlencoded",ge.acceptCharset="UTF-8",Xr=D.document.createElement("textarea"),Xr.name="d",ge.appendChild(Xr),D.document.body.appendChild(ge)}var uB=function(t,A,e){ge||lB();var r="a"+sB.string(8);ge.target=r,ge.action=wc.addQuery(wc.addPath(t,"/jsonp_send"),"i="+r);var n=cB(r);n.id=r,n.style.display="none",ge.appendChild(n);try{Xr.value=A}catch{}ge.submit();var i=function(o){n.onerror&&(n.onreadystatechange=n.onerror=n.onload=null,setTimeout(function(){n.parentNode.removeChild(n),n=null},500),Xr.value="",e(o))};return n.onerror=function(){i()},n.onload=function(){i()},n.onreadystatechange=function(o){aB("onreadystatechange",r,n.readyState),n.readyState==="complete"&&i()},function(){i(new Error("Aborted"))}},dB=CA,sd=xu,fB=oB,hB=uB;function Rt(t){if(!Rt.enabled())throw new Error("Transport created when disabled");sd.call(this,t,"/jsonp",hB,fB)}dB(Rt,sd);Rt.enabled=function(){return!!D.document};Rt.transportName="jsonp-polling";Rt.roundTrips=1;Rt.needBody=!0;var pB=Rt,gB=[tg,bg,Gu,hc,Do(hc),Bc,Do(Bc),vc,eB,Do(vc),pB],en=Array.prototype,ba=Object.prototype,BB=Function.prototype,tn=String.prototype,ko=en.slice,Qa=ba.toString,ad=function(t){return ba.toString.call(t)==="[object Function]"},vB=function(A){return Qa.call(A)==="[object Array]"},cd=function(A){return Qa.call(A)==="[object String]"},mB=Object.defineProperty&&function(){try{return Object.defineProperty({},"x",{}),!0}catch{return!1}}(),Ms;mB?Ms=function(t,A,e,r){!r&&A in t||Object.defineProperty(t,A,{configurable:!0,enumerable:!1,writable:!0,value:e})}:Ms=function(t,A,e,r){!r&&A in t||(t[A]=e)};var gn=function(t,A,e){for(var r in A)ba.hasOwnProperty.call(A,r)&&Ms(t,r,A[r],e)},ld=function(t){if(t==null)throw new TypeError("can't convert "+t+" to object");return Object(t)};function wB(t){var A=+t;return A!==A?A=0:A!==0&&A!==1/0&&A!==-1/0&&(A=(A>0||-1)*Math.floor(Math.abs(A))),A}function CB(t){return t>>>0}function No(){}gn(BB,{bind:function(A){var e=this;if(!ad(e))throw new TypeError("Function.prototype.bind called on incompatible "+e);for(var r=ko.call(arguments,1),n=function(){if(this instanceof a){var c=e.apply(this,r.concat(ko.call(arguments)));return Object(c)===c?c:this}else return e.apply(A,r.concat(ko.call(arguments)))},i=Math.max(0,e.length-r.length),o=[],s=0;s<i;s++)o.push("$"+s);var a=Function("binder","return function ("+o.join(",")+"){ return binder.apply(this, arguments); }")(n);return e.prototype&&(No.prototype=e.prototype,a.prototype=new No,No.prototype=null),a}});gn(Array,{isArray:vB});var Cc=Object("a"),ud=Cc[0]!=="a"||!(0 in Cc),EB=function(A){var e=!0,r=!0;return A&&(A.call("foo",function(n,i,o){typeof o!="object"&&(e=!1)}),A.call([1],function(){r=typeof this=="string"},"x")),!!A&&e&&r};gn(en,{forEach:function(A){var e=ld(this),r=ud&&cd(this)?this.split(""):e,n=arguments[1],i=-1,o=r.length>>>0;if(!ad(A))throw new TypeError;for(;++i<o;)i in r&&A.call(n,r[i],i,e)}},!EB(en.forEach));var yB=Array.prototype.indexOf&&[0,1].indexOf(1,2)!==-1;gn(en,{indexOf:function(A){var e=ud&&cd(this)?this.split(""):ld(this),r=e.length>>>0;if(!r)return-1;var n=0;for(arguments.length>1&&(n=wB(arguments[1])),n=n>=0?n:Math.max(0,r+n);n<r;n++)if(n in e&&e[n]===A)return n;return-1}},yB);var Ec=tn.split;"ab".split(/(?:ab)*/).length!==2||".".split(/(.?)(.?)/).length!==4||"tesst".split(/(s)*/)[1]==="t"||"test".split(/(?:)/,-1).length!==4||"".split(/.?/).length||".".split(/()()/).length>1?function(){var t=/()??/.exec("")[1]===void 0;tn.split=function(A,e){var r=this;if(A===void 0&&e===0)return[];if(Qa.call(A)!=="[object RegExp]")return Ec.call(this,A,e);var n=[],i=(A.ignoreCase?"i":"")+(A.multiline?"m":"")+(A.extended?"x":"")+(A.sticky?"y":""),o=0,s,a,c,l;for(A=new RegExp(A.source,i+"g"),r+="",t||(s=new RegExp("^"+A.source+"$(?!\\s)",i)),e=e===void 0?-1>>>0:CB(e);(a=A.exec(r))&&(c=a.index+a[0].length,!(c>o&&(n.push(r.slice(o,a.index)),!t&&a.length>1&&a[0].replace(s,function(){for(var u=1;u<arguments.length-2;u++)arguments[u]===void 0&&(a[u]=void 0)}),a.length>1&&a.index<r.length&&en.push.apply(n,a.slice(1)),l=a[0].length,o=c,n.length>=e)));)A.lastIndex===a.index&&A.lastIndex++;return o===r.length?(l||!A.test(""))&&n.push(""):n.push(r.slice(o)),n.length>e?n.slice(0,e):n}}():"0".split(void 0,0).length&&(tn.split=function(A,e){return A===void 0&&e===0?[]:Ec.call(this,A,e)});var bB=tn.substr,QB="".substr&&"0b".substr(-1)!=="b";gn(tn,{substr:function(A,e){return bB.call(this,A<0&&(A=this.length+A)<0?0:A,e)}},QB);var Pn=/[\x00-\x1f\ud800-\udfff\ufffe\uffff\u0300-\u0333\u033d-\u0346\u034a-\u034c\u0350-\u0352\u0357-\u0358\u035c-\u0362\u0374\u037e\u0387\u0591-\u05af\u05c4\u0610-\u0617\u0653-\u0654\u0657-\u065b\u065d-\u065e\u06df-\u06e2\u06eb-\u06ec\u0730\u0732-\u0733\u0735-\u0736\u073a\u073d\u073f-\u0741\u0743\u0745\u0747\u07eb-\u07f1\u0951\u0958-\u095f\u09dc-\u09dd\u09df\u0a33\u0a36\u0a59-\u0a5b\u0a5e\u0b5c-\u0b5d\u0e38-\u0e39\u0f43\u0f4d\u0f52\u0f57\u0f5c\u0f69\u0f72-\u0f76\u0f78\u0f80-\u0f83\u0f93\u0f9d\u0fa2\u0fa7\u0fac\u0fb9\u1939-\u193a\u1a17\u1b6b\u1cda-\u1cdb\u1dc0-\u1dcf\u1dfc\u1dfe\u1f71\u1f73\u1f75\u1f77\u1f79\u1f7b\u1f7d\u1fbb\u1fbe\u1fc9\u1fcb\u1fd3\u1fdb\u1fe3\u1feb\u1fee-\u1fef\u1ff9\u1ffb\u1ffd\u2000-\u2001\u20d0-\u20d1\u20d4-\u20d7\u20e7-\u20e9\u2126\u212a-\u212b\u2329-\u232a\u2adc\u302b-\u302c\uaab2-\uaab3\uf900-\ufa0d\ufa10\ufa12\ufa15-\ufa1e\ufa20\ufa22\ufa25-\ufa26\ufa2a-\ufa2d\ufa30-\ufa6d\ufa70-\ufad9\ufb1d\ufb1f\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufb4e\ufff0-\uffff]/g,Mo,UB=function(t){var A,e={},r=[];for(A=0;A<65536;A++)r.push(String.fromCharCode(A));return t.lastIndex=0,r.join("").replace(t,function(n){return e[n]="\\u"+("0000"+n.charCodeAt(0).toString(16)).slice(-4),""}),t.lastIndex=0,e},FB={quote:function(t){var A=JSON.stringify(t);return Pn.lastIndex=0,Pn.test(A)?(Mo||(Mo=UB(Pn)),A.replace(Pn,function(e){return Mo[e]})):A}},Po=function(){},SB=function(t){return{filterToEnabled:function(A,e){var r={main:[],facade:[]};return A?typeof A=="string"&&(A=[A]):A=[],t.forEach(function(n){if(n&&!(n.transportName==="websocket"&&e.websocket===!1)){if(A.length&&A.indexOf(n.transportName)===-1){Po("not in whitelist",n.transportName);return}n.enabled(e)?(Po("enabled",n.transportName),r.main.push(n),n.facadeTransport&&r.facade.push(n.facadeTransport)):Po("disabled",n.transportName)}}),r}}},Ps={};["log","debug","warn"].forEach(function(t){var A;try{A=D.console&&D.console[t]&&D.console[t].apply}catch{}Ps[t]=A?function(){return D.console[t].apply(D.console,arguments)}:t==="log"?function(){}:Ps.log});var IB=Ps;function Dt(t){this.type=t}Dt.prototype.initEvent=function(t,A,e){return this.type=t,this.bubbles=A,this.cancelable=e,this.timeStamp=+new Date,this};Dt.prototype.stopPropagation=function(){};Dt.prototype.preventDefault=function(){};Dt.CAPTURING_PHASE=1;Dt.AT_TARGET=2;Dt.BUBBLING_PHASE=3;var Ua=Dt,dd=D.location||{origin:"http://localhost:80",protocol:"http:",host:"localhost",port:80,href:"http://localhost/",hash:""},_B=CA,fd=Ua;function hd(){fd.call(this),this.initEvent("close",!1,!1),this.wasClean=!1,this.code=0,this.reason=""}_B(hd,fd);var OB=hd,xB=CA,pd=Ua;function gd(t){pd.call(this),this.initEvent("message",!1,!1),this.data=t}xB(gd,pd);var TB=gd,Bd=ne.EventEmitter,HB=CA;function Bn(){var t=this;Bd.call(this),this.to=setTimeout(function(){t.emit("finish",200,"{}")},Bn.timeout)}HB(Bn,Bd);Bn.prototype.close=function(){clearTimeout(this.to)};Bn.timeout=2e3;var LB=Bn,vd=ne.EventEmitter,RB=CA,DB=ya;function Fa(t,A){vd.call(this);var e=this,r=+new Date;this.xo=new A("GET",t),this.xo.once("finish",function(n,i){var o,s;if(n===200){if(s=+new Date-r,i)try{o=JSON.parse(i)}catch{}DB.isObject(o)||(o={})}e.emit("finish",o,s),e.removeAllListeners()})}RB(Fa,vd);Fa.prototype.close=function(){this.removeAllListeners(),this.xo.close()};var md=Fa,Vo,yc;function wd(){if(yc)return Vo;yc=1;var t=CA,A=ne.EventEmitter,e=an,r=md;function n(i){var o=this;A.call(this),this.ir=new r(i,e),this.ir.once("finish",function(s,a){o.ir=null,o.emit("message",JSON.stringify([s,a]))})}return t(n,A),n.transportName="iframe-info-receiver",n.prototype.close=function(){this.ir&&(this.ir.close(),this.ir=null),this.removeAllListeners()},Vo=n,Vo}var Cd=ne.EventEmitter,kB=CA,NB=mt,Ed=zu,MB=wd();function ji(t,A){var e=this;Cd.call(this);var r=function(){var n=e.ifr=new Ed(MB.transportName,A,t);n.once("message",function(i){if(i){var o;try{o=JSON.parse(i)}catch{e.emit("finish"),e.close();return}var s=o[0],a=o[1];e.emit("finish",s,a)}e.close()}),n.once("close",function(){e.emit("finish"),e.close()})};D.document.body?r():NB.attachEvent("load",r)}kB(ji,Cd);ji.enabled=function(){return Ed.enabled()};ji.prototype.close=function(){this.ifr&&this.ifr.close(),this.removeAllListeners(),this.ifr=null};var PB=ji,yd=ne.EventEmitter,VB=CA,KB=be,bc=Ea,Qc=Xi,GB=an,$B=LB,Uc=PB,Vn=md;function qe(t,A){var e=this;yd.call(this),setTimeout(function(){e.doXhr(t,A)},0)}VB(qe,yd);qe._getReceiver=function(t,A,e){return e.sameOrigin?new Vn(A,GB):Qc.enabled?new Vn(A,Qc):bc.enabled&&e.sameScheme?new Vn(A,bc):Uc.enabled()?new Uc(t,A):new Vn(A,$B)};qe.prototype.doXhr=function(t,A){var e=this,r=KB.addPath(t,"/info");this.xo=qe._getReceiver(t,r,A),this.timeoutRef=setTimeout(function(){e._cleanup(!1),e.emit("finish")},qe.timeout),this.xo.once("finish",function(n,i){e._cleanup(!0),e.emit("finish",n,i)})};qe.prototype._cleanup=function(t){clearTimeout(this.timeoutRef),this.timeoutRef=null,!t&&this.xo&&this.xo.close(),this.xo=null};qe.prototype.close=function(){this.removeAllListeners(),this._cleanup(!1)};qe.timeout=8e3;var WB=qe,Ko,Fc;function XB(){if(Fc)return Ko;Fc=1;var t=dn;function A(e){this._transport=e,e.on("message",this._transportMessage.bind(this)),e.on("close",this._transportClose.bind(this))}return A.prototype._transportClose=function(e,r){t.postMessage("c",JSON.stringify([e,r]))},A.prototype._transportMessage=function(e){t.postMessage("t",e)},A.prototype._send=function(e){this._transport.send(e)},A.prototype._close=function(){this._transport.close(),this._transport.removeAllListeners()},Ko=A,Ko}var Go,Sc;function jB(){if(Sc)return Go;Sc=1;var t=be,A=mt,e=XB(),r=wd(),n=dn,i=dd,o=function(){};return Go=function(s,a){var c={};a.forEach(function(u){u.facadeTransport&&(c[u.facadeTransport.transportName]=u.facadeTransport)}),c[r.transportName]=r;var l;s.bootstrap_iframe=function(){var u;n.currentWindowId=i.hash.slice(1);var f=function(E){if(E.source===parent&&(typeof l>"u"&&(l=E.origin),E.origin===l)){var C;try{C=JSON.parse(E.data)}catch{o("bad json",E.data);return}if(C.windowId===n.currentWindowId)switch(C.type){case"s":var I;try{I=JSON.parse(C.data)}catch{o("bad json",C.data);break}var y=I[0],p=I[1],U=I[2],O=I[3];if(y!==s.version)throw new Error('Incompatible SockJS! Main site uses: "'+y+'", the iframe: "'+s.version+'".');if(!t.isOriginEqual(U,i.href)||!t.isOriginEqual(O,i.href))throw new Error("Can't connect to different domain from within an iframe. ("+i.href+", "+U+", "+O+")");u=new e(new c[p](U,O));break;case"m":u._send(C.data);break;case"c":u&&u._close(),u=null;break}}};A.attachEvent("message",f),n.postMessage("s")}},Go}var JB=Qu,YB=CA,Ic=lr,qB=FB,kr=be,ZB=mt,zB=SB,Av=ya,ev=cn,tv=IB,Sa=Ua,bd=Uu,Kn=dd,rv=OB,_c=TB,nv=WB,Pe=function(){},Qd;function wA(t,A,e){if(!(this instanceof wA))return new wA(t,A,e);if(arguments.length<1)throw new TypeError("Failed to construct 'SockJS: 1 argument required, but only 0 present");bd.call(this),this.readyState=wA.CONNECTING,this.extensions="",this.protocol="",e=e||{},e.protocols_whitelist&&tv.warn("'protocols_whitelist' is DEPRECATED. Use 'transports' instead."),this._transportsWhitelist=e.transports,this._transportOptions=e.transportOptions||{},this._timeout=e.timeout||0;var r=e.sessionId||8;if(typeof r=="function")this._generateSessionId=r;else if(typeof r=="number")this._generateSessionId=function(){return Ic.string(r)};else throw new TypeError("If sessionId is used in the options, it needs to be a number or a function.");this._server=e.server||Ic.numberString(1e3);var n=new JB(t);if(!n.host||!n.protocol)throw new SyntaxError("The URL '"+t+"' is invalid");if(n.hash)throw new SyntaxError("The URL must not contain a fragment");if(n.protocol!=="http:"&&n.protocol!=="https:")throw new SyntaxError("The URL's scheme must be either 'http:' or 'https:'. '"+n.protocol+"' is not allowed.");var i=n.protocol==="https:";if(Kn.protocol==="https:"&&!i&&!kr.isLoopbackAddr(n.hostname))throw new Error("SecurityError: An insecure SockJS connection may not be initiated from a page loaded over HTTPS");A?Array.isArray(A)||(A=[A]):A=[];var o=A.sort();o.forEach(function(a,c){if(!a)throw new SyntaxError("The protocols entry '"+a+"' is invalid.");if(c<o.length-1&&a===o[c+1])throw new SyntaxError("The protocols entry '"+a+"' is duplicated.")});var s=kr.getOrigin(Kn.href);this._origin=s?s.toLowerCase():null,n.set("pathname",n.pathname.replace(/\/+$/,"")),this.url=n.href,Pe("using url",this.url),this._urlInfo={nullOrigin:!ev.hasDomain(),sameOrigin:kr.isOriginEqual(this.url,Kn.href),sameScheme:kr.isSchemeEqual(this.url,Kn.href)},this._ir=new nv(this.url,this._urlInfo),this._ir.once("finish",this._receiveInfo.bind(this))}YB(wA,bd);function Ud(t){return t===1e3||t>=3e3&&t<=4999}wA.prototype.close=function(t,A){if(t&&!Ud(t))throw new Error("InvalidAccessError: Invalid code");if(A&&A.length>123)throw new SyntaxError("reason argument has an invalid length");if(!(this.readyState===wA.CLOSING||this.readyState===wA.CLOSED)){var e=!0;this._close(t||1e3,A||"Normal closure",e)}};wA.prototype.send=function(t){if(typeof t!="string"&&(t=""+t),this.readyState===wA.CONNECTING)throw new Error("InvalidStateError: The connection has not been established yet");this.readyState===wA.OPEN&&this._transport.send(qB.quote(t))};wA.version=ju();wA.CONNECTING=0;wA.OPEN=1;wA.CLOSING=2;wA.CLOSED=3;wA.prototype._receiveInfo=function(t,A){if(this._ir=null,!t){this._close(1002,"Cannot connect to server");return}this._rto=this.countRTO(A),this._transUrl=t.base_url?t.base_url:this.url,t=Av.extend(t,this._urlInfo);var e=Qd.filterToEnabled(this._transportsWhitelist,t);this._transports=e.main,Pe(this._transports.length+" enabled transports"),this._connect()};wA.prototype._connect=function(){for(var t=this._transports.shift();t;t=this._transports.shift()){if(Pe("attempt",t.transportName),t.needBody&&(!D.document.body||typeof D.document.readyState<"u"&&D.document.readyState!=="complete"&&D.document.readyState!=="interactive")){this._transports.unshift(t),ZB.attachEvent("load",this._connect.bind(this));return}var A=Math.max(this._timeout,this._rto*t.roundTrips||5e3);this._transportTimeoutId=setTimeout(this._transportTimeout.bind(this),A);var e=kr.addPath(this._transUrl,"/"+this._server+"/"+this._generateSessionId()),r=this._transportOptions[t.transportName],n=new t(e,this._transUrl,r);n.on("message",this._transportMessage.bind(this)),n.once("close",this._transportClose.bind(this)),n.transportName=t.transportName,this._transport=n;return}this._close(2e3,"All transports failed",!1)};wA.prototype._transportTimeout=function(){this.readyState===wA.CONNECTING&&(this._transport&&this._transport.close(),this._transportClose(2007,"Transport timed out"))};wA.prototype._transportMessage=function(t){var A=this,e=t.slice(0,1),r=t.slice(1),n;switch(e){case"o":this._open();return;case"h":this.dispatchEvent(new Sa("heartbeat")),Pe("heartbeat",this.transport);return}if(r)try{n=JSON.parse(r)}catch{}if(!(typeof n>"u"))switch(e){case"a":Array.isArray(n)&&n.forEach(function(i){Pe("message",A.transport),A.dispatchEvent(new _c(i))});break;case"m":Pe("message",this.transport),this.dispatchEvent(new _c(n));break;case"c":Array.isArray(n)&&n.length===2&&this._close(n[0],n[1],!0);break}};wA.prototype._transportClose=function(t,A){if(Pe("_transportClose",this.transport),this._transport&&(this._transport.removeAllListeners(),this._transport=null,this.transport=null),!Ud(t)&&t!==2e3&&this.readyState===wA.CONNECTING){this._connect();return}this._close(t,A)};wA.prototype._open=function(){Pe("_open",this._transport&&this._transport.transportName,this.readyState),this.readyState===wA.CONNECTING?(this._transportTimeoutId&&(clearTimeout(this._transportTimeoutId),this._transportTimeoutId=null),this.readyState=wA.OPEN,this.transport=this._transport.transportName,this.dispatchEvent(new Sa("open")),Pe("connected",this.transport)):this._close(1006,"Server lost session")};wA.prototype._close=function(t,A,e){Pe("_close",this.transport,t,A,e,this.readyState);var r=!1;if(this._ir&&(r=!0,this._ir.close(),this._ir=null),this._transport&&(this._transport.close(),this._transport=null,this.transport=null),this.readyState===wA.CLOSED)throw new Error("InvalidStateError: SockJS has already been closed");this.readyState=wA.CLOSING,setTimeout((function(){this.readyState=wA.CLOSED,r&&this.dispatchEvent(new Sa("error"));var n=new rv;n.wasClean=e||!1,n.code=t||1e3,n.reason=A,this.dispatchEvent(n),this.onmessage=this.onclose=this.onerror=null}).bind(this),0)};wA.prototype.countRTO=function(t){return t>100?4*t:300+t};var iv=function(t){return Qd=zB(t),jB()(wA,t),wA},ov=gB,sv=iv(ov);"_sockjs_onload"in D&&setTimeout(D._sockjs_onload,1);const Fd=gu(sv),av="https://i10a802.p.ssafy.io/api/ws-stomp",cv={__name:"Chat",props:{chatDivHeightProp:{type:String,required:!0,default:"300"},disconnectProp:!1},setup(t){let A;const e=Pi();uu();const r=xh([]),n=e.params.clubId,i=e.params.partyId,o=G({userName:"",teamLogo:"",partyId:"",clubId:"",message:""}),s=t;HA(()=>s.disconnectProp,y=>{console.log(y),y&&f()}),zr(()=>{du(localStorage.getItem("id"),({data:y,status:p})=>{o.value.teamLogo=y.data.team.logo,o.value.userName=y.data.nickname,o.value.clubId=n,o.value.partyId=i,u()},y=>{console.log(y)})});const a=()=>{o.value.message=""},c=()=>{o.value.userName!==""&&o.value.message!==""&&(l("/chat/send",o.value,o.value),o.value.message="")},l=(y,p,U)=>{A&&A.send(y,JSON.stringify(p),JSON.stringify(U))},u=()=>{if(A===void 0){const y=new Fd(av);A=vu.over(y),A.connect({},p=>{o.value.message=`${o.value.userName} 님이 입장했습니다.`,l("/chat/enter",o.value,o.value),o.value.message="",A.subscribe(`/sub/chat${n}-${i}`,U=>{r.push(JSON.parse(U.body))}),A.subscribe(`/user/${o.value.userName}/sub/chat${n}-${i}`,U=>{r.push(...JSON.parse(U.body))})},p=>{console.error(`stomp client connect error : ${p}`)})}},f=()=>{o.value.message=`${o.value.userName} 님이 퇴장했습니다.`,l("/chat/send",o.value,o.value),o.value.message="",A.disconnect(()=>{console.log("stomp client disconnected.")})},E=G(null),C=()=>{lu(()=>{E.value&&(E.value.scrollTop=E.value.scrollHeight)})};HA(r,()=>{C()},{immediate:!0,deep:!0});const I=G([{userName:"Alice",message:"안녕하세요!"},{userName:"Bob",message:"오늘 날씨가 좋네요."},{userName:"Son",message:"저도 그렇게 생각해요."},{userName:"Alice",message:"그럼 다음에 또 봐요!"},{userName:"Son",message:"네, 안녕히가세요!"}]);return HA(I,()=>{C()},{immediate:!0,deep:!0}),(y,p)=>{const U=J("v-img"),O=J("v-col"),B=J("v-list-item-title"),b=J("v-list-item-subtitle"),Q=J("v-list-item-content"),R=J("v-row"),g=J("v-list-item"),T=J("v-list"),V=J("v-text-field"),M=J("v-form"),k=J("v-container");return Y(),cA(k,{fluid:"",class:"pa-0 chat-container",style:Qi({height:`${t.chatDivHeightProp-10}px`})},{default:F(()=>[q("div",{class:"chat-messages",ref_key:"chatMessages",ref:E},[S(T,{lines:"one"},{default:F(()=>[(Y(!0),uA(jA,null,ce(r,(d,v)=>(Y(),cA(g,{key:v,value:d,color:"primary",justify:"center",class:"ma-0 pa-0"},{default:F(()=>[S(R,{rows:"12",class:"ma-0 pa-0"},{default:F(()=>[S(O,{cols:"2"},{default:F(()=>[S(U,{src:d.teamLogo,height:"45",width:"45"},null,8,["src"])]),_:2},1024),S(O,{cols:"10"},{default:F(()=>[S(Q,{class:"ma-0 pa-0"},{default:F(()=>[S(B,{textContent:aA(d.userName)},null,8,["textContent"]),S(b,{textContent:aA(d.message)},null,8,["textContent"])]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1032,["value"]))),128))]),_:1})],512),S(M,{onSubmit:p[1]||(p[1]=Th(()=>{},["prevent"])),class:"chat-form"},{default:F(()=>[S(V,{class:"chat-input",modelValue:o.value.message,"onUpdate:modelValue":p[0]||(p[0]=d=>o.value.message=d),"append-icon":"mdi-send",variant:"outlined","clear-icon":"mdi-close-circle",clearable:"",label:"Message",type:"text",onKeyup:Hh(c,["enter"]),"onClick:append":c,"onClick:clear":a},null,8,["modelValue"])]),_:1})]),_:1},8,["style"])}}},lv=Ie(cv,[["__scopeId","data-v-899033ca"]]),Ji=fu("vote",()=>{const t=G({}),A=G([]),e=G([]),r=G([]);return G({}),{voteDetail:t,ongoingVoteList:A,finishedVoteList:e,myVoteList:r,getOngoingVoteList:a=>{gv(a,c=>{c.data.status===ke.OK&&(A.value=c.data.data)},c=>{console.error(c)})},getFinishedVoteList:a=>{Bv(a,c=>{c.data.status===ke.OK&&(e.value=c.data.data)},c=>{console.error(c)})},getMyVoteList:(a,c)=>{vv(a,c,l=>{l.data.status===ke.OK&&(r.value=l.data.data)},l=>{console.error(l)})},getVoteDetail:(a,c)=>{pv(a,c,l=>{l.data.status===ke.OK&&(t.value=l.data.data)},l=>{console.error(l)})}}}),Yi=hu(),uv="https://i10a802.p.ssafy.io/api/ws-stomp";let De;const je=Ji(),$o=localStorage.getItem("id"),Sd=t=>{if(De===void 0){const A=new Fd(uv);De=vu.over(A),De.connect({},function(){De.subscribe(`/sub/vote/create/${t}`,function(e){alert("투표가 생성되었습니다!"),je.getOngoingVoteList(t),je.getMyVoteList(t,$o)}),De.subscribe(`/sub/vote/do/${t}`,function(e){je.getOngoingVoteList(t),je.getMyVoteList(t,$o),je.getFinishedVoteList(t)}),De.subscribe(`/sub/vote/counting/${t}`,function(e){alert("투표가 마감되었습니다!"),je.currentFinishedVote=JSON.parse(e.body),je.getOngoingVoteList(t),je.getMyVoteList(t,$o),je.getFinishedVoteList(t)})})}};function dv(t){console.log(De),De.send("/vote/create",JSON.stringify(t),{})}function fv(t){De.send("/vote/do",JSON.stringify(t),{})}function hv(t){De.send("/vote/counting",JSON.stringify(t),{})}function pv(t,A,e,r){Yi.get(`/party/${t}/votes/${A}`).then(e).catch(r)}function gv(t,A,e){Yi.get(`/party/${t}/votes/ongoing`).then(A).catch(e)}function Bv(t,A,e){Yi.get(`/party/${t}/votes/finished`).then(A).catch(e)}function vv(t,A,e,r){Yi.get(`/party/${t}/votes/members/${A}`).then(e).catch(r)}const Ia=t=>(xt("data-v-05d4a818"),t=t(),Tt(),t),mv=Ia(()=>q("b",null,"선택지 추가",-1)),wv=Ia(()=>q("b",null,"커스텀 벌칙",-1)),Cv=Ia(()=>q("b",null,"뒤로",-1)),Ev={__name:"CreateVote",props:{nickname:String},emits:["create-vote-close"],setup(t,{emit:A}){const e=G(!0),r=t,n=A,i=Pi();i.params.clubId;const o=i.params.partyId,s=localStorage.getItem("id");G(r.nickname);const a=G(""),c=G([""]),l=G(null);Ji();const u=G(["음소거","흑백화면","음성변조"]),f=[Q=>!!Q||"빈 칸이어서는 안됩니다",Q=>Q&&Q.length<=10||"벌칙의 길이는 최대 10자입니다!"],E=[Q=>!!Q||"빈 칸이어서는 안됩니다",Q=>Q&&Q.length<=20||"제목의 길이는 최대 20자입니다."],C=[Q=>!!Q||"빈 칸이어서는 안됩니다!",Q=>Q&&Q.length<=20||"선택지의 길이는 최대 20자입니다."];HA(()=>u,Q=>{u.value=Q});const I=()=>{c.value.length>4||c.value.push("")},y=Q=>{c.value.length>1&&c.value.splice(Q,1)},p=G(!1),U=G(""),O=Q=>{Q===""||Q.length>20||(u.value.push(Q),alert("커스텀 벌칙이 생성되었습니다!"),p.value=!1,U.value="")};Sd(o);function B(){if(a.value===""){alert("제목이 빈 칸어서는 안됩니다!");return}if(l.value===""){alert("패널티는 반드시 고르셔야 합니다!");return}if(c.value.length<2){console.log("*****선택지의 개수는???***** => ",c.value.length),alert("투표 선택지의 옵션은 반드시 2개 이상이어야 합니다!");return}for(let R=0;R<c.value.length;R++){if(c.value[R]===""){alert("선택지 내용 중에 빈 칸이 있어서는 안됩니다!");return}if(c.value[R].length>20){alert("선택지 내용 길이는 최대 20자입니다!");return}}const Q={partyId:o,memberId:s,nickname:r.nickname,title:a.value,options:c.value,penalty:l.value};dv(Q),b()}function b(){e.value=!1,n("create-vote-close")}return(Q,R)=>{const g=J("v-text-field"),T=J("v-col"),V=J("v-row"),M=J("v-icon"),k=J("v-btn"),d=J("v-card"),v=J("v-select"),L=J("v-dialog"),m=J("v-card-title");return Y(),uA(jA,null,[S(L,{modelValue:e.value,"onUpdate:modelValue":R[3]||(R[3]=h=>e.value=h),"max-width":"480px","onClick:outside":b,persistent:""},{default:F(()=>[S(d,{class:"outer-card pb-4"},{default:F(()=>[S(V,{class:"mt-2"},{default:F(()=>[S(T,null,{default:F(()=>[S(g,{class:"vote-title px-12",modelValue:a.value,"onUpdate:modelValue":R[0]||(R[0]=h=>a.value=h),label:"투표 제목","bg-color":"#E5E8EE",rules:E},null,8,["modelValue"])]),_:1})]),_:1}),S(d,{class:"inner-card pt-4"},{default:F(()=>[(Y(!0),uA(jA,null,ce(c.value,(h,w)=>(Y(),cA(V,{key:w},{default:F(()=>[S(T,{cols:"9"},{default:F(()=>[S(g,{class:"option-text",modelValue:c.value[w],"onUpdate:modelValue":_=>c.value[w]=_,label:"선택지 내용",rules:C,"bg-color":"#E5E8EE"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),S(T,{cols:"2"},{default:F(()=>[S(k,{"background-color":"white",class:"button",onClick:_=>y(w),icon:""},{default:F(()=>[S(M,null,{default:F(()=>[AA("mdi-delete")]),_:1})]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024))),128))]),_:1}),S(V,null,{default:F(()=>[S(T,null,{default:F(()=>[S(k,{class:"button choice",onClick:I},{default:F(()=>[mv]),_:1})]),_:1})]),_:1}),S(V,{class:"justify-center"},{default:F(()=>[S(T,{cols:"4"},{default:F(()=>[S(k,{class:"button custom-penalty-btn",onClick:R[1]||(R[1]=h=>p.value=!0)},{default:F(()=>[wv]),_:1})]),_:1}),S(T,{cols:"7"},{default:F(()=>[S(v,{class:"select-penalty",density:"comfortable",modelValue:l.value,"onUpdate:modelValue":R[2]||(R[2]=h=>l.value=h),items:u.value,label:"벌칙 선택","bg-color":"#E5E8EE"},null,8,["modelValue","items"])]),_:1})]),_:1}),S(V,{class:"justify-center"},{default:F(()=>[S(T,{cols:"4"},{default:F(()=>[S(k,{class:"bt-button",onClick:B,color:"primary"},{default:F(()=>[AA("투표 생성")]),_:1})]),_:1}),S(T,{cols:"3"},{default:F(()=>[S(k,{class:"bt-button",onClick:b,color:"red"},{default:F(()=>[AA("뒤로")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),S(L,{modelValue:p.value,"onUpdate:modelValue":R[7]||(R[7]=h=>p.value=h),"max-width":"400px","max-height":"600px","onClick:outside":R[8]||(R[8]=h=>p.value=!1)},{default:F(()=>[S(d,{class:"custom-penalty"},{default:F(()=>[S(m,{class:"text-center h5"},{default:F(()=>[AA("패널티를 직접 정하세요!")]),_:1}),S(g,{modelValue:U.value,"onUpdate:modelValue":R[4]||(R[4]=h=>U.value=h),rules:f},null,8,["modelValue"]),S(V,{class:"my-6 justify-center"},{default:F(()=>[S(T,{cols:"5"},{default:F(()=>[S(k,{class:"custom-button",onClick:R[5]||(R[5]=h=>O(U.value)),color:"primary"},{default:F(()=>[AA("커스텀 벌칙 생성")]),_:1})]),_:1}),S(T,{cols:"3"},{default:F(()=>[S(k,{class:"custom-button",onClick:R[6]||(R[6]=h=>p.value=!1),color:"#292646",variant:"outlined"},{default:F(()=>[Cv]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])],64)}}},yv=Ie(Ev,[["__scopeId","data-v-05d4a818"]]),ue=t=>(xt("data-v-9ad33e50"),t=t(),Tt(),t),bv=ue(()=>q("h3",null,"투표합시다",-1)),Qv=ue(()=>q("b",null,"진행 중인 투표",-1)),Uv=ue(()=>q("b",null,"내가 만든 투표",-1)),Fv=ue(()=>q("b",null,"완료된 투표",-1)),Sv=ue(()=>q("b",null,"투표 생성",-1)),Iv=ue(()=>q("b",null,"나가기",-1)),_v=ue(()=>q("h4",null,"제출",-1)),Ov=ue(()=>q("h4",null,"취소",-1)),xv=ue(()=>q("h4",null,"마감",-1)),Tv=ue(()=>q("h4",null,"취소",-1)),Hv=ue(()=>q("h2",null,"최종 답안",-1)),Lv=ue(()=>q("h4",null,"확인",-1)),Rv=ue(()=>q("h4",null,"취소",-1)),Dv=ue(()=>q("h2",null,"완료된 투표",-1)),kv=ue(()=>q("b",null,"목록으로",-1)),Nv={__name:"VoteList",emits:["vote-close"],setup(t,{emit:A}){const e=A,r=Ji(),n=Pi(),i=localStorage.getItem("id"),o=G("");n.params.clubId;const s=n.params.partyId,a=G(!0),c=()=>{du(i,({data:_,status:x})=>{console.log("data ==> ",_),o.value=_.data.nickname},_=>{console.log("살려줘"),console.log(_)})};Sd(s);const l=G({partyId:"",voteId:"",content:"",ongoing:null,partyMemberId:"",options:[]}),u=G([]),f=G([]),E=G([]),C=cu(()=>{switch(I.value){case"ongoing":return u.value;case"myVotes":return E.value;case"finished":return f.value;default:return[]}}),I=G("ongoing");HA(()=>r.ongoingVoteList,_=>{u.value=_},{immediate:!0}),HA(()=>r.myVoteList,_=>{E.value=_},{immediate:!0}),HA(()=>r.finishedVoteList,_=>{f.value=_},{immediate:!0});function y(_){I.value=_,_==="ongoing"?(C.value=u.value,console.log(C.value)):_==="myVotes"?C.value=E.value:_==="finished"&&(C.value=f.value)}const p=G(!1),U=G(!1);let O;function B(_){for(let x=0;x<_.options.length;x++)for(let N=0;N<_.options[x].users.length;N++)if(console.log(_.options[x].users[N]),_.options[x].users[N].userId===i){alert("이미 참여한 투표입니다!");return}O=G({partyId:s,voteId:"",memberId:i,nickname:o.value,optionId:"",content:""}),U.value=!0,l.value=_}function b(_){O.value.optionId=_.optionId,O.value.voteId=l.value.voteId,O.value.content=_.content,console.log(O.value)}const Q=G(!1);function R(_){if(console.log(_),_.content===""){alert("반드시 고르셔야 합니다!");return}fv(_),Q.value=!0,U.value=!1}const g=G(!1),T=G({voteId:"",title:"",voteCount:"",penalty:{content:"",penaltyId:""},user:{userId:"",name:""},options:[]});function V(_){g.value=!0,T.value.voteId=_.voteId,T.value.title=_.title,T.value.voteCount=_.voteCount,T.value.penalty=_.penalty,T.value.user=_.user,T.value.options=_.options}let M=G({memberId:"",nickname:"",answerOptionId:"",answerOption:""});function k(_){if(_.optionId===""){alert("반드시 고르셔야 합니다!");return}M.value.memberId=T.value.user.userId,M.value.nickname=T.value.user.name,M.value.answerOptionId=_.optionId,M.value.answerOption=_.content}const d=G(!1);function v(){let _={partyId:s,voteId:T.value.voteId,memberId:T.value.user.userId,nickname:T.value.user.name,answerOptionId:M.value.answerOptionId};if(_.answerOptionId===""){alert("정답은 반드시 고르셔야 합니다!");return}console.log(_),hv(_),d.value=!1,g.value=!1}const L=G(!1),m=G({answerOptionId:"",answerOptionContent:"",penalty:{content:"",penaltyId:""},user:{userId:"",name:""},options:[],penaltyUsers:[]});function h(_){m.value.answerOptionId=_.answerOptionId,m.value.penalty=_.penalty,m.value.user=_.user,m.value.options=_.options,L.value=!0}function w(){a.value=!1,e("vote-close")}return zr(()=>{c(),r.getOngoingVoteList(s),r.getFinishedVoteList(s),r.getMyVoteList(s,i)}),(_,x)=>{const N=J("v-card-title"),P=J("v-btn"),Z=J("v-col"),X=J("v-row"),oA=J("v-card-text"),H=J("v-card"),sA=J("v-dialog"),iA=J("v-spacer"),bA=J("v-card-actions"),QA=J("v-tooltip"),$=J("v-icon"),gA=Lh("hover");return Y(),uA(jA,null,[S(sA,{class:"vote-list",modelValue:a.value,"onUpdate:modelValue":x[5]||(x[5]=W=>a.value=W),"max-width":"500px","onClick:outside":w,persistent:""},{default:F(()=>[S(H,{class:"outer-card"},{default:F(()=>[S(N,{class:"modal-title text-center"},{default:F(()=>[bv]),_:1}),S(X,{class:"votes"},{default:F(()=>[S(Z,{cols:"12",lg:"4",md:"4",sm:"4"},{default:F(()=>[S(P,{onClick:x[0]||(x[0]=W=>y("ongoing"))},{default:F(()=>[Qv]),_:1})]),_:1}),S(Z,{cols:"12",lg:"4",md:"4",sm:"4"},{default:F(()=>[S(P,{onClick:x[1]||(x[1]=W=>y("myVotes"))},{default:F(()=>[Uv]),_:1})]),_:1}),S(Z,{cols:"12",lg:"4",md:"4",sm:"4"},{default:F(()=>[S(P,{onClick:x[2]||(x[2]=W=>y("finished"))},{default:F(()=>[Fv]),_:1})]),_:1})]),_:1}),S(H,{class:"inner-card"},{default:F(()=>[(Y(!0),uA(jA,null,ce(C.value,(W,K)=>(Y(),uA("div",{key:K},[I.value=="ongoing"&&W.user.userId!==Be(i)?mi((Y(),cA(oA,{key:0,class:"vote-title",onClick:rA=>B(W)},{default:F(()=>[q("h3",null,aA(W.title),1)]),_:2},1032,["onClick"])),[[gA,{hover:!0}]]):$A("",!0),I.value=="myVotes"&&W.ongoing===1?mi((Y(),cA(oA,{key:1,class:"vote-title",onClick:rA=>V(W)},{default:F(()=>[q("h3",null,aA(W.title),1)]),_:2},1032,["onClick"])),[[gA,{hover:!0}]]):$A("",!0),I.value=="finished"?mi((Y(),cA(oA,{key:2,class:"vote-title",onClick:rA=>h(W)},{default:F(()=>[q("h3",null,aA(W.title),1)]),_:2},1032,["onClick"])),[[gA,{hover:!0}]]):$A("",!0)]))),128))]),_:1}),S(X,{class:"buttons"},{default:F(()=>[S(Z,{cols:"auto"},{default:F(()=>[S(P,{color:"primary",onClick:x[3]||(x[3]=W=>p.value=!0)},{default:F(()=>[Sv]),_:1})]),_:1}),S(Z,{cols:"auto"},{default:F(()=>[S(P,{color:"error",onClick:w},{default:F(()=>[Iv]),_:1})]),_:1})]),_:1})]),_:1}),p.value?(Y(),cA(yv,{key:0,onCreateVoteClose:x[4]||(x[4]=W=>p.value=!1),nickname:o.value},null,8,["nickname"])):$A("",!0)]),_:1},8,["modelValue"]),S(sA,{modelValue:U.value,"onUpdate:modelValue":x[8]||(x[8]=W=>U.value=W),"max-width":"500px"},{default:F(()=>[S(H,{class:"vote-detail"},{default:F(()=>[S(N,{class:"text-center"},{default:F(()=>[AA("진행 중인 투표")]),_:1}),S(oA,null,{default:F(()=>[AA("Q : "+aA(l.value.title),1)]),_:1}),(Y(!0),uA(jA,null,ce(l.value.options,(W,K)=>(Y(),cA(oA,{class:"option",key:K,onClick:rA=>b(W)},{default:F(()=>[AA(aA(W.content),1)]),_:2},1032,["onClick"]))),128)),Be(O).content!==""?(Y(),cA(oA,{key:0},{default:F(()=>[AA(" 당신의 선택 : "),q("b",null,aA(Be(O).content),1)]),_:1})):$A("",!0),S(bA,{class:"buttons"},{default:F(()=>[S(iA),S(P,{class:"choice-button",onClick:x[6]||(x[6]=W=>R(Be(O)))},{default:F(()=>[_v]),_:1}),S(P,{class:"choice-button",onClick:x[7]||(x[7]=W=>U.value=!1)},{default:F(()=>[Ov]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),S(sA,{modelValue:Q.value,"onUpdate:modelValue":x[9]||(x[9]=W=>Q.value=W),"max-width":"300px"},{default:F(()=>[S(H,{class:"submit-vote"},{default:F(()=>[S(N,{class:"text-center"},{default:F(()=>[AA("투표가 제출되었습니다!")]),_:1})]),_:1})]),_:1},8,["modelValue"]),S(sA,{modelValue:g.value,"onUpdate:modelValue":x[12]||(x[12]=W=>g.value=W),"max-width":"500px"},{default:F(()=>[S(H,{class:"vote-detail"},{default:F(()=>[S(N,{class:"text-center"},{default:F(()=>[q("h2",null,aA(T.value.title),1)]),_:1}),(Y(!0),uA(jA,null,ce(T.value.options,(W,K)=>(Y(),cA(oA,{key:K,class:"vote-title text-center",onClick:rA=>k(W)},{default:F(()=>[AA(aA(W.content)+" ",1),(Y(!0),uA(jA,null,ce(W.users,(rA,hA)=>(Y(),uA("div",{key:hA},[S(QA,{activator:"parent",location:"top",theme:"dark"},{default:F(()=>[AA(aA(rA.name),1)]),_:2},1024),S($,null,{default:F(()=>[AA("mdi-soccer")]),_:1})]))),128))]),_:2},1032,["onClick"]))),128)),Be(M).answerOption!==""?(Y(),cA(oA,{key:0,class:"text-center"},{default:F(()=>[AA(" 마감 답안 : "),q("b",null,aA(Be(M).answerOption),1)]),_:1})):$A("",!0),S(bA,{class:"buttons"},{default:F(()=>[S(iA),S(P,{class:"choice-button",onClick:x[10]||(x[10]=()=>{d.value=!0,g.value=!1})},{default:F(()=>[xv]),_:1}),S(P,{class:"choice-button",onClick:x[11]||(x[11]=W=>g.value=!1)},{default:F(()=>[Tv]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),S(sA,{modelValue:d.value,"onUpdate:modelValue":x[14]||(x[14]=W=>d.value=W),"max-width":"300px"},{default:F(()=>[S(H,{class:"text-center"},{default:F(()=>[S(N,{class:"close-vote"},{default:F(()=>[AA("투표를 마감하시겠습니까?")]),_:1}),S(oA,null,{default:F(()=>[Hv]),_:1}),S(oA,null,{default:F(()=>[q("h3",null,aA(Be(M).answerOption),1)]),_:1}),S(bA,{class:"buttons"},{default:F(()=>[S(iA),S(P,{class:"choice-button",onClick:v},{default:F(()=>[Lv]),_:1}),S(P,{class:"choice-button",onClick:x[13]||(x[13]=W=>d.value=!1)},{default:F(()=>[Rv]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),S(sA,{modelValue:L.value,"onUpdate:modelValue":x[16]||(x[16]=W=>L.value=W),"max-width":"500px"},{default:F(()=>[S(H,{class:"outer-card"},{default:F(()=>[S(N,{class:"text-center"},{default:F(()=>[Dv]),_:1}),S(oA,{class:"text-center"},{default:F(()=>[AA(" 정답 "),q("h3",null,aA(m.value.options.filter(W=>W.optionId===m.value.answerOptionId)[0].content),1)]),_:1}),(Y(!0),uA(jA,null,ce(m.value.options,(W,K)=>(Y(),cA(oA,{key:K,class:"text-center"},{default:F(()=>[AA(aA(W.content)+" ",1),(Y(!0),uA(jA,null,ce(W.users,(rA,hA)=>(Y(),uA("div",{key:hA},[S(QA,{activator:"parent",location:"top",theme:"dark"},{default:F(()=>[AA(aA(rA.name),1)]),_:2},1024),S($,null,{default:F(()=>[AA(" mdi-soccer")]),_:1})]))),128))]),_:2},1024))),128)),S(H,{class:"inner-card"},{default:F(()=>[S(oA,{class:"text-center"},{default:F(()=>[AA("벌칙 "),q("h4",null,aA(m.value.penalty.content),1)]),_:1}),(Y(!0),uA(jA,null,ce(m.value.options.filter(W=>W.optionId!==m.value.answerOptionId),(W,K)=>(Y(),uA("div",{key:K},[(Y(!0),uA(jA,null,ce(W.users,(rA,hA)=>(Y(),cA(oA,{key:hA},{default:F(()=>[AA(aA(rA.name),1)]),_:2},1024))),128))]))),128))]),_:1}),S(bA,{class:"buttons"},{default:F(()=>[S(iA),S(P,{onClick:x[15]||(x[15]=W=>L.value=!1),style:{color:"black"}},{default:F(()=>[kv]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])],64)}}},Mv=Ie(Nv,[["__scopeId","data-v-9ad33e50"]]),Pv=hu(),Vv=Rh(),Id="/files";function Kv(t,A,e){Pv.get(`${Id}/${t}`).then(A).catch(e)}async function Gv(t,A,e){Vv.post(Id,t).then(A).catch(e)}const $v=fu("file",()=>({deleteFile:e=>{Kv(e,r=>{r.status,ke.OK},r=>{console.error(r)})},uploadFile:e=>new Promise((r,n)=>{Gv(e,i=>{i.status===ke.CREATE&&(console.log("upload file success"),console.log(i),r(i))},i=>{console.error(i),n(i)})})}));var _d={},_a={};(function(t){var A=D&&D.__extends||function(){var r=function(n,i){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,s){o.__proto__=s}||function(o,s){for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(o[a]=s[a])},r(n,i)};return function(n,i){r(n,i);function o(){this.constructor=n}n.prototype=i===null?Object.create(i):(o.prototype=i.prototype,new o)}}();function e(r){if(!r)return e.__;Array.prototype.reduce||(Array.prototype.reduce=function(o,s){for(var a=s,c=0;c<this.length;c++)a=o(a,this[c],c,this);return a});var n="",i=("."+r).split(".").reduce(function(o,s,a,c){n?n+="."+s:n=s;var l=o["__"+n];return l===void 0&&(e.Logger.prototype=o,l=new e.Logger(n),o["__"+n]=l),l},e.__);return i}(function(r){r.requestId="",r.entryId=0,r._createXMLHttpRequest=function(){return new XMLHttpRequest},r._getTime=function(){return new Date().getTime()},r._console=console,r._appenderNames=[];function n(m,h,w){if(h[m]!==void 0){if(h[m]===null){delete w[m];return}w[m]=h[m]}}function i(m){if(r.enabled!=null&&!r.enabled)return!1;try{if(m.userAgentRegex&&!new RegExp(m.userAgentRegex).test(navigator.userAgent))return!1}catch{}try{if(m.ipRegex&&r.clientIP&&!new RegExp(m.ipRegex).test(r.clientIP))return!1}catch{}return!0}function o(m,h){try{if(m.disallow&&new RegExp(m.disallow).test(h))return!1}catch{}return!0}function s(m){return typeof m=="function"?m instanceof RegExp?m.toString():m():m}var a=function(){function m(h,w,_){this.msg=h,this.meta=w,this.finalString=_}return m}();function c(m){var h=s(m),w;switch(typeof h){case"string":return new a(h,null,h);case"number":return w=h.toString(),new a(w,null,w);case"boolean":return w=h.toString(),new a(w,null,w);case"undefined":return new a("undefined",null,"undefined");case"object":return h instanceof RegExp||h instanceof String||h instanceof Number||h instanceof Boolean?(w=h.toString(),new a(w,null,w)):(typeof r.serialize=="function"?w=r.serialize.call(this,h):w=JSON.stringify(h),new a("",h,w));default:return new a("unknown",null,"unknown")}}function l(m){return n("enabled",m,this),n("maxMessages",m,this),n("defaultAjaxUrl",m,this),n("clientIP",m,this),n("requestId",m,this),n("defaultBeforeSend",m,this),n("serialize",m,this),this}r.setOptions=l;function u(){return-2147483648}r.getAllLevel=u;function f(){return 1e3}r.getTraceLevel=f;function E(){return 2e3}r.getDebugLevel=E;function C(){return 3e3}r.getInfoLevel=C;function I(){return 4e3}r.getWarnLevel=I;function y(){return 5e3}r.getErrorLevel=y;function p(){return 6e3}r.getFatalLevel=p;function U(){return 2147483647}r.getOffLevel=U;function O(m){return m<=1e3?"trace":m<=2e3?"debug":m<=3e3?"info":m<=4e3?"warn":m<=5e3?"error":"fatal"}var B=function(){function m(h,w){this.inner=w,this.name="JL.Exception",this.message=c(h).finalString}return m}();r.Exception=B,B.prototype=new Error;var b=function(){function m(h,w,_,x,N){this.l=h,this.m=w,this.n=_,this.t=x,this.u=N}return m}();r.LogItem=b;function Q(m,h,w){return r.entryId++,new b(m,h,w,r._getTime(),r.entryId)}function R(m){m.id&&(clearTimeout(m.id),m.id=null)}function g(m,h,w){var _=this;m.id||(m.id=setTimeout(function(){w.call(_)},h))}var T=function(){function m(h,w){this.appenderName=h,this.sendLogItems=w,this.level=r.getTraceLevel(),this.sendWithBufferLevel=2147483647,this.storeInBufferLevel=-2147483648,this.bufferSize=0,this.batchSize=1,this.maxBatchSize=20,this.batchTimeout=2147483647,this.sendTimeout=5e3,this.buffer=[],this.batchBuffer=[],this.batchTimeoutTimer={id:null},this.sendTimeoutTimer={id:null},this.nbrLogItemsSkipped=0,this.nbrLogItemsBeingSent=0;var _="Trying to create an appender without a name or with an empty name";if(h==null)throw _;if(r._appenderNames.indexOf(h)!=-1)throw h?"Multiple appenders use the same name "+h:_;r._appenderNames.push(h)}return m.prototype.addLogItemsToBuffer=function(h){if(this.batchBuffer.length>=this.maxBatchSize){this.nbrLogItemsSkipped+=h.length;return}if(r.maxMessages!=null){if(r.maxMessages<1)return;r.maxMessages-=h.length}this.batchBuffer=this.batchBuffer.concat(h);var w=this;g(this.batchTimeoutTimer,this.batchTimeout,function(){w.sendBatch.call(w)})},m.prototype.batchBufferHasOverdueMessages=function(){for(var h=0;h<this.batchBuffer.length;h++){var w=r._getTime()-this.batchBuffer[h].t;if(w>this.batchTimeout)return!0}return!1},m.prototype.batchBufferHasStrandedMessage=function(){return r.maxMessages!=null&&r.maxMessages<1&&this.batchBuffer.length>0},m.prototype.sendBatchIfComplete=function(){(this.batchBuffer.length>=this.batchSize||this.batchBufferHasOverdueMessages()||this.batchBufferHasStrandedMessage())&&this.sendBatch()},m.prototype.onSendingEnded=function(){R(this.sendTimeoutTimer),this.nbrLogItemsBeingSent=0,this.sendBatchIfComplete()},m.prototype.setOptions=function(h){if(n("level",h,this),n("ipRegex",h,this),n("userAgentRegex",h,this),n("disallow",h,this),n("sendWithBufferLevel",h,this),n("storeInBufferLevel",h,this),n("bufferSize",h,this),n("batchSize",h,this),n("maxBatchSize",h,this),n("batchTimeout",h,this),n("sendTimeout",h,this),this.bufferSize<this.buffer.length&&(this.buffer.length=this.bufferSize),this.maxBatchSize<this.batchSize)throw new r.Exception({message:"maxBatchSize cannot be smaller than batchSize",maxBatchSize:this.maxBatchSize,batchSize:this.batchSize});return this},m.prototype.log=function(h,w,_,x,N,P,Z){var X;if(i(this)&&o(this,P)&&!(N<this.storeInBufferLevel)){if(X=Q(N,P,Z),N<this.level){this.bufferSize>0&&(this.buffer.push(X),this.buffer.length>this.bufferSize&&this.buffer.shift());return}this.addLogItemsToBuffer([X]),N>=this.sendWithBufferLevel&&this.buffer.length&&(this.addLogItemsToBuffer(this.buffer),this.buffer.length=0),this.sendBatchIfComplete()}},m.prototype.sendBatch=function(){if(!(this.nbrLogItemsBeingSent>0)&&(R(this.batchTimeoutTimer),this.batchBuffer.length!=0)){this.nbrLogItemsBeingSent=this.batchBuffer.length;var h=this;g(this.sendTimeoutTimer,this.sendTimeout,function(){h.onSendingEnded.call(h)}),this.sendLogItems(this.batchBuffer,function(){h.batchBuffer.splice(0,h.nbrLogItemsBeingSent),h.nbrLogItemsSkipped>0&&(h.batchBuffer.push(Q(I(),"Lost "+h.nbrLogItemsSkipped+" messages. Either connection with the server was down or logging was disabled via the enabled option. Reduce lost messages by increasing the ajaxAppender option maxBatchSize.",h.appenderName)),h.nbrLogItemsSkipped=0),h.onSendingEnded.call(h)})}},m}();r.Appender=T;var V=function(m){A(h,m);function h(w){return m.call(this,w,h.prototype.sendLogItemsAjax)||this}return h.prototype.setOptions=function(w){return n("url",w,this),n("beforeSend",w,this),m.prototype.setOptions.call(this,w),this},h.prototype.sendLogItemsAjax=function(w,_){try{if(!i(this))return;this.xhr&&this.xhr.readyState!=0&&this.xhr.readyState!=4&&this.xhr.abort(),this.xhr=r._createXMLHttpRequest();var x="/jsnlog.logger";r.defaultAjaxUrl!=null&&(x=r.defaultAjaxUrl),this.url&&(x=this.url),this.xhr.open("POST",x),this.xhr.setRequestHeader("Content-Type","application/json"),this.xhr.setRequestHeader("JSNLog-RequestId",r.requestId);var N=this;this.xhr.onreadystatechange=function(){N.xhr.readyState==4&&N.xhr.status>=200&&N.xhr.status<300&&_()};var P={r:r.requestId,lg:w};typeof this.beforeSend=="function"?this.beforeSend.call(this,this.xhr,P):typeof r.defaultBeforeSend=="function"&&r.defaultBeforeSend.call(this,this.xhr,P);var Z=JSON.stringify(P);this.xhr.send(Z)}catch{}},h}(T);r.AjaxAppender=V;var M=function(m){A(h,m);function h(w){return m.call(this,w,h.prototype.sendLogItemsConsole)||this}return h.prototype.clog=function(w){r._console.log(w)},h.prototype.cerror=function(w){r._console.error?r._console.error(w):this.clog(w)},h.prototype.cwarn=function(w){r._console.warn?r._console.warn(w):this.clog(w)},h.prototype.cinfo=function(w){r._console.info?r._console.info(w):this.clog(w)},h.prototype.cdebug=function(w){r._console.debug?r._console.debug(w):this.cinfo(w)},h.prototype.sendLogItemsConsole=function(w,_){try{if(!i(this)||!r._console)return;var x;for(x=0;x<w.length;++x){var N=w[x],P=N.n+": "+N.m;typeof window>"u"&&(P=new Date(N.t)+" | "+P),N.l<=r.getDebugLevel()?this.cdebug(P):N.l<=r.getInfoLevel()?this.cinfo(P):N.l<=r.getWarnLevel()?this.cwarn(P):this.cerror(P)}}catch{}_()},h}(T);r.ConsoleAppender=M;var k=function(){function m(h){this.loggerName=h,this.seenRegexes=[]}return m.prototype.setOptions=function(h){return n("level",h,this),n("userAgentRegex",h,this),n("disallow",h,this),n("ipRegex",h,this),n("appenders",h,this),n("onceOnly",h,this),this.seenRegexes=[],this},m.prototype.buildExceptionObject=function(h){var w={};return h.stack?w.stack=h.stack:w.e=h,h.message&&(w.message=h.message),h.name&&(w.name=h.name),h.data&&(w.data=h.data),h.inner&&(w.inner=this.buildExceptionObject(h.inner)),w},m.prototype.log=function(h,w,_){var x=0,N,P;if(!this.appenders)return this;if(h>=this.level&&i(this)&&(_?(P=this.buildExceptionObject(_),P.logData=s(w)):P=w,N=c(P),o(this,N.finalString))){if(this.onceOnly)for(x=this.onceOnly.length-1;x>=0;){if(new RegExp(this.onceOnly[x]).test(N.finalString)){if(this.seenRegexes[x])return this;this.seenRegexes[x]=!0}x--}for(N.meta=N.meta||{},x=this.appenders.length-1;x>=0;)this.appenders[x].log(O(h),N.msg,N.meta,function(){},h,N.finalString,this.loggerName),x--}return this},m.prototype.trace=function(h){return this.log(f(),h)},m.prototype.debug=function(h){return this.log(E(),h)},m.prototype.info=function(h){return this.log(C(),h)},m.prototype.warn=function(h){return this.log(I(),h)},m.prototype.error=function(h){return this.log(y(),h)},m.prototype.fatal=function(h){return this.log(p(),h)},m.prototype.fatalException=function(h,w){return this.log(p(),h,w)},m}();r.Logger=k;function d(m){return new V(m)}r.createAjaxAppender=d;function v(m){return new M(m)}r.createConsoleAppender=v;var L;typeof window<"u"?L=new V(""):L=new M(""),r.__=new r.Logger(""),r.__.setOptions({level:r.getDebugLevel(),appenders:[L]})})(e||(e={})),t.__esModule=!0,t.JL=e,typeof __jsnlog_configure=="function"&&__jsnlog_configure(e),typeof window<"u"&&!window.onerror&&(window.onerror=function(r,n,i,o,s){return e("onerrorLogger").fatalException({msg:"Uncaught Exception",errorMsg:r?r.message||r:"",url:n,"line number":i,column:o},s),!1}),typeof window<"u"&&!window.onunhandledrejection&&(window.onunhandledrejection=function(r){e("onerrorLogger").fatalException({msg:"unhandledrejection",errorMsg:r.reason?r.reason.message:r.message||null},r.reason)})})(_a);var qi={},vn={},Oa={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.LocalRecorderState=void 0,function(A){A.READY="READY",A.RECORDING="RECORDING",A.PAUSED="PAUSED",A.FINISHED="FINISHED"}(t.LocalRecorderState||(t.LocalRecorderState={}))})(Oa);var VA={},Zi={};Object.defineProperty(Zi,"__esModule",{value:!0});Zi.ConsoleLogger=void 0;var Wv=function(){function t(A){this.logger=A,this.log=A.log,this.info=A.info,this.debug=A.debug,this.warn=A.warn,this.error=A.error}return t}();Zi.ConsoleLogger=Wv;var xa={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.OpenViduLoggerConfiguration=void 0,function(A){A.disabled="disabled",A.debug="debug",A.debug_app="debug_app"}(t.OpenViduLoggerConfiguration||(t.OpenViduLoggerConfiguration={}))})(xa);Object.defineProperty(VA,"__esModule",{value:!0});VA.OpenViduLogger=void 0;var ve=_a,Xv=Zi,Wo=xa,jv=function(){function t(){this.JSNLOG_URL="/openvidu/elk/openvidu-browser-logs",this.MAX_JSNLOG_BATCH_LOG_MESSAGES=100,this.MAX_MSECONDS_BATCH_MESSAGES=5e3,this.MAX_LENGTH_STRING_JSON=1e3,this.defaultConsoleLogger=new Xv.ConsoleLogger(globalThis.console),this.isProdMode=!1,this.isJSNLogSetup=!1}return t.configureJSNLog=function(A,e){var r=this;try{if(globalThis.LOG_JSNLOG_RESULTS||this.instance&&A.isAtLeastPro&&this.instance.isOpenViduBrowserLogsDebugActive(A)&&this.instance.canConfigureJSNLog(A,this.instance)){A.sendBrowserLogs===Wo.OpenViduLoggerConfiguration.debug_app&&this.instance.replaceWindowConsole(),this.instance.isJSNLogSetup=!1,this.instance.info("Configuring JSNLogs.");var n=A.finalUserId,i=A.session.sessionId,o=function(a){var c=a.onreadystatechange;a.onreadystatechange=function(){r.isInvalidResponse(a)&&(Object.defineProperty(a,"readyState",{value:4}),Object.defineProperty(a,"status",{value:200}),r.instance.disableLogger()),c()},a.setRequestHeader("Authorization","Basic "+btoa("".concat(n,"%/%").concat(i)+":"+e)),a.setRequestHeader("X-Requested-With","XMLHttpRequest"),a.setRequestHeader("OV-Final-User-Id",n),a.setRequestHeader("OV-Session-Id",i),a.setRequestHeader("OV-Token",e)};this.instance.currentAppender=ve.JL.createAjaxAppender("appender-".concat(n,"-").concat(i)),this.instance.currentAppender.setOptions({beforeSend:o,maxBatchSize:1e3,batchSize:this.instance.MAX_JSNLOG_BATCH_LOG_MESSAGES,batchTimeout:this.instance.MAX_MSECONDS_BATCH_MESSAGES});var s=function(a){var c=function(){var u=new WeakSet;return function(f,E){if(typeof E=="object"&&E!=null){if(u.has(E)||globalThis.HTMLElement&&E instanceof HTMLElement)return;u.add(E)}return E}},l=JSON.stringify(a,c());return l.length>r.instance.MAX_LENGTH_STRING_JSON&&(l="".concat(l.substring(0,r.instance.MAX_LENGTH_STRING_JSON),"...")),globalThis.LOG_JSNLOG_RESULTS&&console.log(l),l};ve.JL.setOptions({defaultAjaxUrl:A.httpUri+this.instance.JSNLOG_URL,serialize:s,enabled:!0}),(0,ve.JL)().setOptions({appenders:[this.instance.currentAppender]}),this.instance.isJSNLogSetup=!0,this.instance.loggingSessionId=i,this.instance.info("JSNLog configured.")}}catch(a){console.error("Error configuring JSNLog: "),console.error(a),this.instance.disableLogger()}},t.getInstance=function(){return t.instance||(t.instance=new t),t.instance},t.isInvalidResponse=function(A){return A.status==401||A.status==403||A.status==404||A.status==0},t.prototype.canConfigureJSNLog=function(A,e){return A.session.sessionId!=e.loggingSessionId},t.prototype.isOpenViduBrowserLogsDebugActive=function(A){return A.sendBrowserLogs===Wo.OpenViduLoggerConfiguration.debug||A.sendBrowserLogs===Wo.OpenViduLoggerConfiguration.debug_app},t.prototype.getConsoleWithJSNLog=function(){return function(A){return{log:function(){A.defaultConsoleLogger.log.apply(A.defaultConsoleLogger.logger,arguments),A.isJSNLogSetup&&(0,ve.JL)().info(arguments)},info:function(){A.defaultConsoleLogger.info.apply(A.defaultConsoleLogger.logger,arguments),A.isJSNLogSetup&&(0,ve.JL)().info(arguments)},debug:function(){A.defaultConsoleLogger.debug.apply(A.defaultConsoleLogger.logger,arguments)},warn:function(){A.defaultConsoleLogger.warn.apply(A.defaultConsoleLogger.logger,arguments),A.isJSNLogSetup&&(0,ve.JL)().warn(arguments)},error:function(){A.defaultConsoleLogger.error.apply(A.defaultConsoleLogger.logger,arguments),A.isJSNLogSetup&&(0,ve.JL)().error(arguments)}}}(this)},t.prototype.replaceWindowConsole=function(){globalThis.console=this.defaultConsoleLogger.logger,globalThis.console.log=this.getConsoleWithJSNLog().log,globalThis.console.info=this.getConsoleWithJSNLog().info,globalThis.console.debug=this.getConsoleWithJSNLog().debug,globalThis.console.warn=this.getConsoleWithJSNLog().warn,globalThis.console.error=this.getConsoleWithJSNLog().error},t.prototype.disableLogger=function(){ve.JL.setOptions({enabled:!1}),this.isJSNLogSetup=!1,this.loggingSessionId=void 0,this.currentAppender=void 0,globalThis.console=this.defaultConsoleLogger.logger,globalThis.console.log=this.defaultConsoleLogger.log,globalThis.console.info=this.defaultConsoleLogger.info,globalThis.console.debug=this.defaultConsoleLogger.debug,globalThis.console.warn=this.defaultConsoleLogger.warn,globalThis.console.error=this.defaultConsoleLogger.error},t.prototype.log=function(){this.isProdMode||this.defaultConsoleLogger.log.apply(this.defaultConsoleLogger.logger,arguments),this.isJSNLogSetup&&(0,ve.JL)().info(arguments)},t.prototype.debug=function(){this.isProdMode||this.defaultConsoleLogger.debug.apply(this.defaultConsoleLogger.logger,arguments)},t.prototype.info=function(){this.isProdMode||this.defaultConsoleLogger.info.apply(this.defaultConsoleLogger.logger,arguments),this.isJSNLogSetup&&(0,ve.JL)().info(arguments)},t.prototype.warn=function(){this.defaultConsoleLogger.warn.apply(this.defaultConsoleLogger.logger,arguments),this.isJSNLogSetup&&(0,ve.JL)().warn(arguments)},t.prototype.error=function(){this.defaultConsoleLogger.error.apply(this.defaultConsoleLogger.logger,arguments),this.isJSNLogSetup&&(0,ve.JL)().error(arguments)},t.prototype.flush=function(){this.isJSNLogSetup&&this.currentAppender!=null&&this.currentAppender.sendBatch()},t.prototype.enableProdMode=function(){this.isProdMode=!0},t}();VA.OpenViduLogger=jv;var _e={},Fi={exports:{}};/*!
 * Platform.js v1.3.6
 * Copyright 2014-2020 Benjamin Tan
 * Copyright 2011-2013 John-David Dalton
 * Available under MIT license
 */Fi.exports;(function(t,A){(function(){var e={function:!0,object:!0},r=e[typeof window]&&window||this,n=A,i=t&&!t.nodeType&&t,o=n&&i&&typeof D=="object"&&D;o&&(o.global===o||o.window===o||o.self===o)&&(r=o);var s=Math.pow(2,53)-1,a=/\bOpera/,c=Object.prototype,l=c.hasOwnProperty,u=c.toString;function f(g){return g=String(g),g.charAt(0).toUpperCase()+g.slice(1)}function E(g,T,V){var M={"10.0":"10","6.4":"10 Technical Preview","6.3":"8.1","6.2":"8","6.1":"Server 2008 R2 / 7","6.0":"Server 2008 / Vista","5.2":"Server 2003 / XP 64-bit","5.1":"XP","5.01":"2000 SP1","5.0":"2000","4.0":"NT","4.90":"ME"};return T&&V&&/^Win/i.test(g)&&!/^Windows Phone /i.test(g)&&(M=M[/[\d.]+$/.exec(g)])&&(g="Windows "+M),g=String(g),T&&V&&(g=g.replace(RegExp(T,"i"),V)),g=I(g.replace(/ ce$/i," CE").replace(/\bhpw/i,"web").replace(/\bMacintosh\b/,"Mac OS").replace(/_PowerPC\b/i," OS").replace(/\b(OS X) [^ \d]+/i,"$1").replace(/\bMac (OS X)\b/,"$1").replace(/\/(\d)/," $1").replace(/_/g,".").replace(/(?: BePC|[ .]*fc[ \d.]+)$/i,"").replace(/\bx86\.64\b/gi,"x86_64").replace(/\b(Windows Phone) OS\b/,"$1").replace(/\b(Chrome OS \w+) [\d.]+\b/,"$1").split(" on ")[0]),g}function C(g,T){var V=-1,M=g?g.length:0;if(typeof M=="number"&&M>-1&&M<=s)for(;++V<M;)T(g[V],V,g);else y(g,T)}function I(g){return g=b(g),/^(?:webOS|i(?:OS|P))/.test(g)?g:f(g)}function y(g,T){for(var V in g)l.call(g,V)&&T(g[V],V,g)}function p(g){return g==null?f(g):u.call(g).slice(8,-1)}function U(g,T){var V=g!=null?typeof g[T]:"number";return!/^(?:boolean|number|string|undefined)$/.test(V)&&(V=="object"?!!g[T]:!0)}function O(g){return String(g).replace(/([ -])(?!$)/g,"$1?")}function B(g,T){var V=null;return C(g,function(M,k){V=T(V,M,k,g)}),V}function b(g){return String(g).replace(/^ +| +$/g,"")}function Q(g){var T=r,V=g&&typeof g=="object"&&p(g)!="String";V&&(T=g,g=null);var M=T.navigator||{},k=M.userAgent||"";g||(g=k);var d=V?!!M.likeChrome:/\bChrome\b/.test(g)&&!/internal|\n/i.test(u.toString()),v="Object",L=V?v:"ScriptBridgingProxyObject",m=V?v:"Environment",h=V&&T.java?"JavaPackage":p(T.java),w=V?v:"RuntimeObject",_=/\bJava/.test(h)&&T.java,x=_&&p(T.environment)==m,N=_?"a":"α",P=_?"b":"β",Z=T.document||{},X=T.operamini||T.opera,oA=a.test(oA=V&&X?X["[[Class]]"]:p(X))?oA:X=null,H,sA=g,iA=[],bA=null,QA=g==k,$=QA&&X&&typeof X.version=="function"&&X.version(),gA,W=Tn([{label:"EdgeHTML",pattern:"Edge"},"Trident",{label:"WebKit",pattern:"AppleWebKit"},"iCab","Presto","NetFront","Tasman","KHTML","Gecko"]),K=So(["Adobe AIR","Arora","Avant Browser","Breach","Camino","Electron","Epiphany","Fennec","Flock","Galeon","GreenBrowser","iCab","Iceweasel","K-Meleon","Konqueror","Lunascape","Maxthon",{label:"Microsoft Edge",pattern:"(?:Edge|Edg|EdgA|EdgiOS)"},"Midori","Nook Browser","PaleMoon","PhantomJS","Raven","Rekonq","RockMelt",{label:"Samsung Internet",pattern:"SamsungBrowser"},"SeaMonkey",{label:"Silk",pattern:"(?:Cloud9|Silk-Accelerated)"},"Sleipnir","SlimBrowser",{label:"SRWare Iron",pattern:"Iron"},"Sunrise","Swiftfox","Vivaldi","Waterfox","WebPositive",{label:"Yandex Browser",pattern:"YaBrowser"},{label:"UC Browser",pattern:"UCBrowser"},"Opera Mini",{label:"Opera Mini",pattern:"OPiOS"},"Opera",{label:"Opera",pattern:"OPR"},"Chromium","Chrome",{label:"Chrome",pattern:"(?:HeadlessChrome)"},{label:"Chrome Mobile",pattern:"(?:CriOS|CrMo)"},{label:"Firefox",pattern:"(?:Firefox|Minefield)"},{label:"Firefox for iOS",pattern:"FxiOS"},{label:"IE",pattern:"IEMobile"},{label:"IE",pattern:"MSIE"},"Safari"]),rA=Ln([{label:"BlackBerry",pattern:"BB10"},"BlackBerry",{label:"Galaxy S",pattern:"GT-I9000"},{label:"Galaxy S2",pattern:"GT-I9100"},{label:"Galaxy S3",pattern:"GT-I9300"},{label:"Galaxy S4",pattern:"GT-I9500"},{label:"Galaxy S5",pattern:"SM-G900"},{label:"Galaxy S6",pattern:"SM-G920"},{label:"Galaxy S6 Edge",pattern:"SM-G925"},{label:"Galaxy S7",pattern:"SM-G930"},{label:"Galaxy S7 Edge",pattern:"SM-G935"},"Google TV","Lumia","iPad","iPod","iPhone","Kindle",{label:"Kindle Fire",pattern:"(?:Cloud9|Silk-Accelerated)"},"Nexus","Nook","PlayBook","PlayStation Vita","PlayStation","TouchPad","Transformer",{label:"Wii U",pattern:"WiiU"},"Wii","Xbox One",{label:"Xbox 360",pattern:"Xbox"},"Xoom"]),hA=Hn({Apple:{iPad:1,iPhone:1,iPod:1},Alcatel:{},Archos:{},Amazon:{Kindle:1,"Kindle Fire":1},Asus:{Transformer:1},"Barnes & Noble":{Nook:1},BlackBerry:{PlayBook:1},Google:{"Google TV":1,Nexus:1},HP:{TouchPad:1},HTC:{},Huawei:{},Lenovo:{},LG:{},Microsoft:{Xbox:1,"Xbox One":1},Motorola:{Xoom:1},Nintendo:{"Wii U":1,Wii:1},Nokia:{Lumia:1},Oppo:{},Samsung:{"Galaxy S":1,"Galaxy S2":1,"Galaxy S3":1,"Galaxy S4":1},Sony:{PlayStation:1,"PlayStation Vita":1},Xiaomi:{Mi:1,Redmi:1}}),z=Io(["Windows Phone","KaiOS","Android","CentOS",{label:"Chrome OS",pattern:"CrOS"},"Debian",{label:"DragonFly BSD",pattern:"DragonFly"},"Fedora","FreeBSD","Gentoo","Haiku","Kubuntu","Linux Mint","OpenBSD","Red Hat","SuSE","Ubuntu","Xubuntu","Cygwin","Symbian OS","hpwOS","webOS ","webOS","Tablet OS","Tizen","Linux","Mac OS X","Macintosh","Mac","Windows 98;","Windows "]);function Tn(NA){return B(NA,function(SA,vA){return SA||RegExp("\\b"+(vA.pattern||O(vA))+"\\b","i").exec(g)&&(vA.label||vA)})}function Hn(NA){return B(NA,function(SA,vA,fe){return SA||(vA[rA]||vA[/^[a-z]+(?: +[a-z]+\b)*/i.exec(rA)]||RegExp("\\b"+O(fe)+"(?:\\b|\\w*\\d)","i").exec(g))&&fe})}function So(NA){return B(NA,function(SA,vA){return SA||RegExp("\\b"+(vA.pattern||O(vA))+"\\b","i").exec(g)&&(vA.label||vA)})}function Io(NA){return B(NA,function(SA,vA){var fe=vA.pattern||O(vA);return!SA&&(SA=RegExp("\\b"+fe+"(?:/[\\d.]+|[ \\w.]*)","i").exec(g))&&(SA=E(SA,fe,vA.label||vA)),SA})}function Ln(NA){return B(NA,function(SA,vA){var fe=vA.pattern||O(vA);return!SA&&(SA=RegExp("\\b"+fe+" *\\d+[.\\w_]*","i").exec(g)||RegExp("\\b"+fe+" *\\w+-[\\w]*","i").exec(g)||RegExp("\\b"+fe+"(?:; *(?:[a-z]+[_-])?[a-z]+\\d+|[^ ();-]*)","i").exec(g))&&((SA=String(vA.label&&!RegExp(fe,"i").test(vA.label)?vA.label:SA).split("/"))[1]&&!/[\d.]+/.test(SA[0])&&(SA[0]+=" "+SA[1]),vA=vA.label||vA,SA=I(SA[0].replace(RegExp(fe,"i"),vA).replace(RegExp("; *(?:"+vA+"[_-])?","i")," ").replace(RegExp("("+vA+")[-_.]?(\\w)","i"),"$1 $2"))),SA})}function Rn(NA){return B(NA,function(SA,vA){return SA||(RegExp(vA+"(?:-[\\d.]+/|(?: for [\\w-]+)?[ /-])([\\d.]+[^ ();/_-]*)","i").exec(g)||0)[1]||null})}function _o(){return this.description||""}if(W&&(W=[W]),/\bAndroid\b/.test(z)&&!rA&&(H=/\bAndroid[^;]*;(.*?)(?:Build|\) AppleWebKit)\b/i.exec(g))&&(rA=b(H[1]).replace(/^[a-z]{2}-[a-z]{2};\s*/i,"")||null),hA&&!rA?rA=Ln([hA]):hA&&rA&&(rA=rA.replace(RegExp("^("+O(hA)+")[-_.\\s]","i"),hA+" ").replace(RegExp("^("+O(hA)+")[-_.]?(\\w)","i"),hA+" $2")),(H=/\bGoogle TV\b/.exec(rA))&&(rA=H[0]),/\bSimulator\b/i.test(g)&&(rA=(rA?rA+" ":"")+"Simulator"),K=="Opera Mini"&&/\bOPiOS\b/.test(g)&&iA.push("running in Turbo/Uncompressed mode"),K=="IE"&&/\blike iPhone OS\b/.test(g)?(H=Q(g.replace(/like iPhone OS/,"")),hA=H.manufacturer,rA=H.product):/^iP/.test(rA)?(K||(K="Safari"),z="iOS"+((H=/ OS ([\d_]+)/i.exec(g))?" "+H[1].replace(/_/g,"."):"")):K=="Konqueror"&&/^Linux\b/i.test(z)?z="Kubuntu":hA&&hA!="Google"&&(/Chrome/.test(K)&&!/\bMobile Safari\b/i.test(g)||/\bVita\b/.test(rA))||/\bAndroid\b/.test(z)&&/^Chrome/.test(K)&&/\bVersion\//i.test(g)?(K="Android Browser",z=/\bAndroid\b/.test(z)?z:"Android"):K=="Silk"?(/\bMobi/i.test(g)||(z="Android",iA.unshift("desktop mode")),/Accelerated *= *true/i.test(g)&&iA.unshift("accelerated")):K=="UC Browser"&&/\bUCWEB\b/.test(g)?iA.push("speed mode"):K=="PaleMoon"&&(H=/\bFirefox\/([\d.]+)\b/.exec(g))?iA.push("identifying as Firefox "+H[1]):K=="Firefox"&&(H=/\b(Mobile|Tablet|TV)\b/i.exec(g))?(z||(z="Firefox OS"),rA||(rA=H[1])):!K||(H=!/\bMinefield\b/i.test(g)&&/\b(?:Firefox|Safari)\b/.exec(K))?(K&&!rA&&/[\/,]|^[^(]+?\)/.test(g.slice(g.indexOf(H+"/")+8))&&(K=null),(H=rA||hA||z)&&(rA||hA||/\b(?:Android|Symbian OS|Tablet OS|webOS)\b/.test(z))&&(K=/[a-z]+(?: Hat)?/i.exec(/\bAndroid\b/.test(z)?z:H)+" Browser")):K=="Electron"&&(H=(/\bChrome\/([\d.]+)\b/.exec(g)||0)[1])&&iA.push("Chromium "+H),$||($=Rn(["(?:Cloud9|CriOS|CrMo|Edge|Edg|EdgA|EdgiOS|FxiOS|HeadlessChrome|IEMobile|Iron|Opera ?Mini|OPiOS|OPR|Raven|SamsungBrowser|Silk(?!/[\\d.]+$)|UCBrowser|YaBrowser)","Version",O(K),"(?:Firefox|Minefield|NetFront)"])),(H=W=="iCab"&&parseFloat($)>3&&"WebKit"||/\bOpera\b/.test(K)&&(/\bOPR\b/.test(g)?"Blink":"Presto")||/\b(?:Midori|Nook|Safari)\b/i.test(g)&&!/^(?:Trident|EdgeHTML)$/.test(W)&&"WebKit"||!W&&/\bMSIE\b/i.test(g)&&(z=="Mac OS"?"Tasman":"Trident")||W=="WebKit"&&/\bPlayStation\b(?! Vita\b)/i.test(K)&&"NetFront")&&(W=[H]),K=="IE"&&(H=(/; *(?:XBLWP|ZuneWP)(\d+)/i.exec(g)||0)[1])?(K+=" Mobile",z="Windows Phone "+(/\+$/.test(H)?H:H+".x"),iA.unshift("desktop mode")):/\bWPDesktop\b/i.test(g)?(K="IE Mobile",z="Windows Phone 8.x",iA.unshift("desktop mode"),$||($=(/\brv:([\d.]+)/.exec(g)||0)[1])):K!="IE"&&W=="Trident"&&(H=/\brv:([\d.]+)/.exec(g))&&(K&&iA.push("identifying as "+K+($?" "+$:"")),K="IE",$=H[1]),QA){if(U(T,"global"))if(_&&(H=_.lang.System,sA=H.getProperty("os.arch"),z=z||H.getProperty("os.name")+" "+H.getProperty("os.version")),x){try{$=T.require("ringo/engine").version.join("."),K="RingoJS"}catch{(H=T.system)&&H.global.system==T.system&&(K="Narwhal",z||(z=H[0].os||null))}K||(K="Rhino")}else typeof T.process=="object"&&!T.process.browser&&(H=T.process)&&(typeof H.versions=="object"&&(typeof H.versions.electron=="string"?(iA.push("Node "+H.versions.node),K="Electron",$=H.versions.electron):typeof H.versions.nw=="string"&&(iA.push("Chromium "+$,"Node "+H.versions.node),K="NW.js",$=H.versions.nw)),K||(K="Node.js",sA=H.arch,z=H.platform,$=/[\d.]+/.exec(H.version),$=$?$[0]:null));else p(H=T.runtime)==L?(K="Adobe AIR",z=H.flash.system.Capabilities.os):p(H=T.phantom)==w?(K="PhantomJS",$=(H=H.version||null)&&H.major+"."+H.minor+"."+H.patch):typeof Z.documentMode=="number"&&(H=/\bTrident\/(\d+)/i.exec(g))?($=[$,Z.documentMode],(H=+H[1]+4)!=$[1]&&(iA.push("IE "+$[1]+" mode"),W&&(W[1]=""),$[1]=H),$=K=="IE"?String($[1].toFixed(1)):$[0]):typeof Z.documentMode=="number"&&/^(?:Chrome|Firefox)\b/.test(K)&&(iA.push("masking as "+K+" "+$),K="IE",$="11.0",W=["Trident"],z="Windows");z=z&&I(z)}if($&&(H=/(?:[ab]|dp|pre|[ab]\d+pre)(?:\d+\+?)?$/i.exec($)||/(?:alpha|beta)(?: ?\d)?/i.exec(g+";"+(QA&&M.appMinorVersion))||/\bMinefield\b/i.test(g)&&"a")&&(bA=/b/i.test(H)?"beta":"alpha",$=$.replace(RegExp(H+"\\+?$"),"")+(bA=="beta"?P:N)+(/\d+\+?/.exec(H)||"")),K=="Fennec"||K=="Firefox"&&/\b(?:Android|Firefox OS|KaiOS)\b/.test(z))K="Firefox Mobile";else if(K=="Maxthon"&&$)$=$.replace(/\.[\d.]+/,".x");else if(/\bXbox\b/i.test(rA))rA=="Xbox 360"&&(z=null),rA=="Xbox 360"&&/\bIEMobile\b/.test(g)&&iA.unshift("mobile mode");else if((/^(?:Chrome|IE|Opera)$/.test(K)||K&&!rA&&!/Browser|Mobi/.test(K))&&(z=="Windows CE"||/Mobi/i.test(g)))K+=" Mobile";else if(K=="IE"&&QA)try{T.external===null&&iA.unshift("platform preview")}catch{iA.unshift("embedded")}else(/\bBlackBerry\b/.test(rA)||/\bBB10\b/.test(g))&&(H=(RegExp(rA.replace(/ +/g," *")+"/([.\\d]+)","i").exec(g)||0)[1]||$)?(H=[H,/BB10/.test(g)],z=(H[1]?(rA=null,hA="BlackBerry"):"Device Software")+" "+H[0],$=null):this!=y&&rA!="Wii"&&(QA&&X||/Opera/.test(K)&&/\b(?:MSIE|Firefox)\b/i.test(g)||K=="Firefox"&&/\bOS X (?:\d+\.){2,}/.test(z)||K=="IE"&&(z&&!/^Win/.test(z)&&$>5.5||/\bWindows XP\b/.test(z)&&$>8||$==8&&!/\bTrident\b/.test(g)))&&!a.test(H=Q.call(y,g.replace(a,"")+";"))&&H.name&&(H="ing as "+H.name+((H=H.version)?" "+H:""),a.test(K)?(/\bIE\b/.test(H)&&z=="Mac OS"&&(z=null),H="identify"+H):(H="mask"+H,oA?K=I(oA.replace(/([a-z])([A-Z])/g,"$1 $2")):K="Opera",/\bIE\b/.test(H)&&(z=null),QA||($=null)),W=["Presto"],iA.push(H));(H=(/\bAppleWebKit\/([\d.]+\+?)/i.exec(g)||0)[1])&&(H=[parseFloat(H.replace(/\.(\d)$/,".0$1")),H],K=="Safari"&&H[1].slice(-1)=="+"?(K="WebKit Nightly",bA="alpha",$=H[1].slice(0,-1)):($==H[1]||$==(H[2]=(/\bSafari\/([\d.]+\+?)/i.exec(g)||0)[1]))&&($=null),H[1]=(/\b(?:Headless)?Chrome\/([\d.]+)/i.exec(g)||0)[1],H[0]==537.36&&H[2]==537.36&&parseFloat(H[1])>=28&&W=="WebKit"&&(W=["Blink"]),!QA||!d&&!H[1]?(W&&(W[1]="like Safari"),H=(H=H[0],H<400?1:H<500?2:H<526?3:H<533?4:H<534?"4+":H<535?5:H<537?6:H<538?7:H<601?8:H<602?9:H<604?10:H<606?11:H<608?12:"12")):(W&&(W[1]="like Chrome"),H=H[1]||(H=H[0],H<530?1:H<532?2:H<532.05?3:H<533?4:H<534.03?5:H<534.07?6:H<534.1?7:H<534.13?8:H<534.16?9:H<534.24?10:H<534.3?11:H<535.01?12:H<535.02?"13+":H<535.07?15:H<535.11?16:H<535.19?17:H<536.05?18:H<536.1?19:H<537.01?20:H<537.11?"21+":H<537.13?23:H<537.18?24:H<537.24?25:H<537.36?26:W!="Blink"?"27":"28")),W&&(W[1]+=" "+(H+=typeof H=="number"?".x":/[.+]/.test(H)?"":"+")),K=="Safari"&&(!$||parseInt($)>45)?$=H:K=="Chrome"&&/\bHeadlessChrome/i.test(g)&&iA.unshift("headless")),K=="Opera"&&(H=/\bzbov|zvav$/.exec(z))?(K+=" ",iA.unshift("desktop mode"),H=="zvav"?(K+="Mini",$=null):K+="Mobile",z=z.replace(RegExp(" *"+H+"$"),"")):K=="Safari"&&/\bChrome\b/.exec(W&&W[1])?(iA.unshift("desktop mode"),K="Chrome Mobile",$=null,/\bOS X\b/.test(z)?(hA="Apple",z="iOS 4.3+"):z=null):/\bSRWare Iron\b/.test(K)&&!$&&($=Rn("Chrome")),$&&$.indexOf(H=/[\d.]+$/.exec(z))==0&&g.indexOf("/"+H+"-")>-1&&(z=b(z.replace(H,""))),z&&z.indexOf(K)!=-1&&!RegExp(K+" OS").test(z)&&(z=z.replace(RegExp(" *"+O(K)+" *"),"")),W&&!/\b(?:Avant|Nook)\b/.test(K)&&(/Browser|Lunascape|Maxthon/.test(K)||K!="Safari"&&/^iOS/.test(z)&&/\bSafari\b/.test(W[1])||/^(?:Adobe|Arora|Breach|Midori|Opera|Phantom|Rekonq|Rock|Samsung Internet|Sleipnir|SRWare Iron|Vivaldi|Web)/.test(K)&&W[1])&&(H=W[W.length-1])&&iA.push(H),iA.length&&(iA=["("+iA.join("; ")+")"]),hA&&rA&&rA.indexOf(hA)<0&&iA.push("on "+hA),rA&&iA.push((/^on /.test(iA[iA.length-1])?"":"on ")+rA),z&&(H=/ ([\d.+]+)$/.exec(z),gA=H&&z.charAt(z.length-H[0].length-1)=="/",z={architecture:32,family:H&&!gA?z.replace(H[0],""):z,version:H?H[1]:null,toString:function(){var NA=this.version;return this.family+(NA&&!gA?" "+NA:"")+(this.architecture==64?" 64-bit":"")}}),(H=/\b(?:AMD|IA|Win|WOW|x86_|x)64\b/i.exec(sA))&&!/\bi686\b/i.test(sA)?(z&&(z.architecture=64,z.family=z.family.replace(RegExp(" *"+H),"")),K&&(/\bWOW64\b/i.test(g)||QA&&/\w(?:86|32)$/.test(M.cpuClass||M.platform)&&!/\bWin64; x64\b/i.test(g))&&iA.unshift("32-bit")):z&&/^OS X/.test(z.family)&&K=="Chrome"&&parseFloat($)>=39&&(z.architecture=64),g||(g=null);var kA={};return kA.description=g,kA.layout=W&&W[0],kA.manufacturer=hA,kA.name=K,kA.prerelease=bA,kA.product=rA,kA.ua=g,kA.version=K&&$,kA.os=z||{architecture:null,family:null,version:null,toString:function(){return"null"}},kA.parse=Q,kA.toString=_o,kA.version&&iA.unshift($),kA.name&&iA.unshift(K),z&&K&&!(z==String(z).split(" ")[0]&&(z==K.split(" ")[0]||rA))&&iA.push(rA?"("+z+")":"on "+z),iA.length&&(kA.description=iA.join(" ")),kA}var R=Q();n&&i?y(R,function(g,T){n[T]=g}):r.platform=R}).call(D)})(Fi,Fi.exports);var Jv=Fi.exports;Object.defineProperty(_e,"__esModule",{value:!0});_e.PlatformUtils=void 0;var lA=Jv,Yv=function(){function t(){}return t.getInstance=function(){return this.instance||(this.instance=new t),t.instance},t.prototype.isChromeBrowser=function(){return lA.name==="Chrome"},t.prototype.isSafariBrowser=function(){return lA.name==="Safari"},t.prototype.isChromeMobileBrowser=function(){return lA.name==="Chrome Mobile"},t.prototype.isFirefoxBrowser=function(){return lA.name==="Firefox"},t.prototype.isFirefoxMobileBrowser=function(){return lA.name==="Firefox Mobile"||lA.name==="Firefox for iOS"},t.prototype.isOperaBrowser=function(){return lA.name==="Opera"},t.prototype.isOperaMobileBrowser=function(){return lA.name==="Opera Mobile"},t.prototype.isEdgeBrowser=function(){var A=lA!=null&&lA.version?parseFloat(lA.version):-1;return lA.name==="Microsoft Edge"&&A>=80},t.prototype.isEdgeMobileBrowser=function(){var A,e,r=lA!=null&&lA.version?parseFloat(lA.version):-1;return lA.name==="Microsoft Edge"&&(((A=lA.os)===null||A===void 0?void 0:A.family)==="Android"||((e=lA.os)===null||e===void 0?void 0:e.family)==="iOS")&&r>45},t.prototype.isAndroidBrowser=function(){return lA.name==="Android Browser"},t.prototype.isElectron=function(){return lA.name==="Electron"},t.prototype.isNodeJs=function(){return lA.name==="Node.js"},t.prototype.isSamsungBrowser=function(){return lA.name==="Samsung Internet Mobile"||lA.name==="Samsung Internet"},t.prototype.isMotorolaEdgeDevice=function(){var A;return((A=lA.product)===null||A===void 0?void 0:A.toLowerCase().includes("motorola edge"))||!1},t.prototype.isIPhoneOrIPad=function(){var A=lA.ua?lA.ua:navigator.userAgent,e="ontouchend"in document,r=/\b(\w*Macintosh\w*)\b/.test(A)&&e,n=/\b(\w*iPhone\w*)\b/.test(A)&&/\b(\w*Mobile\w*)\b/.test(A)&&e;return r||n},t.prototype.isIOSWithSafari=function(){var A=lA.ua?lA.ua:navigator.userAgent;return this.isIPhoneOrIPad()&&/\b(\w*Apple\w*)\b/.test(navigator.vendor)&&/\b(\w*Safari\w*)\b/.test(A)&&!/\b(\w*CriOS\w*)\b/.test(A)&&!/\b(\w*FxiOS\w*)\b/.test(A)},t.prototype.isIonicIos=function(){return this.isIPhoneOrIPad()&&lA.ua.indexOf("Safari")===-1},t.prototype.isIonicAndroid=function(){return lA.os.family==="Android"&&lA.name=="Android Browser"},t.prototype.isMobileDevice=function(){return lA.os.family==="iOS"||lA.os.family==="Android"},t.prototype.isReactNative=function(){return!1},t.prototype.isChromium=function(){return this.isChromeBrowser()||this.isChromeMobileBrowser()||this.isOperaBrowser()||this.isOperaMobileBrowser()||this.isEdgeBrowser()||this.isEdgeMobileBrowser()||this.isSamsungBrowser()||this.isIonicAndroid()||this.isIonicIos()||this.isElectron()||this.isMotorolaEdgeDevice()},t.prototype.canScreenShare=function(){var A=lA!=null&&lA.version?parseFloat(lA.version):-1;return this.isMobileDevice()?!1:this.isChromeBrowser()||this.isFirefoxBrowser()||this.isOperaBrowser()||this.isElectron()||this.isEdgeBrowser()||this.isSafariBrowser()&&A>=13},t.prototype.getName=function(){return lA.name||""},t.prototype.getVersion=function(){return lA.version||""},t.prototype.getFamily=function(){return lA.os.family||""},t.prototype.getDescription=function(){return lA.description||""},t}();_e.PlatformUtils=Yv;function zi(){this._types=Object.create(null),this._extensions=Object.create(null);for(let t=0;t<arguments.length;t++)this.define(arguments[t]);this.define=this.define.bind(this),this.getType=this.getType.bind(this),this.getExtension=this.getExtension.bind(this)}zi.prototype.define=function(t,A){for(let e in t){let r=t[e].map(function(n){return n.toLowerCase()});e=e.toLowerCase();for(let n=0;n<r.length;n++){const i=r[n];if(i[0]!=="*"){if(!A&&i in this._types)throw new Error('Attempt to change mapping for "'+i+'" extension from "'+this._types[i]+'" to "'+e+'". Pass `force=true` to allow this, otherwise remove "'+i+'" from the list of extensions for "'+e+'".');this._types[i]=e}}if(A||!this._extensions[e]){const n=r[0];this._extensions[e]=n[0]!=="*"?n:n.substr(1)}}};zi.prototype.getType=function(t){t=String(t);let A=t.replace(/^.*[/\\]/,"").toLowerCase(),e=A.replace(/^.*\./,"").toLowerCase(),r=A.length<t.length;return(e.length<A.length-1||!r)&&this._types[e]||null};zi.prototype.getExtension=function(t){return t=/^\s*([^;\s]*)/.test(t)&&RegExp.$1,t&&this._extensions[t.toLowerCase()]||null};var qv=zi,Zv={"application/andrew-inset":["ez"],"application/applixware":["aw"],"application/atom+xml":["atom"],"application/atomcat+xml":["atomcat"],"application/atomdeleted+xml":["atomdeleted"],"application/atomsvc+xml":["atomsvc"],"application/atsc-dwd+xml":["dwd"],"application/atsc-held+xml":["held"],"application/atsc-rsat+xml":["rsat"],"application/bdoc":["bdoc"],"application/calendar+xml":["xcs"],"application/ccxml+xml":["ccxml"],"application/cdfx+xml":["cdfx"],"application/cdmi-capability":["cdmia"],"application/cdmi-container":["cdmic"],"application/cdmi-domain":["cdmid"],"application/cdmi-object":["cdmio"],"application/cdmi-queue":["cdmiq"],"application/cu-seeme":["cu"],"application/dash+xml":["mpd"],"application/davmount+xml":["davmount"],"application/docbook+xml":["dbk"],"application/dssc+der":["dssc"],"application/dssc+xml":["xdssc"],"application/ecmascript":["es","ecma"],"application/emma+xml":["emma"],"application/emotionml+xml":["emotionml"],"application/epub+zip":["epub"],"application/exi":["exi"],"application/express":["exp"],"application/fdt+xml":["fdt"],"application/font-tdpfr":["pfr"],"application/geo+json":["geojson"],"application/gml+xml":["gml"],"application/gpx+xml":["gpx"],"application/gxf":["gxf"],"application/gzip":["gz"],"application/hjson":["hjson"],"application/hyperstudio":["stk"],"application/inkml+xml":["ink","inkml"],"application/ipfix":["ipfix"],"application/its+xml":["its"],"application/java-archive":["jar","war","ear"],"application/java-serialized-object":["ser"],"application/java-vm":["class"],"application/javascript":["js","mjs"],"application/json":["json","map"],"application/json5":["json5"],"application/jsonml+json":["jsonml"],"application/ld+json":["jsonld"],"application/lgr+xml":["lgr"],"application/lost+xml":["lostxml"],"application/mac-binhex40":["hqx"],"application/mac-compactpro":["cpt"],"application/mads+xml":["mads"],"application/manifest+json":["webmanifest"],"application/marc":["mrc"],"application/marcxml+xml":["mrcx"],"application/mathematica":["ma","nb","mb"],"application/mathml+xml":["mathml"],"application/mbox":["mbox"],"application/mediaservercontrol+xml":["mscml"],"application/metalink+xml":["metalink"],"application/metalink4+xml":["meta4"],"application/mets+xml":["mets"],"application/mmt-aei+xml":["maei"],"application/mmt-usd+xml":["musd"],"application/mods+xml":["mods"],"application/mp21":["m21","mp21"],"application/mp4":["mp4s","m4p"],"application/msword":["doc","dot"],"application/mxf":["mxf"],"application/n-quads":["nq"],"application/n-triples":["nt"],"application/node":["cjs"],"application/octet-stream":["bin","dms","lrf","mar","so","dist","distz","pkg","bpk","dump","elc","deploy","exe","dll","deb","dmg","iso","img","msi","msp","msm","buffer"],"application/oda":["oda"],"application/oebps-package+xml":["opf"],"application/ogg":["ogx"],"application/omdoc+xml":["omdoc"],"application/onenote":["onetoc","onetoc2","onetmp","onepkg"],"application/oxps":["oxps"],"application/p2p-overlay+xml":["relo"],"application/patch-ops-error+xml":["xer"],"application/pdf":["pdf"],"application/pgp-encrypted":["pgp"],"application/pgp-signature":["asc","sig"],"application/pics-rules":["prf"],"application/pkcs10":["p10"],"application/pkcs7-mime":["p7m","p7c"],"application/pkcs7-signature":["p7s"],"application/pkcs8":["p8"],"application/pkix-attr-cert":["ac"],"application/pkix-cert":["cer"],"application/pkix-crl":["crl"],"application/pkix-pkipath":["pkipath"],"application/pkixcmp":["pki"],"application/pls+xml":["pls"],"application/postscript":["ai","eps","ps"],"application/provenance+xml":["provx"],"application/pskc+xml":["pskcxml"],"application/raml+yaml":["raml"],"application/rdf+xml":["rdf","owl"],"application/reginfo+xml":["rif"],"application/relax-ng-compact-syntax":["rnc"],"application/resource-lists+xml":["rl"],"application/resource-lists-diff+xml":["rld"],"application/rls-services+xml":["rs"],"application/route-apd+xml":["rapd"],"application/route-s-tsid+xml":["sls"],"application/route-usd+xml":["rusd"],"application/rpki-ghostbusters":["gbr"],"application/rpki-manifest":["mft"],"application/rpki-roa":["roa"],"application/rsd+xml":["rsd"],"application/rss+xml":["rss"],"application/rtf":["rtf"],"application/sbml+xml":["sbml"],"application/scvp-cv-request":["scq"],"application/scvp-cv-response":["scs"],"application/scvp-vp-request":["spq"],"application/scvp-vp-response":["spp"],"application/sdp":["sdp"],"application/senml+xml":["senmlx"],"application/sensml+xml":["sensmlx"],"application/set-payment-initiation":["setpay"],"application/set-registration-initiation":["setreg"],"application/shf+xml":["shf"],"application/sieve":["siv","sieve"],"application/smil+xml":["smi","smil"],"application/sparql-query":["rq"],"application/sparql-results+xml":["srx"],"application/srgs":["gram"],"application/srgs+xml":["grxml"],"application/sru+xml":["sru"],"application/ssdl+xml":["ssdl"],"application/ssml+xml":["ssml"],"application/swid+xml":["swidtag"],"application/tei+xml":["tei","teicorpus"],"application/thraud+xml":["tfi"],"application/timestamped-data":["tsd"],"application/toml":["toml"],"application/trig":["trig"],"application/ttml+xml":["ttml"],"application/ubjson":["ubj"],"application/urc-ressheet+xml":["rsheet"],"application/urc-targetdesc+xml":["td"],"application/voicexml+xml":["vxml"],"application/wasm":["wasm"],"application/widget":["wgt"],"application/winhlp":["hlp"],"application/wsdl+xml":["wsdl"],"application/wspolicy+xml":["wspolicy"],"application/xaml+xml":["xaml"],"application/xcap-att+xml":["xav"],"application/xcap-caps+xml":["xca"],"application/xcap-diff+xml":["xdf"],"application/xcap-el+xml":["xel"],"application/xcap-ns+xml":["xns"],"application/xenc+xml":["xenc"],"application/xhtml+xml":["xhtml","xht"],"application/xliff+xml":["xlf"],"application/xml":["xml","xsl","xsd","rng"],"application/xml-dtd":["dtd"],"application/xop+xml":["xop"],"application/xproc+xml":["xpl"],"application/xslt+xml":["*xsl","xslt"],"application/xspf+xml":["xspf"],"application/xv+xml":["mxml","xhvml","xvml","xvm"],"application/yang":["yang"],"application/yin+xml":["yin"],"application/zip":["zip"],"audio/3gpp":["*3gpp"],"audio/adpcm":["adp"],"audio/amr":["amr"],"audio/basic":["au","snd"],"audio/midi":["mid","midi","kar","rmi"],"audio/mobile-xmf":["mxmf"],"audio/mp3":["*mp3"],"audio/mp4":["m4a","mp4a"],"audio/mpeg":["mpga","mp2","mp2a","mp3","m2a","m3a"],"audio/ogg":["oga","ogg","spx","opus"],"audio/s3m":["s3m"],"audio/silk":["sil"],"audio/wav":["wav"],"audio/wave":["*wav"],"audio/webm":["weba"],"audio/xm":["xm"],"font/collection":["ttc"],"font/otf":["otf"],"font/ttf":["ttf"],"font/woff":["woff"],"font/woff2":["woff2"],"image/aces":["exr"],"image/apng":["apng"],"image/avif":["avif"],"image/bmp":["bmp"],"image/cgm":["cgm"],"image/dicom-rle":["drle"],"image/emf":["emf"],"image/fits":["fits"],"image/g3fax":["g3"],"image/gif":["gif"],"image/heic":["heic"],"image/heic-sequence":["heics"],"image/heif":["heif"],"image/heif-sequence":["heifs"],"image/hej2k":["hej2"],"image/hsj2":["hsj2"],"image/ief":["ief"],"image/jls":["jls"],"image/jp2":["jp2","jpg2"],"image/jpeg":["jpeg","jpg","jpe"],"image/jph":["jph"],"image/jphc":["jhc"],"image/jpm":["jpm"],"image/jpx":["jpx","jpf"],"image/jxr":["jxr"],"image/jxra":["jxra"],"image/jxrs":["jxrs"],"image/jxs":["jxs"],"image/jxsc":["jxsc"],"image/jxsi":["jxsi"],"image/jxss":["jxss"],"image/ktx":["ktx"],"image/ktx2":["ktx2"],"image/png":["png"],"image/sgi":["sgi"],"image/svg+xml":["svg","svgz"],"image/t38":["t38"],"image/tiff":["tif","tiff"],"image/tiff-fx":["tfx"],"image/webp":["webp"],"image/wmf":["wmf"],"message/disposition-notification":["disposition-notification"],"message/global":["u8msg"],"message/global-delivery-status":["u8dsn"],"message/global-disposition-notification":["u8mdn"],"message/global-headers":["u8hdr"],"message/rfc822":["eml","mime"],"model/3mf":["3mf"],"model/gltf+json":["gltf"],"model/gltf-binary":["glb"],"model/iges":["igs","iges"],"model/mesh":["msh","mesh","silo"],"model/mtl":["mtl"],"model/obj":["obj"],"model/step+xml":["stpx"],"model/step+zip":["stpz"],"model/step-xml+zip":["stpxz"],"model/stl":["stl"],"model/vrml":["wrl","vrml"],"model/x3d+binary":["*x3db","x3dbz"],"model/x3d+fastinfoset":["x3db"],"model/x3d+vrml":["*x3dv","x3dvz"],"model/x3d+xml":["x3d","x3dz"],"model/x3d-vrml":["x3dv"],"text/cache-manifest":["appcache","manifest"],"text/calendar":["ics","ifb"],"text/coffeescript":["coffee","litcoffee"],"text/css":["css"],"text/csv":["csv"],"text/html":["html","htm","shtml"],"text/jade":["jade"],"text/jsx":["jsx"],"text/less":["less"],"text/markdown":["markdown","md"],"text/mathml":["mml"],"text/mdx":["mdx"],"text/n3":["n3"],"text/plain":["txt","text","conf","def","list","log","in","ini"],"text/richtext":["rtx"],"text/rtf":["*rtf"],"text/sgml":["sgml","sgm"],"text/shex":["shex"],"text/slim":["slim","slm"],"text/spdx":["spdx"],"text/stylus":["stylus","styl"],"text/tab-separated-values":["tsv"],"text/troff":["t","tr","roff","man","me","ms"],"text/turtle":["ttl"],"text/uri-list":["uri","uris","urls"],"text/vcard":["vcard"],"text/vtt":["vtt"],"text/xml":["*xml"],"text/yaml":["yaml","yml"],"video/3gpp":["3gp","3gpp"],"video/3gpp2":["3g2"],"video/h261":["h261"],"video/h263":["h263"],"video/h264":["h264"],"video/iso.segment":["m4s"],"video/jpeg":["jpgv"],"video/jpm":["*jpm","jpgm"],"video/mj2":["mj2","mjp2"],"video/mp2t":["ts"],"video/mp4":["mp4","mp4v","mpg4"],"video/mpeg":["mpeg","mpg","mpe","m1v","m2v"],"video/ogg":["ogv"],"video/quicktime":["qt","mov"],"video/webm":["webm"]};let zv=qv;var Am=new zv(Zv);Object.defineProperty(vn,"__esModule",{value:!0});vn.LocalRecorder=void 0;var KA=Oa,em=VA,tm=_e,Oc=Am,Et=em.OpenViduLogger.getInstance(),xc,rm=function(){function t(A){this.stream=A,this.chunks=[],xc=tm.PlatformUtils.getInstance(),this.connectionId=this.stream.connection?this.stream.connection.connectionId:"default-connection",this.id=this.stream.streamId+"_"+this.connectionId+"_localrecord",this.state=KA.LocalRecorderState.READY}return t.prototype.record=function(A){var e=this;return new Promise(function(r,n){try{if(typeof A=="string"||A instanceof String)return n(`When calling LocalRecorder.record(options) parameter 'options' cannot be a string. Must be an object like { mimeType: "`.concat(A,'" }'));if(typeof MediaRecorder>"u")throw Et.error("MediaRecorder not supported on your device. See compatibility in https://caniuse.com/#search=MediaRecorder"),Error("MediaRecorder not supported on your device. See compatibility in https://caniuse.com/#search=MediaRecorder");if(e.state!==KA.LocalRecorderState.READY)throw Error("'LocalRecord.record()' needs 'LocalRecord.state' to be 'READY' (current value: '"+e.state+"'). Call 'LocalRecorder.clean()' or init a new LocalRecorder before");Et.log("Starting local recording of stream '"+e.stream.streamId+"' of connection '"+e.connectionId+"'"),A?A.mimeType||(A.mimeType="video/webm"):A={mimeType:"video/webm"},e.mediaRecorder=new MediaRecorder(e.stream.getMediaStream(),A),e.mediaRecorder.start()}catch(i){return n(i)}return e.mediaRecorder.ondataavailable=function(i){i.data.size>0&&e.chunks.push(i.data)},e.mediaRecorder.onerror=function(i){Et.error("MediaRecorder error: ",i)},e.mediaRecorder.onstart=function(){Et.log("MediaRecorder started (state="+e.mediaRecorder.state+")")},e.mediaRecorder.onstop=function(){e.onStopDefault()},e.mediaRecorder.onpause=function(){Et.log("MediaRecorder paused (state="+e.mediaRecorder.state+")")},e.mediaRecorder.onresume=function(){Et.log("MediaRecorder resumed (state="+e.mediaRecorder.state+")")},e.state=KA.LocalRecorderState.RECORDING,r()})},t.prototype.stop=function(){var A=this;return new Promise(function(e,r){try{if(A.state===KA.LocalRecorderState.READY||A.state===KA.LocalRecorderState.FINISHED)throw Error("'LocalRecord.stop()' needs 'LocalRecord.state' to be 'RECORDING' or 'PAUSED' (current value: '"+A.state+"'). Call 'LocalRecorder.start()' before");A.mediaRecorder.onstop=function(){return A.onStopDefault(),e()},A.mediaRecorder.stop()}catch(n){return r(n)}})},t.prototype.pause=function(){var A=this;return new Promise(function(e,r){try{return A.state!==KA.LocalRecorderState.RECORDING?r(Error("'LocalRecord.pause()' needs 'LocalRecord.state' to be 'RECORDING' (current value: '"+A.state+"'). Call 'LocalRecorder.start()' or 'LocalRecorder.resume()' before")):(A.mediaRecorder.pause(),A.state=KA.LocalRecorderState.PAUSED,e())}catch(n){return r(n)}})},t.prototype.resume=function(){var A=this;return new Promise(function(e,r){try{if(A.state!==KA.LocalRecorderState.PAUSED)throw Error("'LocalRecord.resume()' needs 'LocalRecord.state' to be 'PAUSED' (current value: '"+A.state+"'). Call 'LocalRecorder.pause()' before");return A.mediaRecorder.resume(),A.state=KA.LocalRecorderState.RECORDING,e()}catch(n){return r(n)}})},t.prototype.preview=function(A){if(this.state!==KA.LocalRecorderState.FINISHED)throw Error("'LocalRecord.preview()' needs 'LocalRecord.state' to be 'FINISHED' (current value: '"+this.state+"'). Call 'LocalRecorder.stop()' before");if(this.videoPreview=document.createElement("video"),this.videoPreview.id=this.id,this.videoPreview.autoplay=!0,xc.isSafariBrowser()&&(this.videoPreview.playsInline=!0),typeof A=="string"){var e=document.getElementById(A);e&&(this.videoPreview=e.appendChild(this.videoPreview))}else this.videoPreview=A.appendChild(this.videoPreview);return this.videoPreview.src=this.videoPreviewSrc,this.videoPreview},t.prototype.clean=function(){var A=this,e=function(){delete A.blob,A.chunks=[],A.state=KA.LocalRecorderState.READY};this.state===KA.LocalRecorderState.RECORDING||this.state===KA.LocalRecorderState.PAUSED?this.stop().then(function(){return e()}).catch(function(){return e()}):e()},t.prototype.download=function(){if(this.state!==KA.LocalRecorderState.FINISHED)throw Error("'LocalRecord.download()' needs 'LocalRecord.state' to be 'FINISHED' (current value: '"+this.state+"'). Call 'LocalRecorder.stop()' before");var A=document.createElement("a");A.style.display="none",document.body.appendChild(A);var e=globalThis.URL.createObjectURL(this.blob);A.href=e,A.download=this.id+"."+Oc.getExtension(this.blob.type),A.click(),globalThis.URL.revokeObjectURL(e),document.body.removeChild(A)},t.prototype.getBlob=function(){if(this.state!==KA.LocalRecorderState.FINISHED)throw Error("Call 'LocalRecord.stop()' before getting Blob file");return this.blob},t.prototype.uploadAsBinary=function(A,e){var r=this;return new Promise(function(n,i){if(r.state!==KA.LocalRecorderState.FINISHED)return i(Error("'LocalRecord.uploadAsBinary()' needs 'LocalRecord.state' to be 'FINISHED' (current value: '"+r.state+"'). Call 'LocalRecorder.stop()' before"));var o=new XMLHttpRequest;if(o.open("POST",A,!0),typeof e=="object")for(var s=0,a=Object.keys(e);s<a.length;s++){var c=a[s];o.setRequestHeader(c,e[c])}o.onreadystatechange=function(){if(o.readyState===4)return o.status.toString().charAt(0)==="2"?n(o.responseText):i(o.status)},o.send(r.blob)})},t.prototype.uploadAsMultipartfile=function(A,e){var r=this;return new Promise(function(n,i){if(r.state!==KA.LocalRecorderState.FINISHED)return i(Error("'LocalRecord.uploadAsMultipartfile()' needs 'LocalRecord.state' to be 'FINISHED' (current value: '"+r.state+"'). Call 'LocalRecorder.stop()' before"));var o=new XMLHttpRequest;if(o.open("POST",A,!0),typeof e=="object")for(var s=0,a=Object.keys(e);s<a.length;s++){var c=a[s];o.setRequestHeader(c,e[c])}var l=new FormData;l.append("file",r.blob,r.id+"."+Oc.getExtension(r.blob.type)),o.onreadystatechange=function(){if(o.readyState===4)return o.status.toString().charAt(0)==="2"?n(o.responseText):i(o.status)},o.send(l)})},t.prototype.onStopDefault=function(){Et.log("MediaRecorder stopped  (state="+this.mediaRecorder.state+")"),this.blob=new Blob(this.chunks,{type:this.mediaRecorder.mimeType}),this.chunks=[],this.videoPreviewSrc=globalThis.URL.createObjectURL(this.blob),this.state=KA.LocalRecorderState.FINISHED},t}();vn.LocalRecorder=rm;var Ir={},_r={},mn={},hr={},pr={},et={},WA={};Object.defineProperty(WA,"__esModule",{value:!0});WA.Event=void 0;var nm=function(){function t(A,e,r){this.hasBeenPrevented=!1,this.cancelable=A,this.target=e,this.type=r}return t.prototype.isDefaultPrevented=function(){return this.hasBeenPrevented},t.prototype.preventDefault=function(){this.callDefaultBehavior=function(){},this.hasBeenPrevented=!0},t}();WA.Event=nm;var im=D&&D.__extends||function(){var t=function(A,e){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},t(A,e)};return function(A,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");t(A,e);function r(){this.constructor=A}A.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}();Object.defineProperty(et,"__esModule",{value:!0});et.StreamPropertyChangedEvent=void 0;var om=WA,sm=function(t){im(A,t);function A(e,r,n,i,o,s){var a=t.call(this,!1,e,"streamPropertyChanged")||this;return a.stream=r,a.changedProperty=n,a.newValue=i,a.oldValue=o,a.reason=s,a}return A.prototype.callDefaultBehavior=function(){},A}(om.Event);et.StreamPropertyChangedEvent=sm;var kt={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.OpenViduError=t.OpenViduErrorName=void 0,function(e){e.BROWSER_NOT_SUPPORTED="BROWSER_NOT_SUPPORTED",e.DEVICE_ACCESS_DENIED="DEVICE_ACCESS_DENIED",e.DEVICE_ALREADY_IN_USE="DEVICE_ALREADY_IN_USE",e.SCREEN_CAPTURE_DENIED="SCREEN_CAPTURE_DENIED",e.SCREEN_SHARING_NOT_SUPPORTED="SCREEN_SHARING_NOT_SUPPORTED",e.SCREEN_EXTENSION_NOT_INSTALLED="SCREEN_EXTENSION_NOT_INSTALLED",e.SCREEN_EXTENSION_DISABLED="SCREEN_EXTENSION_DISABLED",e.INPUT_VIDEO_DEVICE_NOT_FOUND="INPUT_VIDEO_DEVICE_NOT_FOUND",e.INPUT_AUDIO_DEVICE_NOT_FOUND="INPUT_AUDIO_DEVICE_NOT_FOUND",e.INPUT_AUDIO_DEVICE_GENERIC_ERROR="INPUT_AUDIO_DEVICE_GENERIC_ERROR",e.NO_INPUT_SOURCE_SET="NO_INPUT_SOURCE_SET",e.PUBLISHER_PROPERTIES_ERROR="PUBLISHER_PROPERTIES_ERROR",e.OPENVIDU_PERMISSION_DENIED="OPENVIDU_PERMISSION_DENIED",e.OPENVIDU_NOT_CONNECTED="OPENVIDU_NOT_CONNECTED",e.VIRTUAL_BACKGROUND_ERROR="VIRTUAL_BACKGROUND_ERROR",e.GENERIC_ERROR="GENERIC_ERROR"}(t.OpenViduErrorName||(t.OpenViduErrorName={}));var A=function(){function e(r,n){this.name=r,this.message=n}return e}();t.OpenViduError=A})(kt);Object.defineProperty(pr,"__esModule",{value:!0});pr.Filter=void 0;var Tc=et,qA=kt,am=VA,xe=am.OpenViduLogger.getInstance(),cm=function(){function t(A,e){this.handlers=new Map,this.type=A,this.options=e}return t.prototype.execMethod=function(A,e){var r=this;return new Promise(function(n,i){var o;xe.info("Executing filter method to stream "+r.stream.streamId);var s,a=function(u){xe.info("Filter method successfully executed on Stream "+r.stream.streamId);var f=Object.assign({},r.stream.filter);return r.stream.filter.lastExecMethod={method:A,params:s},u&&(r.stream.session.emitEvent("streamPropertyChanged",[new Tc.StreamPropertyChangedEvent(r.stream.session,r.stream,"filter",r.stream.filter,f,"execFilterMethod")]),r.stream.streamManager.emitEvent("streamPropertyChanged",[new Tc.StreamPropertyChangedEvent(r.stream.streamManager,r.stream,"filter",r.stream.filter,f,"execFilterMethod")])),n()};if(r.type.startsWith("VB:")){if(typeof e=="string")try{e=JSON.parse(e)}catch(u){return i(new qA.OpenViduError(qA.OpenViduErrorName.VIRTUAL_BACKGROUND_ERROR,"Wrong params syntax: "+u))}if(s=e,A==="update")if(!((o=r.stream.virtualBackgroundSinkElements)===null||o===void 0)&&o.VB)r.stream.virtualBackgroundSinkElements.VB.updateValues(e).then(function(){return a(!1)}).catch(function(u){return u.name===qA.OpenViduErrorName.VIRTUAL_BACKGROUND_ERROR?i(new qA.OpenViduError(u.name,u.message)):i(new qA.OpenViduError(qA.OpenViduErrorName.VIRTUAL_BACKGROUND_ERROR,"Error updating values on Virtual Background filter: "+u))});else return i(new qA.OpenViduError(qA.OpenViduErrorName.VIRTUAL_BACKGROUND_ERROR,"There is no Virtual Background filter applied"));else return i(new qA.OpenViduError(qA.OpenViduErrorName.VIRTUAL_BACKGROUND_ERROR,'Unknown Virtual Background method "'.concat(A,'"')))}else{var c=void 0;if(typeof e!="string")try{c=JSON.stringify(e)}catch{var l="'params' property must be a JSON formatted object";return xe.error(l),i(l)}else c=e;s=c,r.stream.session.openvidu.sendRequest("execFilterMethod",{streamId:r.stream.streamId,method:A,params:c},function(u,f){return u?(xe.error("Error executing filter method for Stream "+r.stream.streamId,u),u.code===401?i(new qA.OpenViduError(qA.OpenViduErrorName.OPENVIDU_PERMISSION_DENIED,"You don't have permissions to execute a filter method")):i(u)):a(!0)})}})},t.prototype.addEventListener=function(A,e){var r=this;return new Promise(function(n,i){xe.info("Adding filter event listener to event "+A+" to stream "+r.stream.streamId),r.stream.session.openvidu.sendRequest("addFilterEventListener",{streamId:r.stream.streamId,eventType:A},function(o,s){return o?(xe.error("Error adding filter event listener to event "+A+"for Stream "+r.stream.streamId,o),o.code===401?i(new qA.OpenViduError(qA.OpenViduErrorName.OPENVIDU_PERMISSION_DENIED,"You don't have permissions to add a filter event listener")):i(o)):(r.handlers.set(A,e),xe.info("Filter event listener to event "+A+" successfully applied on Stream "+r.stream.streamId),n())})})},t.prototype.removeEventListener=function(A){var e=this;return new Promise(function(r,n){xe.info("Removing filter event listener to event "+A+" to stream "+e.stream.streamId),e.stream.session.openvidu.sendRequest("removeFilterEventListener",{streamId:e.stream.streamId,eventType:A},function(i,o){return i?(xe.error("Error removing filter event listener to event "+A+"for Stream "+e.stream.streamId,i),i.code===401?n(new qA.OpenViduError(qA.OpenViduErrorName.OPENVIDU_PERMISSION_DENIED,"You don't have permissions to add a filter event listener")):n(i)):(e.handlers.delete(A),xe.info("Filter event listener to event "+A+" successfully removed on Stream "+e.stream.streamId),r())})})},t}();pr.Filter=cm;var gr={},Br={},vr={},Od={exports:{}};/*!
 * EventEmitter v5.2.9 - git.io/ee
 * Unlicense - http://unlicense.org/
 * Oliver Caldwell - https://oli.me.uk/
 * @preserve
 */(function(t){(function(A){function e(){}var r=e.prototype,n=A.EventEmitter;function i(a,c){for(var l=a.length;l--;)if(a[l].listener===c)return l;return-1}function o(a){return function(){return this[a].apply(this,arguments)}}r.getListeners=function(c){var l=this._getEvents(),u,f;if(c instanceof RegExp){u={};for(f in l)l.hasOwnProperty(f)&&c.test(f)&&(u[f]=l[f])}else u=l[c]||(l[c]=[]);return u},r.flattenListeners=function(c){var l=[],u;for(u=0;u<c.length;u+=1)l.push(c[u].listener);return l},r.getListenersAsObject=function(c){var l=this.getListeners(c),u;return l instanceof Array&&(u={},u[c]=l),u||l};function s(a){return typeof a=="function"||a instanceof RegExp?!0:a&&typeof a=="object"?s(a.listener):!1}r.addListener=function(c,l){if(!s(l))throw new TypeError("listener must be a function");var u=this.getListenersAsObject(c),f=typeof l=="object",E;for(E in u)u.hasOwnProperty(E)&&i(u[E],l)===-1&&u[E].push(f?l:{listener:l,once:!1});return this},r.on=o("addListener"),r.addOnceListener=function(c,l){return this.addListener(c,{listener:l,once:!0})},r.once=o("addOnceListener"),r.defineEvent=function(c){return this.getListeners(c),this},r.defineEvents=function(c){for(var l=0;l<c.length;l+=1)this.defineEvent(c[l]);return this},r.removeListener=function(c,l){var u=this.getListenersAsObject(c),f,E;for(E in u)u.hasOwnProperty(E)&&(f=i(u[E],l),f!==-1&&u[E].splice(f,1));return this},r.off=o("removeListener"),r.addListeners=function(c,l){return this.manipulateListeners(!1,c,l)},r.removeListeners=function(c,l){return this.manipulateListeners(!0,c,l)},r.manipulateListeners=function(c,l,u){var f,E,C=c?this.removeListener:this.addListener,I=c?this.removeListeners:this.addListeners;if(typeof l=="object"&&!(l instanceof RegExp))for(f in l)l.hasOwnProperty(f)&&(E=l[f])&&(typeof E=="function"?C.call(this,f,E):I.call(this,f,E));else for(f=u.length;f--;)C.call(this,l,u[f]);return this},r.removeEvent=function(c){var l=typeof c,u=this._getEvents(),f;if(l==="string")delete u[c];else if(c instanceof RegExp)for(f in u)u.hasOwnProperty(f)&&c.test(f)&&delete u[f];else delete this._events;return this},r.removeAllListeners=o("removeEvent"),r.emitEvent=function(c,l){var u=this.getListenersAsObject(c),f,E,C,I,y;for(I in u)if(u.hasOwnProperty(I))for(f=u[I].slice(0),C=0;C<f.length;C++)E=f[C],E.once===!0&&this.removeListener(c,E.listener),y=E.listener.apply(this,l||[]),y===this._getOnceReturnValue()&&this.removeListener(c,E.listener);return this},r.trigger=o("emitEvent"),r.emit=function(c){var l=Array.prototype.slice.call(arguments,1);return this.emitEvent(c,l)},r.setOnceReturnValue=function(c){return this._onceReturnValue=c,this},r._getOnceReturnValue=function(){return this.hasOwnProperty("_onceReturnValue")?this._onceReturnValue:!0},r._getEvents=function(){return this._events||(this._events={})},e.noConflict=function(){return A.EventEmitter=n,e},t.exports?t.exports=e:A.EventEmitter=e})(typeof window<"u"?window:D||{})})(Od);var Ta=Od.exports;Object.defineProperty(vr,"__esModule",{value:!0});vr.EventDispatcher=void 0;var lm=VA,um=Ta,Gn=lm.OpenViduLogger.getInstance(),dm=function(){function t(){this.userHandlerArrowHandler=new WeakMap,this.ee=new um}return t.prototype.onAux=function(A,e,r){var n=function(i){i?Gn.debug(e,i):Gn.debug(e),r(i)};return this.userHandlerArrowHandler.set(r,n),this.ee.on(A,n),this},t.prototype.onceAux=function(A,e,r){var n=this,i=function(o){o?Gn.debug(e,o):Gn.debug(e),r(o),n.userHandlerArrowHandler.delete(r)};return this.userHandlerArrowHandler.set(r,i),this.ee.once(A,i),this},t.prototype.offAux=function(A,e){if(!e)this.ee.removeAllListeners(A);else{var r=this.userHandlerArrowHandler.get(e);r&&this.ee.off(A,r),this.userHandlerArrowHandler.delete(e)}return this},t}();vr.EventDispatcher=dm;var mr={},fm=D&&D.__extends||function(){var t=function(A,e){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},t(A,e)};return function(A,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");t(A,e);function r(){this.constructor=A}A.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}();Object.defineProperty(mr,"__esModule",{value:!0});mr.StreamManagerEvent=void 0;var hm=WA,pm=function(t){fm(A,t);function A(e,r,n){var i=t.call(this,!1,e,r)||this;return i.value=n,i}return A.prototype.callDefaultBehavior=function(){},A}(hm.Event);mr.StreamManagerEvent=pm;var wn={},gm=D&&D.__extends||function(){var t=function(A,e){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},t(A,e)};return function(A,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");t(A,e);function r(){this.constructor=A}A.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}();Object.defineProperty(wn,"__esModule",{value:!0});wn.VideoElementEvent=void 0;var Bm=WA,vm=function(t){gm(A,t);function A(e,r,n){var i=t.call(this,!1,r,n)||this;return i.element=e,i}return A.prototype.callDefaultBehavior=function(){},A}(Bm.Event);wn.VideoElementEvent=vm;var Nt={};(function(t){var A=D&&D.__extends||function(){var n=function(i,o){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,a){s.__proto__=a}||function(s,a){for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(s[c]=a[c])},n(i,o)};return function(i,o){if(typeof o!="function"&&o!==null)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");n(i,o);function s(){this.constructor=i}i.prototype=o===null?Object.create(o):(s.prototype=o.prototype,new s)}}();Object.defineProperty(t,"__esModule",{value:!0}),t.ExceptionEvent=t.ExceptionEventName=void 0;var e=WA;(function(n){n.ICE_CANDIDATE_ERROR="ICE_CANDIDATE_ERROR",n.ICE_CONNECTION_FAILED="ICE_CONNECTION_FAILED",n.ICE_CONNECTION_DISCONNECTED="ICE_CONNECTION_DISCONNECTED",n.NO_STREAM_PLAYING_EVENT="NO_STREAM_PLAYING_EVENT",n.SPEECH_TO_TEXT_DISCONNECTED="SPEECH_TO_TEXT_DISCONNECTED"})(t.ExceptionEventName||(t.ExceptionEventName={}));var r=function(n){A(i,n);function i(o,s,a,c,l){var u=n.call(this,!1,o,"exception")||this;return u.name=s,u.origin=a,u.message=c,u.data=l,u}return i.prototype.callDefaultBehavior=function(){},i}(e.Event);t.ExceptionEvent=r})(Nt);var Cn={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.VideoInsertMode=void 0,function(A){A.AFTER="AFTER",A.APPEND="APPEND",A.BEFORE="BEFORE",A.PREPEND="PREPEND",A.REPLACE="REPLACE"}(t.VideoInsertMode||(t.VideoInsertMode={}))})(Cn);var mm=D&&D.__extends||function(){var t=function(A,e){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},t(A,e)};return function(A,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");t(A,e);function r(){this.constructor=A}A.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}();Object.defineProperty(Br,"__esModule",{value:!0});Br.StreamManager=void 0;var wm=vr,Xo=mr,$n=wn,Hc=Nt,yt=Cn,Cm=VA,Em=_e,jo=Cm.OpenViduLogger.getInstance(),se,ym=function(t){mm(A,t);function A(e,r){var n=t.call(this)||this;if(n.videos=[],n.lazyLaunchVideoElementCreatedEvent=!1,se=Em.PlatformUtils.getInstance(),n.stream=e,n.stream.streamManager=n,n.remote=!n.stream.isLocal(),r){var i=void 0;typeof r=="string"?i=document.getElementById(r):r instanceof HTMLElement&&(i=r),i&&(n.firstVideoElement={targetElement:i,video:document.createElement("video"),id:"",canplayListenerAdded:!1},(se.isSafariBrowser()||se.isIPhoneOrIPad()&&(se.isChromeMobileBrowser()||se.isEdgeMobileBrowser()||se.isOperaMobileBrowser()||se.isFirefoxMobileBrowser()))&&(n.firstVideoElement.video.playsInline=!0),n.targetElement=i,n.element=i)}return n.canPlayListener=function(){n.deactivateStreamPlayingEventExceptionTimeout(),n.ee.emitEvent("streamPlaying",[new Xo.StreamManagerEvent(n,"streamPlaying",void 0)])},n}return A.prototype.on=function(e,r){return t.prototype.onAux.call(this,e,"Event '"+e+"' triggered by '"+(this.remote?"Subscriber":"Publisher")+"'",r),e==="videoElementCreated"&&this.stream&&this.lazyLaunchVideoElementCreatedEvent&&(this.ee.emitEvent("videoElementCreated",[new $n.VideoElementEvent(this.videos[0].video,this,"videoElementCreated")]),this.lazyLaunchVideoElementCreatedEvent=!1),e==="streamPlaying"&&this.videos[0]&&this.videos[0].video&&this.videos[0].video.currentTime>0&&this.videos[0].video.paused===!1&&this.videos[0].video.ended===!1&&this.videos[0].video.readyState===4&&this.ee.emitEvent("streamPlaying",[new Xo.StreamManagerEvent(this,"streamPlaying",void 0)]),this.stream.hasAudio&&(e==="publisherStartSpeaking"&&this.stream.enableHarkSpeakingEvent(),e==="publisherStopSpeaking"&&this.stream.enableHarkStoppedSpeakingEvent(),e==="streamAudioVolumeChange"&&this.stream.enableHarkVolumeChangeEvent(!1)),this},A.prototype.once=function(e,r){return t.prototype.onceAux.call(this,e,"Event '"+e+"' triggered once by '"+(this.remote?"Subscriber":"Publisher")+"'",r),e==="videoElementCreated"&&this.stream&&this.lazyLaunchVideoElementCreatedEvent&&this.ee.emitEvent("videoElementCreated",[new $n.VideoElementEvent(this.videos[0].video,this,"videoElementCreated")]),e==="streamPlaying"&&this.videos[0]&&this.videos[0].video&&this.videos[0].video.currentTime>0&&this.videos[0].video.paused===!1&&this.videos[0].video.ended===!1&&this.videos[0].video.readyState===4&&this.ee.emitEvent("streamPlaying",[new Xo.StreamManagerEvent(this,"streamPlaying",void 0)]),this.stream.hasAudio&&(e==="publisherStartSpeaking"&&this.stream.enableOnceHarkSpeakingEvent(),e==="publisherStopSpeaking"&&this.stream.enableOnceHarkStoppedSpeakingEvent(),e==="streamAudioVolumeChange"&&this.stream.enableOnceHarkVolumeChangeEvent(!1)),this},A.prototype.off=function(e,r){if(t.prototype.offAux.call(this,e,r),e==="publisherStartSpeaking"){var n=this.ee.getListeners(e).length+this.stream.session.ee.getListeners(e).length;n===0&&this.stream.disableHarkSpeakingEvent(!1)}if(e==="publisherStopSpeaking"){var i=this.ee.getListeners(e).length+this.stream.session.ee.getListeners(e).length;i===0&&this.stream.disableHarkStoppedSpeakingEvent(!1)}if(e==="streamAudioVolumeChange"){var o=this.ee.getListeners(e).length;o===0&&this.stream.disableHarkVolumeChangeEvent(!1)}return this},A.prototype.addVideoElement=function(e){this.initializeVideoProperties(e),!this.remote&&this.stream.displayMyRemote()&&e.srcObject!==this.stream.getMediaStream()&&(e.srcObject=this.stream.getMediaStream());for(var r=0,n=this.videos;r<n.length;r++){var i=n[r];if(i.video===e)return 0}for(var o=1,s=0,a=this.stream.session.streamManagers;s<a.length;s++){var c=a[s];if(c.disassociateVideo(e)){o=-1;break}}return this.stream.session.streamManagers.forEach(function(l){l.disassociateVideo(e)}),this.pushNewStreamManagerVideo({video:e,id:e.id,canplayListenerAdded:!1}),jo.info("New video element associated to ",this),o},A.prototype.createVideoElement=function(e,r){var n;if(typeof e=="string"){if(n=document.getElementById(e),!n)throw new Error("The provided 'targetElement' couldn't be resolved to any HTML element: "+e)}else if(e instanceof HTMLElement)n=e;else throw new Error("The provided 'targetElement' couldn't be resolved to any HTML element: "+e);var i=this.createVideo();this.initializeVideoProperties(i);var o=r||yt.VideoInsertMode.APPEND;switch(o){case yt.VideoInsertMode.AFTER:n.parentNode.insertBefore(i,n.nextSibling);break;case yt.VideoInsertMode.APPEND:n.appendChild(i);break;case yt.VideoInsertMode.BEFORE:n.parentNode.insertBefore(i,n);break;case yt.VideoInsertMode.PREPEND:n.insertBefore(i,n.childNodes[0]);break;case yt.VideoInsertMode.REPLACE:n.parentNode.replaceChild(i,n);break;default:o=yt.VideoInsertMode.APPEND,n.appendChild(i);break}var s={targetElement:n,video:i,insertMode:o,id:i.id,canplayListenerAdded:!1};return this.pushNewStreamManagerVideo(s),this.ee.emitEvent("videoElementCreated",[new $n.VideoElementEvent(s.video,this,"videoElementCreated")]),this.lazyLaunchVideoElementCreatedEvent=!!this.firstVideoElement,i},A.prototype.updatePublisherSpeakingEventsOptions=function(e){var r=this.stream.harkOptions?this.stream.harkOptions:this.stream.session.openvidu.advancedConfiguration.publisherSpeakingEventsOptions||{},n=typeof e.interval=="number"?e.interval:typeof r.interval=="number"?r.interval:100,i=typeof e.threshold=="number"?e.threshold:typeof r.threshold=="number"?r.threshold:-50;this.stream.harkOptions={interval:n,threshold:i},this.stream.speechEvent&&(this.stream.speechEvent.setInterval(n),this.stream.speechEvent.setThreshold(i))},A.prototype.initializeVideoProperties=function(e){!this.remote&&this.stream.displayMyRemote()||e.srcObject!==this.stream.getMediaStream()&&(e.srcObject=this.stream.getMediaStream()),e.autoplay=!0,e.controls=!1,(se.isSafariBrowser()||se.isIPhoneOrIPad()&&(se.isChromeMobileBrowser()||se.isEdgeMobileBrowser()||se.isOperaMobileBrowser()||se.isFirefoxMobileBrowser()))&&(e.playsInline=!0),e.id||(e.id=(this.remote?"remote-":"local-")+"video-"+this.stream.streamId,!this.id&&this.targetElement&&(this.id=e.id)),this.remote&&this.isMirroredVideo(e)?this.removeMirrorVideo(e):!this.remote&&!this.stream.displayMyRemote()&&(e.muted=!0,this.isMirroredVideo(e)&&!this.stream.outboundStreamOpts.publisherProperties.mirror?this.removeMirrorVideo(e):this.stream.outboundStreamOpts.publisherProperties.mirror&&!this.stream.isSendScreen()&&this.mirrorVideo(e))},A.prototype.removeAllVideos=function(){for(var e=this,r=this.stream.session.streamManagers.length-1;r>=0;--r)this.stream.session.streamManagers[r]===this&&this.stream.session.streamManagers.splice(r,1);this.videos.forEach(function(n){n.video&&n.video.removeEventListener&&n.video.removeEventListener("canplay",e.canPlayListener),n.canplayListenerAdded=!1,n.targetElement&&(n.video.parentNode.removeChild(n.video),e.ee.emitEvent("videoElementDestroyed",[new $n.VideoElementEvent(n.video,e,"videoElementDestroyed")])),e.removeSrcObject(n),e.videos.filter(function(i){return!i.targetElement})})},A.prototype.disassociateVideo=function(e){for(var r=!1,n=0;n<this.videos.length;n++)if(this.videos[n].video===e){this.videos[n].video.removeEventListener("canplay",this.canPlayListener),this.videos.splice(n,1),r=!0,jo.info("Video element disassociated from ",this);break}return r},A.prototype.addPlayEventToFirstVideo=function(){this.videos[0]&&this.videos[0].video&&!this.videos[0].canplayListenerAdded&&(this.activateStreamPlayingEventExceptionTimeout(),this.videos[0].video.addEventListener("canplay",this.canPlayListener),this.videos[0].canplayListenerAdded=!0)},A.prototype.updateMediaStream=function(e){this.videos.forEach(function(r){if(r.video.srcObject=e,se.isIonicIos()){var n=r.video.parentElement,i=r.video;n.replaceChild(i,r.video),r.video=i}})},A.prototype.emitEvent=function(e,r){this.ee.emitEvent(e,r)},A.prototype.createVideo=function(){return document.createElement("video")},A.prototype.removeSrcObject=function(e){e.video.srcObject=null,this.deactivateStreamPlayingEventExceptionTimeout()},A.prototype.pushNewStreamManagerVideo=function(e){this.videos.push(e),this.addPlayEventToFirstVideo(),this.stream.session.streamManagers.indexOf(this)===-1&&this.stream.session.streamManagers.push(this)},A.prototype.mirrorVideo=function(e){se.isIonicIos()||(e.style.transform="rotateY(180deg)",e.style.webkitTransform="rotateY(180deg)")},A.prototype.removeMirrorVideo=function(e){e.style.transform="unset",e.style.webkitTransform="unset"},A.prototype.isMirroredVideo=function(e){return e.style.transform==="rotateY(180deg)"||e.style.webkitTransform==="rotateY(180deg)"},A.prototype.activateStreamPlayingEventExceptionTimeout=function(){var e=this;if(this.remote&&this.streamPlayingEventExceptionTimeout==null){var r=this.stream.session.openvidu.advancedConfiguration.noStreamPlayingEventExceptionTimeout||4e3;this.streamPlayingEventExceptionTimeout=setTimeout(function(){var n="StreamManager of Stream "+e.stream.streamId+" ("+(e.remote?"Subscriber":"Publisher")+') did not trigger "streamPlaying" event in '+r+" ms";jo.warn(n),e.stream.session.emitEvent("exception",[new Hc.ExceptionEvent(e.stream.session,Hc.ExceptionEventName.NO_STREAM_PLAYING_EVENT,e,n)]),delete e.streamPlayingEventExceptionTimeout},r)}},A.prototype.deactivateStreamPlayingEventExceptionTimeout=function(){clearTimeout(this.streamPlayingEventExceptionTimeout),delete this.streamPlayingEventExceptionTimeout},A}(wm.EventDispatcher);Br.StreamManager=ym;var bm=D&&D.__extends||function(){var t=function(A,e){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},t(A,e)};return function(A,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");t(A,e);function r(){this.constructor=A}A.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}();Object.defineProperty(gr,"__esModule",{value:!0});gr.Subscriber=void 0;var Qm=Br,Um=VA,Lc=Um.OpenViduLogger.getInstance(),Fm=function(t){bm(A,t);function A(e,r,n){var i=t.call(this,e,r)||this;return i.element=i.targetElement,i.stream=e,i.properties=n,i}return A.prototype.subscribeToAudio=function(e){return this.stream.getMediaStream().getAudioTracks().forEach(function(r){r.enabled=e}),this.stream.audioActive=e,Lc.info("'Subscriber' has "+(e?"subscribed to":"unsubscribed from")+" its audio stream"),this},A.prototype.subscribeToVideo=function(e){return this.stream.getMediaStream().getVideoTracks().forEach(function(r){r.enabled=e}),this.stream.videoActive=e,Lc.info("'Subscriber' has "+(e?"subscribed to":"unsubscribed from")+" its video stream"),this},A.prototype.replaceTrackInMediaStream=function(e,r){var n=this.stream.getMediaStream(),i;e.kind==="video"?(i=n.getVideoTracks()[0],r&&(this.stream.lastVideoTrackConstraints=e.getConstraints())):i=n.getAudioTracks()[0],n.removeTrack(i),i.stop(),n.addTrack(e)},A}(Qm.StreamManager);gr.Subscriber=Fm;var Ne={},Rc=["stun:","turn:"],Sm=function(t){var A=(t||{}).url||t,e,r,n={};return typeof A!="string"&&!(A instanceof String)||(A=A.trim(),e=Rc[Rc.indexOf(A.slice(0,5))],!e)?t:(A=A.slice(5),r=A.split("@"),n.username=t.username,n.credential=t.credential,r.length>1&&(A=r[1],r=r[0].split(":"),n.username=r[0],n.credential=(t||{}).credential||r[1]||""),n.url=e+A,n.urls=[n.url],n)};const Im=["stun.l.google.com:19302","stun1.l.google.com:19302","stun2.l.google.com:19302","stun3.l.google.com:19302","stun4.l.google.com:19302","stun.ekiga.net","stun.ideasip.com","stun.schlund.de","stun.stunprotocol.org:3478","stun.voiparound.com","stun.voipbuster.com","stun.voipstunt.com","stun.voxgratia.org"],_m=[];var Om=Sm,xm=function(t){var A={stun:(t||{}).stun||Im,turn:(t||{}).turn||_m},e=(t||{}).stunCount||2,r=(t||{}).turnCount||0,n;function i(o,s){for(var a=[],c=[].concat(A[o]),l;c.length&&a.length<s;)l=Math.random()*c.length|0,a=a.concat(c.splice(l,1));return a.map(function(u){return typeof u!="string"&&!(u instanceof String)?u:Om(o+":"+u)})}return n=[].concat(i("stun",e)),r&&(n=n.concat(i("turn",r))),n},Tm=xm,Ha={},Ao={},eo={};Object.defineProperty(eo,"__esModule",{value:!0});eo.default=Lm;let Wn;const Hm=new Uint8Array(16);function Lm(){if(!Wn&&(Wn=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Wn))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Wn(Hm)}var wt={},Mt={},to={};Object.defineProperty(to,"__esModule",{value:!0});to.default=void 0;var Rm=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;to.default=Rm;Object.defineProperty(Mt,"__esModule",{value:!0});Mt.default=void 0;var Dm=km(to);function km(t){return t&&t.__esModule?t:{default:t}}function Nm(t){return typeof t=="string"&&Dm.default.test(t)}var Mm=Nm;Mt.default=Mm;Object.defineProperty(wt,"__esModule",{value:!0});wt.default=void 0;wt.unsafeStringify=xd;var Pm=Vm(Mt);function Vm(t){return t&&t.__esModule?t:{default:t}}const XA=[];for(let t=0;t<256;++t)XA.push((t+256).toString(16).slice(1));function xd(t,A=0){return(XA[t[A+0]]+XA[t[A+1]]+XA[t[A+2]]+XA[t[A+3]]+"-"+XA[t[A+4]]+XA[t[A+5]]+"-"+XA[t[A+6]]+XA[t[A+7]]+"-"+XA[t[A+8]]+XA[t[A+9]]+"-"+XA[t[A+10]]+XA[t[A+11]]+XA[t[A+12]]+XA[t[A+13]]+XA[t[A+14]]+XA[t[A+15]]).toLowerCase()}function Km(t,A=0){const e=xd(t,A);if(!(0,Pm.default)(e))throw TypeError("Stringified UUID is invalid");return e}var Gm=Km;wt.default=Gm;Object.defineProperty(Ao,"__esModule",{value:!0});Ao.default=void 0;var $m=Xm(eo),Wm=wt;function Xm(t){return t&&t.__esModule?t:{default:t}}let Dc,Jo,Yo=0,qo=0;function jm(t,A,e){let r=A&&e||0;const n=A||new Array(16);t=t||{};let i=t.node||Dc,o=t.clockseq!==void 0?t.clockseq:Jo;if(i==null||o==null){const f=t.random||(t.rng||$m.default)();i==null&&(i=Dc=[f[0]|1,f[1],f[2],f[3],f[4],f[5]]),o==null&&(o=Jo=(f[6]<<8|f[7])&16383)}let s=t.msecs!==void 0?t.msecs:Date.now(),a=t.nsecs!==void 0?t.nsecs:qo+1;const c=s-Yo+(a-qo)/1e4;if(c<0&&t.clockseq===void 0&&(o=o+1&16383),(c<0||s>Yo)&&t.nsecs===void 0&&(a=0),a>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");Yo=s,qo=a,Jo=o,s+=122192928e5;const l=((s&268435455)*1e4+a)%4294967296;n[r++]=l>>>24&255,n[r++]=l>>>16&255,n[r++]=l>>>8&255,n[r++]=l&255;const u=s/4294967296*1e4&268435455;n[r++]=u>>>8&255,n[r++]=u&255,n[r++]=u>>>24&15|16,n[r++]=u>>>16&255,n[r++]=o>>>8|128,n[r++]=o&255;for(let f=0;f<6;++f)n[r+f]=i[f];return A||(0,Wm.unsafeStringify)(n)}var Jm=jm;Ao.default=Jm;var ro={},Bt={},En={};Object.defineProperty(En,"__esModule",{value:!0});En.default=void 0;var Ym=qm(Mt);function qm(t){return t&&t.__esModule?t:{default:t}}function Zm(t){if(!(0,Ym.default)(t))throw TypeError("Invalid UUID");let A;const e=new Uint8Array(16);return e[0]=(A=parseInt(t.slice(0,8),16))>>>24,e[1]=A>>>16&255,e[2]=A>>>8&255,e[3]=A&255,e[4]=(A=parseInt(t.slice(9,13),16))>>>8,e[5]=A&255,e[6]=(A=parseInt(t.slice(14,18),16))>>>8,e[7]=A&255,e[8]=(A=parseInt(t.slice(19,23),16))>>>8,e[9]=A&255,e[10]=(A=parseInt(t.slice(24,36),16))/1099511627776&255,e[11]=A/4294967296&255,e[12]=A>>>24&255,e[13]=A>>>16&255,e[14]=A>>>8&255,e[15]=A&255,e}var zm=Zm;En.default=zm;Object.defineProperty(Bt,"__esModule",{value:!0});Bt.URL=Bt.DNS=void 0;Bt.default=nw;var Aw=wt,ew=tw(En);function tw(t){return t&&t.__esModule?t:{default:t}}function rw(t){t=unescape(encodeURIComponent(t));const A=[];for(let e=0;e<t.length;++e)A.push(t.charCodeAt(e));return A}const Td="6ba7b810-9dad-11d1-80b4-00c04fd430c8";Bt.DNS=Td;const Hd="6ba7b811-9dad-11d1-80b4-00c04fd430c8";Bt.URL=Hd;function nw(t,A,e){function r(n,i,o,s){var a;if(typeof n=="string"&&(n=rw(n)),typeof i=="string"&&(i=(0,ew.default)(i)),((a=i)===null||a===void 0?void 0:a.length)!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let c=new Uint8Array(16+n.length);if(c.set(i),c.set(n,i.length),c=e(c),c[6]=c[6]&15|A,c[8]=c[8]&63|128,o){s=s||0;for(let l=0;l<16;++l)o[s+l]=c[l];return o}return(0,Aw.unsafeStringify)(c)}try{r.name=t}catch{}return r.DNS=Td,r.URL=Hd,r}var no={};Object.defineProperty(no,"__esModule",{value:!0});no.default=void 0;function iw(t){if(typeof t=="string"){const A=unescape(encodeURIComponent(t));t=new Uint8Array(A.length);for(let e=0;e<A.length;++e)t[e]=A.charCodeAt(e)}return ow(sw(aw(t),t.length*8))}function ow(t){const A=[],e=t.length*32,r="0123456789abcdef";for(let n=0;n<e;n+=8){const i=t[n>>5]>>>n%32&255,o=parseInt(r.charAt(i>>>4&15)+r.charAt(i&15),16);A.push(o)}return A}function Ld(t){return(t+64>>>9<<4)+14+1}function sw(t,A){t[A>>5]|=128<<A%32,t[Ld(A)-1]=A;let e=1732584193,r=-271733879,n=-1732584194,i=271733878;for(let o=0;o<t.length;o+=16){const s=e,a=r,c=n,l=i;e=ZA(e,r,n,i,t[o],7,-680876936),i=ZA(i,e,r,n,t[o+1],12,-389564586),n=ZA(n,i,e,r,t[o+2],17,606105819),r=ZA(r,n,i,e,t[o+3],22,-1044525330),e=ZA(e,r,n,i,t[o+4],7,-176418897),i=ZA(i,e,r,n,t[o+5],12,1200080426),n=ZA(n,i,e,r,t[o+6],17,-1473231341),r=ZA(r,n,i,e,t[o+7],22,-45705983),e=ZA(e,r,n,i,t[o+8],7,1770035416),i=ZA(i,e,r,n,t[o+9],12,-1958414417),n=ZA(n,i,e,r,t[o+10],17,-42063),r=ZA(r,n,i,e,t[o+11],22,-1990404162),e=ZA(e,r,n,i,t[o+12],7,1804603682),i=ZA(i,e,r,n,t[o+13],12,-40341101),n=ZA(n,i,e,r,t[o+14],17,-1502002290),r=ZA(r,n,i,e,t[o+15],22,1236535329),e=zA(e,r,n,i,t[o+1],5,-165796510),i=zA(i,e,r,n,t[o+6],9,-1069501632),n=zA(n,i,e,r,t[o+11],14,643717713),r=zA(r,n,i,e,t[o],20,-373897302),e=zA(e,r,n,i,t[o+5],5,-701558691),i=zA(i,e,r,n,t[o+10],9,38016083),n=zA(n,i,e,r,t[o+15],14,-660478335),r=zA(r,n,i,e,t[o+4],20,-405537848),e=zA(e,r,n,i,t[o+9],5,568446438),i=zA(i,e,r,n,t[o+14],9,-1019803690),n=zA(n,i,e,r,t[o+3],14,-187363961),r=zA(r,n,i,e,t[o+8],20,1163531501),e=zA(e,r,n,i,t[o+13],5,-1444681467),i=zA(i,e,r,n,t[o+2],9,-51403784),n=zA(n,i,e,r,t[o+7],14,1735328473),r=zA(r,n,i,e,t[o+12],20,-1926607734),e=Ae(e,r,n,i,t[o+5],4,-378558),i=Ae(i,e,r,n,t[o+8],11,-2022574463),n=Ae(n,i,e,r,t[o+11],16,1839030562),r=Ae(r,n,i,e,t[o+14],23,-35309556),e=Ae(e,r,n,i,t[o+1],4,-1530992060),i=Ae(i,e,r,n,t[o+4],11,1272893353),n=Ae(n,i,e,r,t[o+7],16,-155497632),r=Ae(r,n,i,e,t[o+10],23,-1094730640),e=Ae(e,r,n,i,t[o+13],4,681279174),i=Ae(i,e,r,n,t[o],11,-358537222),n=Ae(n,i,e,r,t[o+3],16,-722521979),r=Ae(r,n,i,e,t[o+6],23,76029189),e=Ae(e,r,n,i,t[o+9],4,-640364487),i=Ae(i,e,r,n,t[o+12],11,-421815835),n=Ae(n,i,e,r,t[o+15],16,530742520),r=Ae(r,n,i,e,t[o+2],23,-995338651),e=ee(e,r,n,i,t[o],6,-198630844),i=ee(i,e,r,n,t[o+7],10,1126891415),n=ee(n,i,e,r,t[o+14],15,-1416354905),r=ee(r,n,i,e,t[o+5],21,-57434055),e=ee(e,r,n,i,t[o+12],6,1700485571),i=ee(i,e,r,n,t[o+3],10,-1894986606),n=ee(n,i,e,r,t[o+10],15,-1051523),r=ee(r,n,i,e,t[o+1],21,-2054922799),e=ee(e,r,n,i,t[o+8],6,1873313359),i=ee(i,e,r,n,t[o+15],10,-30611744),n=ee(n,i,e,r,t[o+6],15,-1560198380),r=ee(r,n,i,e,t[o+13],21,1309151649),e=ee(e,r,n,i,t[o+4],6,-145523070),i=ee(i,e,r,n,t[o+11],10,-1120210379),n=ee(n,i,e,r,t[o+2],15,718787259),r=ee(r,n,i,e,t[o+9],21,-343485551),e=at(e,s),r=at(r,a),n=at(n,c),i=at(i,l)}return[e,r,n,i]}function aw(t){if(t.length===0)return[];const A=t.length*8,e=new Uint32Array(Ld(A));for(let r=0;r<A;r+=8)e[r>>5]|=(t[r/8]&255)<<r%32;return e}function at(t,A){const e=(t&65535)+(A&65535);return(t>>16)+(A>>16)+(e>>16)<<16|e&65535}function cw(t,A){return t<<A|t>>>32-A}function io(t,A,e,r,n,i){return at(cw(at(at(A,t),at(r,i)),n),e)}function ZA(t,A,e,r,n,i,o){return io(A&e|~A&r,t,A,n,i,o)}function zA(t,A,e,r,n,i,o){return io(A&r|e&~r,t,A,n,i,o)}function Ae(t,A,e,r,n,i,o){return io(A^e^r,t,A,n,i,o)}function ee(t,A,e,r,n,i,o){return io(e^(A|~r),t,A,n,i,o)}var lw=iw;no.default=lw;Object.defineProperty(ro,"__esModule",{value:!0});ro.default=void 0;var uw=Rd(Bt),dw=Rd(no);function Rd(t){return t&&t.__esModule?t:{default:t}}const fw=(0,uw.default)("v3",48,dw.default);var hw=fw;ro.default=hw;var oo={},so={};Object.defineProperty(so,"__esModule",{value:!0});so.default=void 0;const pw=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto);var gw={randomUUID:pw};so.default=gw;Object.defineProperty(oo,"__esModule",{value:!0});oo.default=void 0;var kc=Dd(so),Bw=Dd(eo),vw=wt;function Dd(t){return t&&t.__esModule?t:{default:t}}function mw(t,A,e){if(kc.default.randomUUID&&!A&&!t)return kc.default.randomUUID();t=t||{};const r=t.random||(t.rng||Bw.default)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,A){e=e||0;for(let n=0;n<16;++n)A[e+n]=r[n];return A}return(0,vw.unsafeStringify)(r)}var ww=mw;oo.default=ww;var ao={},co={};Object.defineProperty(co,"__esModule",{value:!0});co.default=void 0;function Cw(t,A,e,r){switch(t){case 0:return A&e^~A&r;case 1:return A^e^r;case 2:return A&e^A&r^e&r;case 3:return A^e^r}}function Zo(t,A){return t<<A|t>>>32-A}function Ew(t){const A=[1518500249,1859775393,2400959708,3395469782],e=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof t=="string"){const o=unescape(encodeURIComponent(t));t=[];for(let s=0;s<o.length;++s)t.push(o.charCodeAt(s))}else Array.isArray(t)||(t=Array.prototype.slice.call(t));t.push(128);const r=t.length/4+2,n=Math.ceil(r/16),i=new Array(n);for(let o=0;o<n;++o){const s=new Uint32Array(16);for(let a=0;a<16;++a)s[a]=t[o*64+a*4]<<24|t[o*64+a*4+1]<<16|t[o*64+a*4+2]<<8|t[o*64+a*4+3];i[o]=s}i[n-1][14]=(t.length-1)*8/Math.pow(2,32),i[n-1][14]=Math.floor(i[n-1][14]),i[n-1][15]=(t.length-1)*8&4294967295;for(let o=0;o<n;++o){const s=new Uint32Array(80);for(let E=0;E<16;++E)s[E]=i[o][E];for(let E=16;E<80;++E)s[E]=Zo(s[E-3]^s[E-8]^s[E-14]^s[E-16],1);let a=e[0],c=e[1],l=e[2],u=e[3],f=e[4];for(let E=0;E<80;++E){const C=Math.floor(E/20),I=Zo(a,5)+Cw(C,c,l,u)+f+A[C]+s[E]>>>0;f=u,u=l,l=Zo(c,30)>>>0,c=a,a=I}e[0]=e[0]+a>>>0,e[1]=e[1]+c>>>0,e[2]=e[2]+l>>>0,e[3]=e[3]+u>>>0,e[4]=e[4]+f>>>0}return[e[0]>>24&255,e[0]>>16&255,e[0]>>8&255,e[0]&255,e[1]>>24&255,e[1]>>16&255,e[1]>>8&255,e[1]&255,e[2]>>24&255,e[2]>>16&255,e[2]>>8&255,e[2]&255,e[3]>>24&255,e[3]>>16&255,e[3]>>8&255,e[3]&255,e[4]>>24&255,e[4]>>16&255,e[4]>>8&255,e[4]&255]}var yw=Ew;co.default=yw;Object.defineProperty(ao,"__esModule",{value:!0});ao.default=void 0;var bw=kd(Bt),Qw=kd(co);function kd(t){return t&&t.__esModule?t:{default:t}}const Uw=(0,bw.default)("v5",80,Qw.default);var Fw=Uw;ao.default=Fw;var lo={};Object.defineProperty(lo,"__esModule",{value:!0});lo.default=void 0;var Sw="00000000-0000-0000-0000-000000000000";lo.default=Sw;var uo={};Object.defineProperty(uo,"__esModule",{value:!0});uo.default=void 0;var Iw=_w(Mt);function _w(t){return t&&t.__esModule?t:{default:t}}function Ow(t){if(!(0,Iw.default)(t))throw TypeError("Invalid UUID");return parseInt(t.slice(14,15),16)}var xw=Ow;uo.default=xw;(function(t){Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"NIL",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(t,"parse",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(t,"v1",{enumerable:!0,get:function(){return A.default}}),Object.defineProperty(t,"v3",{enumerable:!0,get:function(){return e.default}}),Object.defineProperty(t,"v4",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(t,"v5",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(t,"validate",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(t,"version",{enumerable:!0,get:function(){return o.default}});var A=l(Ao),e=l(ro),r=l(oo),n=l(ao),i=l(lo),o=l(uo),s=l(Mt),a=l(wt),c=l(En);function l(u){return u&&u.__esModule?u:{default:u}}})(Ha);var La=D&&D.__extends||function(){var t=function(A,e){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},t(A,e)};return function(A,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");t(A,e);function r(){this.constructor=A}A.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Si=D&&D.__assign||function(){return Si=Object.assign||function(t){for(var A,e=1,r=arguments.length;e<r;e++){A=arguments[e];for(var n in A)Object.prototype.hasOwnProperty.call(A,n)&&(t[n]=A[n])}return t},Si.apply(this,arguments)},zo=D&&D.__awaiter||function(t,A,e,r){function n(i){return i instanceof e?i:new e(function(o){o(i)})}return new(e||(e=Promise))(function(i,o){function s(l){try{c(r.next(l))}catch(u){o(u)}}function a(l){try{c(r.throw(l))}catch(u){o(u)}}function c(l){l.done?i(l.value):n(l.value).then(s,a)}c((r=r.apply(t,A||[])).next())})},As=D&&D.__generator||function(t,A){var e={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,n,i,o;return o={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function s(c){return function(l){return a([c,l])}}function a(c){if(r)throw new TypeError("Generator is already executing.");for(;o&&(o=0,c[0]&&(e=0)),e;)try{if(r=1,n&&(i=c[0]&2?n.return:c[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,c[1])).done)return i;switch(n=0,i&&(c=[c[0]&2,i.value]),c[0]){case 0:case 1:i=c;break;case 4:return e.label++,{value:c[1],done:!1};case 5:e.label++,n=c[1],c=[0];continue;case 7:c=e.ops.pop(),e.trys.pop();continue;default:if(i=e.trys,!(i=i.length>0&&i[i.length-1])&&(c[0]===6||c[0]===2)){e=0;continue}if(c[0]===3&&(!i||c[1]>i[0]&&c[1]<i[3])){e.label=c[1];break}if(c[0]===6&&e.label<i[1]){e.label=i[1],i=c;break}if(i&&e.label<i[2]){e.label=i[2],e.ops.push(c);break}i[2]&&e.ops.pop(),e.trys.pop();continue}c=A.call(t,e)}catch(l){c=[6,l],n=0}finally{r=i=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}};Object.defineProperty(Ne,"__esModule",{value:!0});Ne.WebRtcPeerSendrecv=Ne.WebRtcPeerSendonly=Ne.WebRtcPeerRecvonly=Ne.WebRtcPeer=void 0;var Tw=Tm,Hw=Ha,Nc=Nt,Lw=VA,Rw=_e,TA=Lw.OpenViduLogger.getInstance(),fo=function(){function t(A){var e=this;this.remoteCandidatesQueue=[],this.localCandidatesQueue=[],this.iceCandidateList=[],Rw.PlatformUtils.getInstance(),this.configuration=Si(Si({},A),{iceServers:A.iceServers&&A.iceServers.length>0?A.iceServers:Tw(),mediaStream:A.mediaStream!==void 0?A.mediaStream:null,mode:A.mode?A.mode:"sendrecv",id:A.id?A.id:this.generateUniqueId()}),TA.debug(`[WebRtcPeer] configuration:
`.concat(JSON.stringify(this.configuration,null,2))),this.pc=new RTCPeerConnection({iceServers:this.configuration.iceServers}),this.pc.addEventListener("icecandidate",function(r){if(r.candidate!==null){var n=r.candidate,i=new RTCIceCandidate(n);e.configuration.onIceCandidate(i),i.candidate!==""&&e.localCandidatesQueue.push(i)}}),this.pc.addEventListener("signalingstatechange",function(){return zo(e,void 0,void 0,function(){var r,n;return As(this,function(i){switch(i.label){case 0:if(this.pc.signalingState!=="stable")return[3,6];i.label=1;case 1:if(!(this.iceCandidateList.length>0))return[3,6];r=this.iceCandidateList.shift(),i.label=2;case 2:return i.trys.push([2,4,,5]),[4,this.pc.addIceCandidate(r)];case 3:return i.sent(),[3,5];case 4:return n=i.sent(),TA.error("Error when calling RTCPeerConnection#addIceCandidate for RTCPeerConnection "+this.getId(),n),[3,5];case 5:return[3,1];case 6:return[2]}})})})}return t.prototype.getId=function(){return this.configuration.id},t.prototype.dispose=function(){if(TA.debug("Disposing WebRtcPeer"),this.pc){if(this.pc.signalingState==="closed")return;this.pc.close(),this.remoteCandidatesQueue=[],this.localCandidatesQueue=[]}},t.prototype.createOfferLegacy=function(){this.configuration.mediaStream&&this.deprecatedPeerConnectionTrackApi();var A=this.configuration.mediaConstraints.audio,e=this.configuration.mediaConstraints.video,r={offerToReceiveAudio:this.configuration.mode!=="sendonly"&&A,offerToReceiveVideo:this.configuration.mode!=="sendonly"&&e};return TA.debug("[createOfferLegacy] RTCPeerConnection.createOffer() options:",JSON.stringify(r)),this.pc.createOffer(r)},t.prototype.createOffer=function(){var A,e,r,n,i,o,s,a;return zo(this,void 0,void 0,function(){var c,l,u,f,E,C,I,y,p,U,O,B,b,Q,R,g,T,L,V,M,k,d,v,L;return As(this,function(m){switch(m.label){case 0:if("addTransceiver"in this.pc)TA.debug("[createOffer] Method RTCPeerConnection.addTransceiver() is available; using it");else return TA.warn("[createOffer] Method RTCPeerConnection.addTransceiver() is NOT available; using LEGACY offerToReceive{Audio,Video}"),[2,this.createOfferLegacy()];if(this.configuration.mode==="recvonly")return[3,7];if(!this.configuration.mediaStream)throw new Error("[WebRtcPeer.createOffer] Direction is '".concat(this.configuration.mode,"', but no stream was configured to be sent"));c=0,l=this.configuration.mediaStream.getTracks(),m.label=1;case 1:if(!(c<l.length))return[3,6];if(u=l[c],f={direction:this.configuration.mode,streams:[this.configuration.mediaStream]},u.kind==="video"&&this.configuration.simulcast)for(E=u.getSettings(),C=u.getConstraints(),I=(r=(e=(A=E.width)!==null&&A!==void 0?A:C.width.ideal)!==null&&e!==void 0?e:C.width)!==null&&r!==void 0?r:0,y=(o=(i=(n=E.height)!==null&&n!==void 0?n:C.height.ideal)!==null&&i!==void 0?i:C.height)!==null&&o!==void 0?o:0,TA.info("[createOffer] Video track dimensions: ".concat(I,"x").concat(y)),p=I*y,U=0,p>=960*540?U=3:p>=480*270?U=2:U=1,f.sendEncodings=[],O=0;O<U;O++)B=Math.pow(2,U-O-1),b={rid:"rdiv"+B.toString(),scalabilityMode:"L1T1"},["detail","text"].includes(u.contentHint)?(b.scaleResolutionDownBy=1,b.maxFramerate=Math.floor(30/B)):b.scaleResolutionDownBy=B,f.sendEncodings.push(b);if(Q=this.pc.addTransceiver(u,f),u.kind!=="video")return[3,5];if(R=Q.sender.getParameters(),g=!1,!((s=R.degradationPreference)===null||s===void 0)&&s.length||(["detail","text"].includes(u.contentHint)?R.degradationPreference="maintain-resolution":R.degradationPreference="balanced",TA.info("[createOffer] Video sender Degradation Preference set: ".concat(R.degradationPreference)),g=!0),this.configuration.simulcast&&((a=R.encodings)===null||a===void 0?void 0:a.length)!==f.sendEncodings.length&&(R.encodings=f.sendEncodings,g=!0),!g)return[3,5];TA.debug("[createOffer] Setting new RTCRtpSendParameters to video sender"),m.label=2;case 2:return m.trys.push([2,4,,5]),[4,Q.sender.setParameters(R)];case 3:return m.sent(),[3,5];case 4:throw T=m.sent(),L="[WebRtcPeer.createOffer] Cannot set RTCRtpSendParameters to video sender",T instanceof Error&&(L+=": ".concat(T.message)),new Error(L);case 5:return c++,[3,1];case 6:return[3,8];case 7:for(V=0,M=["audio","video"];V<M.length;V++)k=M[V],this.configuration.mediaConstraints[k]&&(this.configuration.mediaStream=new MediaStream,this.pc.addTransceiver(k,{direction:this.configuration.mode,streams:[this.configuration.mediaStream]}));m.label=8;case 8:return m.trys.push([8,10,,11]),[4,this.pc.createOffer()];case 9:return d=m.sent(),[3,11];case 10:throw v=m.sent(),L="[WebRtcPeer.createOffer] Browser failed creating an SDP Offer",v instanceof Error&&(L+=": ".concat(v.message)),new Error(L);case 11:return[2,d]}})})},t.prototype.deprecatedPeerConnectionTrackApi=function(){for(var A=0,e=this.configuration.mediaStream.getTracks();A<e.length;A++){var r=e[A];this.pc.addTrack(r,this.configuration.mediaStream)}},t.prototype.createAnswer=function(){var A=this;return new Promise(function(e,r){if("getTransceivers"in A.pc){TA.debug("[createAnswer] Method RTCPeerConnection.getTransceivers() is available; using it");for(var n=function(f){if(!A.configuration.mediaConstraints[f])return"continue";var E=A.pc.getTransceivers().find(function(C){return C.receiver.track.kind===f});if(E)E.direction=A.configuration.mode;else return{value:r(new Error("".concat(f," requested, but no transceiver was created from remote description")))}},i=0,o=["audio","video"];i<o.length;i++){var s=o[i],a=n(s);if(typeof a=="object")return a.value}A.pc.createAnswer().then(function(f){return e(f)}).catch(function(f){return r(f)})}else{var c=void 0,l=!0;if(A.configuration.mediaConstraints){c=typeof A.configuration.mediaConstraints.audio=="boolean"?A.configuration.mediaConstraints.audio:!0,l=typeof A.configuration.mediaConstraints.video=="boolean"?A.configuration.mediaConstraints.video:!0;var u={offerToReceiveAudio:c,offerToReceiveVideo:l};A.pc.createAnswer(u).then(function(f){return e(f)}).catch(function(f){return r(f)})}}})},t.prototype.processLocalOffer=function(A){var e=this;return new Promise(function(r,n){e.pc.setLocalDescription(A).then(function(){var i=e.pc.localDescription;return i?(TA.debug("Local description set",i.sdp),r()):n("Local description is not defined")}).catch(function(i){return n(i)})})},t.prototype.processRemoteOffer=function(A){var e=this;return new Promise(function(r,n){var i={type:"offer",sdp:A};if(TA.debug("SDP offer received, setting remote description",i),e.pc.signalingState==="closed")return n("RTCPeerConnection is closed when trying to set remote description");e.setRemoteDescription(i).then(function(){return r()}).catch(function(o){return n(o)})})},t.prototype.processLocalAnswer=function(A){var e=this;return new Promise(function(r,n){if(TA.debug("SDP answer created, setting local description"),e.pc.signalingState==="closed")return n("RTCPeerConnection is closed when trying to set local description");e.pc.setLocalDescription(A).then(function(){return r()}).catch(function(i){return n(i)})})},t.prototype.processRemoteAnswer=function(A){var e=this;return new Promise(function(r,n){var i={type:"answer",sdp:A};if(TA.debug("SDP answer received, setting remote description"),e.pc.signalingState==="closed")return n("RTCPeerConnection is closed when trying to set remote description");e.setRemoteDescription(i).then(function(){r()}).catch(function(o){return n(o)})})},t.prototype.setRemoteDescription=function(A){return zo(this,void 0,void 0,function(){return As(this,function(e){return[2,this.pc.setRemoteDescription(A)]})})},t.prototype.addIceCandidate=function(A){var e=this;return new Promise(function(r,n){switch(TA.debug("Remote ICE candidate received",A),e.remoteCandidatesQueue.push(A),e.pc.signalingState){case"closed":n(new Error("PeerConnection object is closed"));break;case"stable":e.pc.remoteDescription?e.pc.addIceCandidate(A).then(function(){return r()}).catch(function(i){return n(i)}):(e.iceCandidateList.push(A),r());break;default:e.iceCandidateList.push(A),r()}})},t.prototype.addIceConnectionStateChangeListener=function(A){var e=this;this.pc.addEventListener("iceconnectionstatechange",function(){var r=e.pc.iceConnectionState;switch(r){case"disconnected":var n="IceConnectionState of RTCPeerConnection "+e.configuration.id+" ("+A+') change to "disconnected". Possible network disconnection';TA.warn(n),e.configuration.onIceConnectionStateException(Nc.ExceptionEventName.ICE_CONNECTION_DISCONNECTED,n);break;case"failed":var i="IceConnectionState of RTCPeerConnection "+e.configuration.id+" ("+A+') to "failed"';TA.error(i),e.configuration.onIceConnectionStateException(Nc.ExceptionEventName.ICE_CONNECTION_FAILED,i);break;case"closed":TA.log("IceConnectionState of RTCPeerConnection "+e.configuration.id+" ("+A+') change to "closed"');break;case"new":TA.log("IceConnectionState of RTCPeerConnection "+e.configuration.id+" ("+A+') change to "new"');break;case"checking":TA.log("IceConnectionState of RTCPeerConnection "+e.configuration.id+" ("+A+') change to "checking"');break;case"connected":TA.log("IceConnectionState of RTCPeerConnection "+e.configuration.id+" ("+A+') change to "connected"');break;case"completed":TA.log("IceConnectionState of RTCPeerConnection "+e.configuration.id+" ("+A+') change to "completed"');break}})},t.prototype.generateUniqueId=function(){return(0,Hw.v4)()},t}();Ne.WebRtcPeer=fo;var Dw=function(t){La(A,t);function A(e){return e.mode="recvonly",t.call(this,e)||this}return A}(fo);Ne.WebRtcPeerRecvonly=Dw;var kw=function(t){La(A,t);function A(e){return e.mode="sendonly",t.call(this,e)||this}return A}(fo);Ne.WebRtcPeerSendonly=kw;var Nw=function(t){La(A,t);function A(e){return e.mode="sendrecv",t.call(this,e)||this}return A}(fo);Ne.WebRtcPeerSendrecv=Nw;var ho={},$t=D&&D.__awaiter||function(t,A,e,r){function n(i){return i instanceof e?i:new e(function(o){o(i)})}return new(e||(e=Promise))(function(i,o){function s(l){try{c(r.next(l))}catch(u){o(u)}}function a(l){try{c(r.throw(l))}catch(u){o(u)}}function c(l){l.done?i(l.value):n(l.value).then(s,a)}c((r=r.apply(t,A||[])).next())})},Wt=D&&D.__generator||function(t,A){var e={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,n,i,o;return o={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function s(c){return function(l){return a([c,l])}}function a(c){if(r)throw new TypeError("Generator is already executing.");for(;o&&(o=0,c[0]&&(e=0)),e;)try{if(r=1,n&&(i=c[0]&2?n.return:c[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,c[1])).done)return i;switch(n=0,i&&(c=[c[0]&2,i.value]),c[0]){case 0:case 1:i=c;break;case 4:return e.label++,{value:c[1],done:!1};case 5:e.label++,n=c[1],c=[0];continue;case 7:c=e.ops.pop(),e.trys.pop();continue;default:if(i=e.trys,!(i=i.length>0&&i[i.length-1])&&(c[0]===6||c[0]===2)){e=0;continue}if(c[0]===3&&(!i||c[1]>i[0]&&c[1]<i[3])){e.label=c[1];break}if(c[0]===6&&e.label<i[1]){e.label=i[1],i=c;break}if(i&&e.label<i[2]){e.label=i[2],e.ops.push(c);break}i[2]&&e.ops.pop(),e.trys.pop();continue}c=A.call(t,e)}catch(l){c=[6,l],n=0}finally{r=i=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}};Object.defineProperty(ho,"__esModule",{value:!0});ho.WebRtcStats=void 0;var Mw=VA,Pw=_e,bt=Mw.OpenViduLogger.getInstance(),Xt,Vw=function(){function t(A){this.stream=A,this.STATS_ITEM_NAME="webrtc-stats-config",this.webRtcStatsEnabled=!1,this.statsInterval=1,Xt=Pw.PlatformUtils.getInstance()}return t.prototype.isEnabled=function(){return this.webRtcStatsEnabled},t.prototype.initWebRtcStats=function(){var A=this,e;try{e=localStorage.getItem(this.STATS_ITEM_NAME)}catch{}if(e){this.webRtcStatsEnabled=!0;var r=JSON.parse(e);bt.warn("WebRtc stats enabled for stream "+this.stream.streamId+" of connection "+this.stream.connection.connectionId),bt.warn("localStorage item: "+JSON.stringify(r)),this.POST_URL=r.httpEndpoint,this.statsInterval=r.interval,this.webRtcStatsIntervalId=setInterval(function(){return $t(A,void 0,void 0,function(){return Wt(this,function(n){switch(n.label){case 0:return[4,this.sendStatsToHttpEndpoint()];case 1:return n.sent(),[2]}})})},this.statsInterval*1e3)}else bt.debug("WebRtc stats not enabled")},t.prototype.getSelectedIceCandidateInfo=function(){var A=this;return new Promise(function(e,r){return $t(A,void 0,void 0,function(){var n,i,o,s,a,c,l,u,f,E,C,I,y,p,b,Q,U,O,T,B,b,Q,R,g,T;return Wt(this,function(V){switch(V.label){case 0:return[4,this.stream.getRTCPeerConnection().getStats()];case 1:if(n=V.sent(),o=new Map,s=new Map,a=new Map,n.forEach(function(M){switch(M.type==="transport"&&(Xt.isChromium()||Xt.isSafariBrowser()||Xt.isReactNative())&&(i=M),M.type){case"candidate-pair":o.set(M.id,M);break;case"local-candidate":s.set(M.id,M);break;case"remote-candidate":a.set(M.id,M);break}}),i!=null)l=i.selectedCandidatePairId,c=o.get(l);else for(u=o.size,f=o.values(),E=0;E<u;E++)if(C=f.next().value,C.selected){c=C;break}if(I=c.localCandidateId,y=c.remoteCandidateId,p=s.get(I),p)for(b=this.stream.getLocalIceCandidateList(),Q=b.filter(function(M){return!!M.candidate&&(M.candidate.indexOf(p.ip)>=0||M.candidate.indexOf(p.address)>=0)&&M.candidate.indexOf(p.port)>=0}),p.raw=[],U=0,O=Q;U<O.length;U++)T=O[U],p.raw.push(T.candidate);else p="ERROR: No active local ICE candidate. Probably ICE-TCP is being used";if(B=a.get(y),B)for(b=this.stream.getRemoteIceCandidateList(),Q=b.filter(function(M){return!!M.candidate&&(M.candidate.indexOf(B.ip)>=0||M.candidate.indexOf(B.address)>=0)&&M.candidate.indexOf(B.port)>=0}),B.raw=[],R=0,g=Q;R<g.length;R++)T=g[R],B.raw.push(T.candidate);else B="ERROR: No active remote ICE candidate. Probably ICE-TCP is being used";return[2,e({localCandidate:p,remoteCandidate:B})]}})})})},t.prototype.stopWebRtcStats=function(){this.webRtcStatsEnabled&&(clearInterval(this.webRtcStatsIntervalId),bt.warn("WebRtc stats stopped for disposed stream "+this.stream.streamId+" of connection "+this.stream.connection.connectionId))},t.prototype.sendStats=function(A,e){return $t(this,void 0,void 0,function(){var r,n;return Wt(this,function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),r={headers:{"Content-type":"application/json"},body:JSON.stringify(e),method:"POST"},[4,fetch(A,r)];case 1:return i.sent(),[3,3];case 2:return n=i.sent(),bt.error("sendStats error: ".concat(JSON.stringify(n))),[3,3];case 3:return[2]}})})},t.prototype.sendStatsToHttpEndpoint=function(){return $t(this,void 0,void 0,function(){var A,e,r;return Wt(this,function(n){switch(n.label){case 0:return n.trys.push([0,3,,4]),[4,this.getCommonStats()];case 1:return A=n.sent(),e=this.generateJSONStatsResponse(A),[4,this.sendStats(this.POST_URL,e)];case 2:return n.sent(),[3,4];case 3:return r=n.sent(),bt.log(r),[3,4];case 4:return[2]}})})},t.prototype.getCommonStats=function(){return $t(this,void 0,void 0,function(){var A=this;return Wt(this,function(e){return[2,new Promise(function(r,n){return $t(A,void 0,void 0,function(){var i,o,s,a,c,l=this;return Wt(this,function(u){switch(u.label){case 0:return u.trys.push([0,2,,3]),[4,this.stream.getRTCPeerConnection().getStats()];case 1:return i=u.sent(),o=this.getWebRtcStatsResponseOutline(),s=["framesReceived","framesDropped","framesSent","frameHeight","frameWidth"],a=["availableOutgoingBitrate","currentRoundTripTime"],i.forEach(function(f){var E=f.mediaType!=null?f.mediaType:f.kind,C=function(I,y){f[y]!=null&&o[I]!=null&&(!E&&s.indexOf(y)>-1&&(E="video"),I!=null&&E!=null&&y!=null&&o[I][E]!=null?o[I][E][y]=Number(f[y]):I!=null&&y!=null&&a.includes(y)&&(o[I][y]=Number(f[y])))};switch(f.type){case"outbound-rtp":C("outbound","bytesSent"),C("outbound","packetsSent"),C("outbound","framesEncoded"),C("outbound","nackCount"),C("outbound","firCount"),C("outbound","pliCount"),C("outbound","qpSum");break;case"inbound-rtp":C("inbound","bytesReceived"),C("inbound","packetsReceived"),C("inbound","packetsLost"),C("inbound","jitter"),C("inbound","framesDecoded"),C("inbound","nackCount"),C("inbound","firCount"),C("inbound","pliCount");break;case"track":C("inbound","jitterBufferDelay"),C("inbound","framesReceived"),C("outbound","framesDropped"),C("outbound","framesSent"),C(l.stream.isLocal()?"outbound":"inbound","frameHeight"),C(l.stream.isLocal()?"outbound":"inbound","frameWidth");break;case"candidate-pair":C("candidatepair","currentRoundTripTime"),C("candidatepair","availableOutgoingBitrate");break}}),(!(o!=null&&o.candidatepair)||Object.keys(o.candidatepair).length===0)&&delete o.candidatepair,[2,r(o)];case 2:return c=u.sent(),bt.error("Error getting common stats: ",c),[2,n(c)];case 3:return[2]}})})})]})})},t.prototype.generateJSONStatsResponse=function(A){return{"@timestamp":new Date().toISOString(),participant_id:this.stream.connection.data,session_id:this.stream.session.sessionId,platform:Xt.getName(),platform_description:Xt.getDescription(),stream:"webRTC",webrtc_stats:A}},t.prototype.getWebRtcStatsResponseOutline=function(){return this.stream.isLocal()?{outbound:{audio:{},video:{}},candidatepair:{}}:{inbound:{audio:{},video:{}}}},t}();ho.WebRtcStats=Vw;var yn={},Kw=D&&D.__extends||function(){var t=function(A,e){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},t(A,e)};return function(A,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");t(A,e);function r(){this.constructor=A}A.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}();Object.defineProperty(yn,"__esModule",{value:!0});yn.PublisherSpeakingEvent=void 0;var Gw=WA,$w=function(t){Kw(A,t);function A(e,r,n,i){var o=t.call(this,!1,e,r)||this;return o.type=r,o.connection=n,o.streamId=i,o}return A.prototype.callDefaultBehavior=function(){},A}(Gw.Event);yn.PublisherSpeakingEvent=$w;var po={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.TypeOfVideo=void 0,function(A){A.CAMERA="CAMERA",A.SCREEN="SCREEN",A.CUSTOM="CUSTOM",A.IPCAM="IPCAM"}(t.TypeOfVideo||(t.TypeOfVideo={}))})(po);var Ww=Ii;function Ii(){}Ii.mixin=function(t){var A=t.prototype||t;A.isWildEmitter=!0,A.on=function(e,r,n){this.callbacks=this.callbacks||{};var i=arguments.length===3,o=i?arguments[1]:void 0,s=i?arguments[2]:arguments[1];return s._groupName=o,(this.callbacks[e]=this.callbacks[e]||[]).push(s),this},A.once=function(e,r,n){var i=this,o=arguments.length===3,s=o?arguments[1]:void 0,a=o?arguments[2]:arguments[1];function c(){i.off(e,c),a.apply(this,arguments)}return this.on(e,s,c),this},A.releaseGroup=function(e){this.callbacks=this.callbacks||{};var r,n,i,o;for(r in this.callbacks)for(o=this.callbacks[r],n=0,i=o.length;n<i;n++)o[n]._groupName===e&&(o.splice(n,1),n--,i--);return this},A.off=function(e,r){this.callbacks=this.callbacks||{};var n=this.callbacks[e],i;return n?arguments.length===1?(delete this.callbacks[e],this):(i=n.indexOf(r),i!==-1&&(n.splice(i,1),n.length===0&&delete this.callbacks[e]),this):this},A.emit=function(e){this.callbacks=this.callbacks||{};var r=[].slice.call(arguments,1),n=this.callbacks[e],i=this.getWildcardCallbacks(e),o,s,a;if(n)for(a=n.slice(),o=0,s=a.length;o<s&&a[o];++o)a[o].apply(this,r);if(i)for(s=i.length,a=i.slice(),o=0,s=a.length;o<s&&a[o];++o)a[o].apply(this,[e].concat(r));return this},A.getWildcardCallbacks=function(e){this.callbacks=this.callbacks||{};var r,n,i=[];for(r in this.callbacks)n=r.split("*"),(r==="*"||n.length===2&&e.slice(0,n[0].length)===n[0])&&(i=i.concat(this.callbacks[r]));return i}};Ii.mixin(Ii);var Xw=Ww;function jw(t,A){var e=-1/0;t.getFloatFrequencyData(A);for(var r=4,n=A.length;r<n;r++)A[r]>e&&A[r]<0&&(e=A[r]);return e}var Vs;typeof window<"u"&&(Vs=window.AudioContext||window.webkitAudioContext);var Ue=null,Jw=function(t,r){var e=new Xw;if(!Vs)return e;var r=r||{},n=r.smoothing||.1,i=r.interval||50,o=r.threshold,s=r.play,a=r.history||10,c=!0;Ue=r.audioContext||Ue||new Vs;var l,u,f;f=Ue.createAnalyser(),f.fftSize=512,f.smoothingTimeConstant=n,u=new Float32Array(f.frequencyBinCount),t.jquery&&(t=t[0]),t instanceof HTMLAudioElement||t instanceof HTMLVideoElement?(l=Ue.createMediaElementSource(t),typeof s>"u"&&(s=!0),o=o||-50):(l=Ue.createMediaStreamSource(t),o=o||-50),l.connect(f),s&&f.connect(Ue.destination),e.speaking=!1,e.suspend=function(){return Ue.suspend()},e.resume=function(){return Ue.resume()},Object.defineProperty(e,"state",{get:function(){return Ue.state}}),Ue.onstatechange=function(){e.emit("state_change",Ue.state)},e.setThreshold=function(I){o=I},e.setInterval=function(I){i=I},e.stop=function(){c=!1,e.emit("volume_change",-100,o),e.speaking&&(e.speaking=!1,e.emit("stopped_speaking")),f.disconnect(),l.disconnect()},e.speakingHistory=[];for(var E=0;E<a;E++)e.speakingHistory.push(0);var C=function(){setTimeout(function(){if(c){var I=jw(f,u);e.emit("volume_change",I,o);var y=0;if(I>o&&!e.speaking){for(var p=e.speakingHistory.length-3;p<e.speakingHistory.length;p++)y+=e.speakingHistory[p];y>=2&&(e.speaking=!0,e.emit("speaking"))}else if(I<o&&e.speaking){for(var p=0;p<e.speakingHistory.length;p++)y+=e.speakingHistory[p];y==0&&(e.speaking=!1,e.emit("stopped_speaking"))}e.speakingHistory.shift(),e.speakingHistory.push(0+(I>o)),C()}},i)};return C(),e},Te=D&&D.__awaiter||function(t,A,e,r){function n(i){return i instanceof e?i:new e(function(o){o(i)})}return new(e||(e=Promise))(function(i,o){function s(l){try{c(r.next(l))}catch(u){o(u)}}function a(l){try{c(r.throw(l))}catch(u){o(u)}}function c(l){l.done?i(l.value):n(l.value).then(s,a)}c((r=r.apply(t,A||[])).next())})},He=D&&D.__generator||function(t,A){var e={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,n,i,o;return o={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function s(c){return function(l){return a([c,l])}}function a(c){if(r)throw new TypeError("Generator is already executing.");for(;o&&(o=0,c[0]&&(e=0)),e;)try{if(r=1,n&&(i=c[0]&2?n.return:c[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,c[1])).done)return i;switch(n=0,i&&(c=[c[0]&2,i.value]),c[0]){case 0:case 1:i=c;break;case 4:return e.label++,{value:c[1],done:!1};case 5:e.label++,n=c[1],c=[0];continue;case 7:c=e.ops.pop(),e.trys.pop();continue;default:if(i=e.trys,!(i=i.length>0&&i[i.length-1])&&(c[0]===6||c[0]===2)){e=0;continue}if(c[0]===3&&(!i||c[1]>i[0]&&c[1]<i[3])){e.label=c[1];break}if(c[0]===6&&e.label<i[1]){e.label=i[1],i=c;break}if(i&&e.label<i[2]){e.label=i[2],e.ops.push(c);break}i[2]&&e.ops.pop(),e.trys.pop();continue}c=A.call(t,e)}catch(l){c=[6,l],n=0}finally{r=i=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}};Object.defineProperty(hr,"__esModule",{value:!0});hr.Stream=void 0;var es=pr,Yw=gr,ts=Ne,qw=ho,Or=Nt,rt=yn,Mc=mr,Xn=et,LA=kt,nt=po,Zw=VA,zw=_e,AC=Ha,eC=Jw,Pc=Ta,mA=Zw.OpenViduLogger.getInstance(),Vc,tC=function(){function t(A,e){var r=this;this.isSubscribeToRemote=!1,this.isLocalStreamReadyToPublish=!1,this.isLocalStreamPublished=!1,this.publishedOnce=!1,this.harkSpeakingEnabled=!1,this.harkSpeakingEnabledOnce=!1,this.harkStoppedSpeakingEnabled=!1,this.harkStoppedSpeakingEnabledOnce=!1,this.harkVolumeChangeEnabled=!1,this.harkVolumeChangeEnabledOnce=!1,this.ee=new Pc,Vc=zw.PlatformUtils.getInstance(),this.session=A,e.hasOwnProperty("id")?(this.inboundStreamOpts=e,this.streamId=this.inboundStreamOpts.id,this.creationTime=this.inboundStreamOpts.createdAt,this.hasAudio=this.inboundStreamOpts.hasAudio,this.hasVideo=this.inboundStreamOpts.hasVideo,this.hasAudio&&(this.audioActive=this.inboundStreamOpts.audioActive),this.hasVideo&&(this.videoActive=this.inboundStreamOpts.videoActive,this.typeOfVideo=this.inboundStreamOpts.typeOfVideo?this.inboundStreamOpts.typeOfVideo:void 0,this.frameRate=this.inboundStreamOpts.frameRate===-1?void 0:this.inboundStreamOpts.frameRate,this.videoDimensions=this.inboundStreamOpts.videoDimensions),this.inboundStreamOpts.filter&&Object.keys(this.inboundStreamOpts.filter).length>0&&(this.inboundStreamOpts.filter.lastExecMethod&&Object.keys(this.inboundStreamOpts.filter.lastExecMethod).length===0&&delete this.inboundStreamOpts.filter.lastExecMethod,this.filter=this.inboundStreamOpts.filter)):(this.outboundStreamOpts=e,this.hasAudio=this.isSendAudio(),this.hasVideo=this.isSendVideo(),this.hasAudio&&(this.audioActive=!!this.outboundStreamOpts.publisherProperties.publishAudio),this.hasVideo&&(this.videoActive=!!this.outboundStreamOpts.publisherProperties.publishVideo,this.frameRate=this.outboundStreamOpts.publisherProperties.frameRate,typeof MediaStreamTrack<"u"&&this.outboundStreamOpts.publisherProperties.videoSource instanceof MediaStreamTrack?this.typeOfVideo=nt.TypeOfVideo.CUSTOM:this.typeOfVideo=this.isSendScreen()?nt.TypeOfVideo.SCREEN:nt.TypeOfVideo.CAMERA),this.outboundStreamOpts.publisherProperties.filter&&(this.filter=this.outboundStreamOpts.publisherProperties.filter)),this.ee.on("mediastream-updated",function(){var n;r.streamManager.updateMediaStream(r.mediaStream),mA.debug("Video srcObject ["+((n=r.mediaStream)===null||n===void 0?void 0:n.id)+"] updated in stream ["+r.streamId+"]")})}return t.prototype.reconnect=function(){return this.reconnectStream("API")},t.prototype.applyFilter=function(A,e){var r=this;return new Promise(function(n,i){return Te(r,void 0,void 0,function(){var o,s,a,c,l,u,f=this;return He(this,function(E){if(this.filter)return[2,i(new LA.OpenViduError(LA.OpenViduErrorName.GENERIC_ERROR,"There is already a filter applied to Stream "+this.streamId))];if(o=function(C,I){if(C)return mA.error("Error applying filter for Stream "+f.streamId,C),C.code===401?i(new LA.OpenViduError(LA.OpenViduErrorName.OPENVIDU_PERMISSION_DENIED,"You don't have permissions to apply a filter")):i(C);mA.info("Filter successfully applied on Stream "+f.streamId);var y=f.filter;return f.filter=new es.Filter(A,e),f.filter.stream=f,I&&(f.session.emitEvent("streamPropertyChanged",[new Xn.StreamPropertyChangedEvent(f.session,f,"filter",f.filter,y,"applyFilter")]),f.streamManager.emitEvent("streamPropertyChanged",[new Xn.StreamPropertyChangedEvent(f.streamManager,f,"filter",f.filter,y,"applyFilter")])),n(f.filter)},A.startsWith("VB:")){if(!this.hasVideo)return[2,i(new LA.OpenViduError(LA.OpenViduErrorName.VIRTUAL_BACKGROUND_ERROR,"The Virtual Background filter requires a video track to be applied"))];if(!this.mediaStream||this.streamManager.videos.length===0)return[2,i(new LA.OpenViduError(LA.OpenViduErrorName.VIRTUAL_BACKGROUND_ERROR,"The StreamManager requires some video element to be attached to it in order to apply a Virtual Background filter"))];if(this.session.token?s=this.session.token:s=e.token,!s)return[2,i(new LA.OpenViduError(LA.OpenViduErrorName.VIRTUAL_BACKGROUND_ERROR,'Virtual Background requires the client to be connected to a Session or to have a "token" property available in "options" parameter with a valid OpenVidu token'))];if(a=this.session.getTokenParams(s),a.edition!=="pro"&&a.edition!=="enterprise")return[2,i(new LA.OpenViduError(LA.OpenViduErrorName.VIRTUAL_BACKGROUND_ERROR,"OpenVidu Virtual Background API is available from OpenVidu Pro edition onwards"))];s=encodeURIComponent(btoa(s)),mA.info("Applying Virtual Background to stream "+this.streamId),c=function(){return Te(f,void 0,void 0,function(){var C,I,y,p,U,O,B;return He(this,function(b){switch(b.label){case 0:return b.trys.push([0,8,,9]),C=this.streamId+"_"+(0,AC.v4)(),I=this.mediaStream.clone(),y=this.streamManager.videos[0].video.cloneNode(!1),y.id=VirtualBackground.VirtualBackground.SOURCE_VIDEO_PREFIX+C,y.srcObject=I,y.muted=!0,this.virtualBackgroundSourceElements={videoClone:y,mediaStreamClone:I},VirtualBackground.VirtualBackground.hideHtmlElement(y,!1),VirtualBackground.VirtualBackground.appendHtmlElementToHiddenContainer(y,C),[4,y.play()];case 1:switch(b.sent(),p=new VirtualBackground.VirtualBackground({id:C,openviduServerUrl:new URL(a.httpUri),openviduToken:s,inputVideo:y,inputResolution:"160x96",outputFramerate:24}),U=void 0,O=A,O){case"VB:blur":return[3,2];case"VB:image":return[3,4]}return[3,6];case 2:return[4,p.backgroundBlur(e)];case 3:return U=b.sent(),[3,7];case 4:return[4,p.backgroundImage(e)];case 5:return U=b.sent(),[3,7];case 6:throw new Error("Unknown Virtual Background filter: "+A);case 7:return this.virtualBackgroundSinkElements={VB:p,video:U},y.style.display="none",this.streamManager.remote?this.streamManager.replaceTrackInMediaStream(this.virtualBackgroundSinkElements.video.srcObject.getVideoTracks()[0],!1):this.streamManager.replaceTrackAux(this.virtualBackgroundSinkElements.video.srcObject.getVideoTracks()[0],!1),o(void 0,!1),[3,9];case 8:return B=b.sent(),B.name===LA.OpenViduErrorName.VIRTUAL_BACKGROUND_ERROR?o(new LA.OpenViduError(LA.OpenViduErrorName.VIRTUAL_BACKGROUND_ERROR,B.message),!1):o(B,!1),[3,9];case 9:return[2]}})})},typeof VirtualBackground>"u"?(l=document.createElement("script"),l.type="text/javascript",l.src=a.httpUri+"/openvidu/virtual-background/openvidu-virtual-background.js?token="+s,l.onload=function(){return Te(f,void 0,void 0,function(){var C;return He(this,function(I){switch(I.label){case 0:return I.trys.push([0,2,,3]),[4,c()];case 1:return I.sent(),n(new es.Filter(A,e)),[3,3];case 2:return C=I.sent(),i(C),[3,3];case 3:return[2]}})})},document.body.appendChild(l)):c().then(function(){return n(new es.Filter(A,e))}).catch(function(C){return i(C)})}else{if(!this.session.sessionConnected())return[2,i(this.session.notConnectedError())];mA.info("Applying server filter to stream "+this.streamId),e=e??{},u=e,typeof u!="string"&&(u=JSON.stringify(u)),this.session.openvidu.sendRequest("applyFilter",{streamId:this.streamId,type:A,options:u},function(C,I){o(C,!0)})}return[2]})})})},t.prototype.removeFilter=function(){return Te(this,void 0,void 0,function(){return He(this,function(A){switch(A.label){case 0:return[4,this.removeFilterAux(!1)];case 1:return[2,A.sent()]}})})},t.prototype.getRTCPeerConnection=function(){return this.webRtcPeer.pc},t.prototype.getMediaStream=function(){return this.mediaStream},t.prototype.removeFilterAux=function(A){var e=this;return new Promise(function(r,n){return Te(e,void 0,void 0,function(){var i,o,s,a=this,c;return He(this,function(l){switch(l.label){case 0:if(i=function(u,f){if(u)return delete a.filter,mA.error("Error removing filter for Stream "+a.streamId,u),u.code===401?n(new LA.OpenViduError(LA.OpenViduErrorName.OPENVIDU_PERMISSION_DENIED,"You don't have permissions to remove a filter")):n(u);mA.info("Filter successfully removed from Stream "+a.streamId);var E=a.filter;return delete a.filter,f&&(a.session.emitEvent("streamPropertyChanged",[new Xn.StreamPropertyChangedEvent(a.session,a,"filter",a.filter,E,"applyFilter")]),a.streamManager.emitEvent("streamPropertyChanged",[new Xn.StreamPropertyChangedEvent(a.streamManager,a,"filter",a.filter,E,"applyFilter")])),r()},!this.filter)return[3,11];if(!(!((c=this.filter)===null||c===void 0)&&c.type.startsWith("VB:")))return[3,9];l.label=1;case 1:return l.trys.push([1,7,,8]),o=this.virtualBackgroundSourceElements.mediaStreamClone,A?[3,5]:this.streamManager.remote?(this.streamManager.replaceTrackInMediaStream(o.getVideoTracks()[0],!1),[3,4]):[3,2];case 2:return[4,this.streamManager.replaceTrackAux(o.getVideoTracks()[0],!1)];case 3:l.sent(),l.label=4;case 4:return[3,6];case 5:o.getTracks().forEach(function(u){return u.stop()}),l.label=6;case 6:return this.virtualBackgroundSinkElements.VB.cleanUp(),delete this.virtualBackgroundSinkElements,delete this.virtualBackgroundSourceElements,[2,i(void 0,!1)];case 7:return s=l.sent(),[2,i(s,!1)];case 8:return[3,10];case 9:if(!this.session.sessionConnected())return[2,n(this.session.notConnectedError())];mA.info("Removing filter of stream "+this.streamId),this.session.openvidu.sendRequest("removeFilter",{streamId:this.streamId},function(u,f){return i(u,!0)}),l.label=10;case 10:return[3,12];case 11:return[2,n(new LA.OpenViduError(LA.OpenViduErrorName.GENERIC_ERROR,"Stream "+this.streamId+" has no filter applied"))];case 12:return[2]}})})})},t.prototype.setMediaStream=function(A){this.mediaStream=A},t.prototype.updateMediaStreamInVideos=function(){this.ee.emitEvent("mediastream-updated",[])},t.prototype.getWebRtcPeer=function(){return this.webRtcPeer},t.prototype.subscribeToMyRemote=function(A){this.isSubscribeToRemote=A},t.prototype.setOutboundStreamOptions=function(A){this.outboundStreamOpts=A},t.prototype.subscribe=function(){var A=this;return new Promise(function(e,r){A.initWebRtcPeerReceive(!1).then(function(){return e()}).catch(function(n){return r(n)})})},t.prototype.publish=function(){var A=this;return new Promise(function(e,r){A.isLocalStreamReadyToPublish?A.initWebRtcPeerSend(!1).then(function(){return e()}).catch(function(n){return r(n)}):A.ee.once("stream-ready-to-publish",function(){A.publish().then(function(){return e()}).catch(function(n){return r(n)})})})},t.prototype.disposeWebRtcPeer=function(){var A;this.webRtcPeer&&(this.webRtcPeer.dispose(),A=this.webRtcPeer.getId()),this.stopWebRtcStats(),mA.info((this.outboundStreamOpts?"Outbound ":"Inbound ")+"RTCPeerConnection with id ["+A+"] from 'Stream' with id ["+this.streamId+"] is now closed")},t.prototype.disposeMediaStream=function(){return Te(this,void 0,void 0,function(){var A;return He(this,function(e){switch(e.label){case 0:if(!(this.filter&&this.filter.type.startsWith("VB:")))return[3,4];e.label=1;case 1:return e.trys.push([1,3,,4]),[4,this.removeFilterAux(!0)];case 2:return e.sent(),console.debug("Success removing Virtual Background filter for stream ".concat(this.streamId)),[3,4];case 3:return A=e.sent(),console.error("Error removing Virtual Background filter for stream ".concat(this.streamId),A),[3,4];case 4:return this.mediaStream&&(this.mediaStream.getAudioTracks().forEach(function(r){r.stop()}),this.mediaStream.getVideoTracks().forEach(function(r){r.stop()}),delete this.mediaStream),this.localMediaStreamWhenSubscribedToRemote&&(this.localMediaStreamWhenSubscribedToRemote.getAudioTracks().forEach(function(r){r.stop()}),this.localMediaStreamWhenSubscribedToRemote.getVideoTracks().forEach(function(r){r.stop()}),delete this.localMediaStreamWhenSubscribedToRemote),this.speechEvent&&(this.speechEvent.stop&&this.speechEvent.stop(),delete this.speechEvent),mA.info((this.outboundStreamOpts?"Local ":"Remote ")+"MediaStream from 'Stream' with id ["+this.streamId+"] is now disposed"),[2]}})})},t.prototype.displayMyRemote=function(){return this.isSubscribeToRemote},t.prototype.isSendAudio=function(){return!!this.outboundStreamOpts&&this.outboundStreamOpts.publisherProperties.audioSource!==null&&this.outboundStreamOpts.publisherProperties.audioSource!==!1},t.prototype.isSendVideo=function(){return!!this.outboundStreamOpts&&this.outboundStreamOpts.publisherProperties.videoSource!==null&&this.outboundStreamOpts.publisherProperties.videoSource!==!1},t.prototype.isSendScreen=function(){var A=!1;if(typeof MediaStreamTrack<"u"&&this.outboundStreamOpts.publisherProperties.videoSource instanceof MediaStreamTrack){var e=this.outboundStreamOpts.publisherProperties.videoSource.getSettings();e.displaySurface&&(A=["monitor","window","browser"].includes(e.displaySurface))}return!A&&Vc.isElectron()&&(A=typeof this.outboundStreamOpts.publisherProperties.videoSource=="string"&&this.outboundStreamOpts.publisherProperties.videoSource.startsWith("screen:")),A||(A=this.outboundStreamOpts.publisherProperties.videoSource==="screen"),!!this.outboundStreamOpts&&A},t.prototype.enableHarkSpeakingEvent=function(){var A=this;this.setHarkListenerIfNotExists(),!this.harkSpeakingEnabled&&this.speechEvent&&(this.harkSpeakingEnabled=!0,this.speechEvent.on("speaking",function(){A.session.emitEvent("publisherStartSpeaking",[new rt.PublisherSpeakingEvent(A.session,"publisherStartSpeaking",A.connection,A.streamId)]),A.streamManager.emitEvent("publisherStartSpeaking",[new rt.PublisherSpeakingEvent(A.streamManager,"publisherStartSpeaking",A.connection,A.streamId)]),A.harkSpeakingEnabledOnce=!1}))},t.prototype.enableOnceHarkSpeakingEvent=function(){var A=this;this.setHarkListenerIfNotExists(),!this.harkSpeakingEnabledOnce&&this.speechEvent&&(this.harkSpeakingEnabledOnce=!0,this.speechEvent.once("speaking",function(){A.harkSpeakingEnabledOnce&&(A.session.emitEvent("publisherStartSpeaking",[new rt.PublisherSpeakingEvent(A.session,"publisherStartSpeaking",A.connection,A.streamId)]),A.streamManager.emitEvent("publisherStartSpeaking",[new rt.PublisherSpeakingEvent(A.streamManager,"publisherStartSpeaking",A.connection,A.streamId)])),A.disableHarkSpeakingEvent(!0)}))},t.prototype.disableHarkSpeakingEvent=function(A){if(this.speechEvent){if(this.harkSpeakingEnabledOnce=!1,A){if(this.harkSpeakingEnabled)return}else this.harkSpeakingEnabled=!1;this.harkVolumeChangeEnabled||this.harkVolumeChangeEnabledOnce||this.harkStoppedSpeakingEnabled||this.harkStoppedSpeakingEnabledOnce?this.speechEvent.off("speaking"):(this.speechEvent.stop(),delete this.speechEvent)}},t.prototype.enableHarkStoppedSpeakingEvent=function(){var A=this;this.setHarkListenerIfNotExists(),!this.harkStoppedSpeakingEnabled&&this.speechEvent&&(this.harkStoppedSpeakingEnabled=!0,this.speechEvent.on("stopped_speaking",function(){A.session.emitEvent("publisherStopSpeaking",[new rt.PublisherSpeakingEvent(A.session,"publisherStopSpeaking",A.connection,A.streamId)]),A.streamManager.emitEvent("publisherStopSpeaking",[new rt.PublisherSpeakingEvent(A.streamManager,"publisherStopSpeaking",A.connection,A.streamId)]),A.harkStoppedSpeakingEnabledOnce=!1}))},t.prototype.enableOnceHarkStoppedSpeakingEvent=function(){var A=this;this.setHarkListenerIfNotExists(),!this.harkStoppedSpeakingEnabledOnce&&this.speechEvent&&(this.harkStoppedSpeakingEnabledOnce=!0,this.speechEvent.once("stopped_speaking",function(){A.harkStoppedSpeakingEnabledOnce&&(A.session.emitEvent("publisherStopSpeaking",[new rt.PublisherSpeakingEvent(A.session,"publisherStopSpeaking",A.connection,A.streamId)]),A.streamManager.emitEvent("publisherStopSpeaking",[new rt.PublisherSpeakingEvent(A.streamManager,"publisherStopSpeaking",A.connection,A.streamId)])),A.disableHarkStoppedSpeakingEvent(!0)}))},t.prototype.disableHarkStoppedSpeakingEvent=function(A){if(this.speechEvent){if(this.harkStoppedSpeakingEnabledOnce=!1,A){if(this.harkStoppedSpeakingEnabled)return}else this.harkStoppedSpeakingEnabled=!1;this.harkVolumeChangeEnabled||this.harkVolumeChangeEnabledOnce||this.harkSpeakingEnabled||this.harkSpeakingEnabledOnce?this.speechEvent.off("stopped_speaking"):(this.speechEvent.stop(),delete this.speechEvent)}},t.prototype.enableHarkVolumeChangeEvent=function(A){var e=this;this.setHarkListenerIfNotExists()?(!this.harkVolumeChangeEnabled||A)&&(this.harkVolumeChangeEnabled=!0,this.speechEvent.on("volume_change",function(r){var n=e.speechEvent.oldVolumeValue,i={newValue:r,oldValue:n};e.speechEvent.oldVolumeValue=r,e.streamManager.emitEvent("streamAudioVolumeChange",[new Mc.StreamManagerEvent(e.streamManager,"streamAudioVolumeChange",i)])})):this.harkVolumeChangeEnabled=!0},t.prototype.enableOnceHarkVolumeChangeEvent=function(A){var e=this;this.setHarkListenerIfNotExists()?(!this.harkVolumeChangeEnabledOnce||A)&&(this.harkVolumeChangeEnabledOnce=!0,this.speechEvent.once("volume_change",function(r){var n=e.speechEvent.oldVolumeValue,i={newValue:r,oldValue:n};e.speechEvent.oldVolumeValue=r,e.disableHarkVolumeChangeEvent(!0),e.streamManager.emitEvent("streamAudioVolumeChange",[new Mc.StreamManagerEvent(e.streamManager,"streamAudioVolumeChange",i)])})):this.harkVolumeChangeEnabledOnce=!0},t.prototype.disableHarkVolumeChangeEvent=function(A){if(this.speechEvent){if(this.harkVolumeChangeEnabledOnce=!1,A){if(this.harkVolumeChangeEnabled)return}else this.harkVolumeChangeEnabled=!1;this.harkSpeakingEnabled||this.harkSpeakingEnabledOnce||this.harkStoppedSpeakingEnabled||this.harkStoppedSpeakingEnabledOnce?this.speechEvent.off("volume_change"):(this.speechEvent.stop(),delete this.speechEvent)}},t.prototype.isLocal=function(){return!this.inboundStreamOpts&&!!this.outboundStreamOpts},t.prototype.getSelectedIceCandidate=function(){var A=this;return new Promise(function(e,r){A.webRtcStats.getSelectedIceCandidateInfo().then(function(n){return e(n)}).catch(function(n){return r(n)})})},t.prototype.getRemoteIceCandidateList=function(){return this.webRtcPeer.remoteCandidatesQueue},t.prototype.getLocalIceCandidateList=function(){return this.webRtcPeer.localCandidatesQueue},t.prototype.streamIceConnectionStateBroken=function(){if(!this.getWebRtcPeer()||!this.getRTCPeerConnection())return!1;if(this.session.openvidu.advancedConfiguration.forceMediaReconnectionAfterNetworkDrop)return mA.warn('OpenVidu Browser advanced configuration option "forceMediaReconnectionAfterNetworkDrop" is enabled. Stream '.concat(this.streamId," (").concat(this.isLocal()?"Publisher":"Subscriber",") will force a reconnection")),!0;var A=this.getRTCPeerConnection().iceConnectionState;return A!=="connected"&&A!=="completed"},t.prototype.setHarkListenerIfNotExists=function(){if(this.mediaStream){if(!this.speechEvent){var A=this.harkOptions?this.harkOptions:this.session.openvidu.advancedConfiguration.publisherSpeakingEventsOptions||{};A.interval=typeof A.interval=="number"?A.interval:100,A.threshold=typeof A.threshold=="number"?A.threshold:-50,this.speechEvent=eC(this.mediaStream,A)}return!0}return!1},t.prototype.setupReconnectionEventEmitter=function(A,e){return this.reconnectionEventEmitter==null?(this.reconnectionEventEmitter=new Pc,!1):(console.warn("Trying to reconnect stream ".concat(this.streamId," (").concat(this.isLocal()?"Publisher":"Subscriber",") but an ongoing reconnection process is active. Waiting for response...")),this.reconnectionEventEmitter.once("success",function(){return A()}),this.reconnectionEventEmitter.once("error",function(r){return e(r)}),!0)},t.prototype.initWebRtcPeerSend=function(A){var e=this;return new Promise(function(r,n){var i;if(A){if(e.setupReconnectionEventEmitter(r,n))return}else e.initHarkEvents();var o=function(){var l;return A&&((l=e.reconnectionEventEmitter)===null||l===void 0||l.emitEvent("success"),delete e.reconnectionEventEmitter),r()},s=function(l){var u;return A&&((u=e.reconnectionEventEmitter)===null||u===void 0||u.emitEvent("error",[l]),delete e.reconnectionEventEmitter),n(l)},a=function(l){mA.debug("Sending SDP offer to publish as "+e.streamId,l);var u=A?"reconnectStream":"publishVideo",f;if(A)f={stream:e.streamId,sdpString:l};else{var E=void 0;e.isSendVideo()&&(E=typeof MediaStreamTrack<"u"&&e.outboundStreamOpts.publisherProperties.videoSource instanceof MediaStreamTrack?nt.TypeOfVideo.CUSTOM:e.isSendScreen()?nt.TypeOfVideo.SCREEN:nt.TypeOfVideo.CAMERA),f={doLoopback:e.displayMyRemote()||!1,hasAudio:e.isSendAudio(),hasVideo:e.isSendVideo(),audioActive:e.audioActive,videoActive:e.videoActive,typeOfVideo:E,frameRate:e.frameRate?e.frameRate:-1,videoDimensions:JSON.stringify(e.videoDimensions),filter:e.outboundStreamOpts.publisherProperties.filter,sdpOffer:l}}e.session.openvidu.sendRequest(u,f,function(C,I){C?C.code===401?s(new LA.OpenViduError(LA.OpenViduErrorName.OPENVIDU_PERMISSION_DENIED,"You don't have permissions to publish")):s("Error on publishVideo: "+JSON.stringify(C)):e.webRtcPeer.processRemoteAnswer(I.sdpAnswer).then(function(){e.streamId=I.id,e.creationTime=I.createdAt,e.isLocalStreamPublished=!0,e.publishedOnce=!0,e.displayMyRemote()&&(e.localMediaStreamWhenSubscribedToRemote=e.mediaStream,e.remotePeerSuccessfullyEstablished(A)),A?e.ee.emitEvent("stream-reconnected-by-publisher",[]):e.ee.emitEvent("stream-created-by-publisher",[]),e.initWebRtcStats(),mA.info("'Publisher' ("+e.streamId+") successfully "+(A?"reconnected":"published")+" to session"),o()}).catch(function(y){s(y)})})},c={mediaConstraints:{audio:e.hasAudio,video:e.hasVideo},simulcast:(i=e.outboundStreamOpts.publisherProperties.videoSimulcast)!==null&&i!==void 0?i:e.session.openvidu.videoSimulcast,onIceCandidate:e.connection.sendIceCandidate.bind(e.connection),onIceConnectionStateException:e.onIceConnectionStateExceptionHandler.bind(e),iceServers:e.getIceServersConf(),mediaStream:e.mediaStream,mediaServer:e.session.openvidu.mediaServer,typeOfVideo:e.typeOfVideo?nt.TypeOfVideo[e.typeOfVideo]:void 0};e.session.openvidu.mediaServer!=="mediasoup"&&(c.simulcast=!1),A&&e.disposeWebRtcPeer(),e.displayMyRemote()?e.webRtcPeer=new ts.WebRtcPeerSendrecv(c):e.webRtcPeer=new ts.WebRtcPeerSendonly(c),e.webRtcPeer.addIceConnectionStateChangeListener("publisher of "+e.connection.connectionId),e.webRtcPeer.createOffer().then(function(l){e.webRtcPeer.processLocalOffer(l).then(function(){a(l.sdp)}).catch(function(u){s(new Error("(publish) SDP process local offer error: "+JSON.stringify(u)))})}).catch(function(l){s(new Error("(publish) SDP create offer error: "+JSON.stringify(l)))})})},t.prototype.finalResolveForSubscription=function(A,e){var r;return mA.info("'Subscriber' ("+this.streamId+") successfully "+(A?"reconnected":"subscribed")),this.remotePeerSuccessfullyEstablished(A),this.initWebRtcStats(),A&&((r=this.reconnectionEventEmitter)===null||r===void 0||r.emitEvent("success"),delete this.reconnectionEventEmitter),e()},t.prototype.finalRejectForSubscription=function(A,e,r){var n;return mA.error("Error for 'Subscriber' ("+this.streamId+") while trying to "+(A?"reconnect":"subscribe")+": "+e.toString()),A&&((n=this.reconnectionEventEmitter)===null||n===void 0||n.emitEvent("error",[e]),delete this.reconnectionEventEmitter),r(e)},t.prototype.initWebRtcPeerReceive=function(A){var e=this;return new Promise(function(r,n){A&&e.setupReconnectionEventEmitter(r,n)||(e.session.openvidu.mediaServer==="mediasoup"?e.initWebRtcPeerReceiveFromServer(A).then(function(){return e.finalResolveForSubscription(A,r)}).catch(function(i){return e.finalRejectForSubscription(A,i,n)}):e.initWebRtcPeerReceiveFromClient(A).then(function(){return e.finalResolveForSubscription(A,r)}).catch(function(i){return e.finalRejectForSubscription(A,i,n)}))})},t.prototype.initWebRtcPeerReceiveFromClient=function(A){var e=this;return new Promise(function(r,n){e.completeWebRtcPeerReceive(A,!1).then(function(i){e.webRtcPeer.processRemoteAnswer(i.sdpAnswer).then(function(){return r()}).catch(function(o){return n(o)})}).catch(function(i){return n(i)})})},t.prototype.initWebRtcPeerReceiveFromServer=function(A){var e=this;return new Promise(function(r,n){e.session.openvidu.sendRequest("prepareReceiveVideoFrom",{sender:e.streamId,reconnect:A},function(i,o){if(i)return n(new Error("Error on prepareReceiveVideoFrom: "+JSON.stringify(i)));e.completeWebRtcPeerReceive(A,!1,o.sdpOffer).then(function(){return r()}).catch(function(s){return n(s)})})})},t.prototype.completeWebRtcPeerReceive=function(A,e,r){var n=this;return new Promise(function(i,o){mA.debug("'Session.subscribe(Stream)' called");var s=function(c){mA.debug("Sending local SDP ".concat(r?"answer":"offer"," to subscribe to ").concat(n.streamId),c);var l=A?"reconnectStream":"receiveVideoFrom",u={};u[A?"stream":"sender"]=n.streamId,r?u[A?"sdpString":"sdpAnswer"]=c:u.sdpOffer=c,A&&(u.forciblyReconnect=e),n.session.openvidu.sendRequest(l,u,function(f,E){return f?o(new Error("Error on "+l+" : "+JSON.stringify(f))):i(E)})},a={mediaConstraints:{audio:n.hasAudio,video:n.hasVideo},simulcast:!1,onIceCandidate:n.connection.sendIceCandidate.bind(n.connection),onIceConnectionStateException:n.onIceConnectionStateExceptionHandler.bind(n),iceServers:n.getIceServersConf(),mediaServer:n.session.openvidu.mediaServer,typeOfVideo:n.typeOfVideo?nt.TypeOfVideo[n.typeOfVideo]:void 0};A&&n.disposeWebRtcPeer(),n.webRtcPeer=new ts.WebRtcPeerRecvonly(a),n.webRtcPeer.addIceConnectionStateChangeListener(n.streamId),r?n.webRtcPeer.processRemoteOffer(r).then(function(){n.webRtcPeer.createAnswer().then(function(c){n.webRtcPeer.processLocalAnswer(c).then(function(){s(c.sdp)}).catch(function(l){return o(new Error("(subscribe) SDP process local answer error: "+JSON.stringify(l)))})}).catch(function(c){return o(new Error("(subscribe) SDP create answer error: "+JSON.stringify(c)))})}).catch(function(c){return o(new Error("(subscribe) SDP process remote offer error: "+JSON.stringify(c)))}):n.webRtcPeer.createOffer().then(function(c){n.webRtcPeer.processLocalOffer(c).then(function(){s(c.sdp)}).catch(function(l){return o(new Error("(subscribe) SDP process local offer error: "+JSON.stringify(l)))})}).catch(function(c){return o(new Error("(subscribe) SDP create offer error: "+JSON.stringify(c)))})})},t.prototype.remotePeerSuccessfullyEstablished=function(A){A&&this.mediaStream!=null&&this.disposeMediaStream(),this.mediaStream=new MediaStream;for(var e,r=0,n=this.webRtcPeer.pc.getReceivers();r<n.length;r++)e=n[r],e.track&&this.mediaStream.addTrack(e.track);if(mA.debug("Peer remote stream",this.mediaStream),this.mediaStream){if(this.streamManager instanceof Yw.Subscriber){if(this.mediaStream.getAudioTracks()[0]){var i=A?this.audioActive:!!this.streamManager.properties.subscribeToAudio;this.mediaStream.getAudioTracks()[0].enabled=i}if(this.mediaStream.getVideoTracks()[0]){var i=A?this.videoActive:!!this.videoActive&&!!this.streamManager.properties.subscribeToVideo;this.mediaStream.getVideoTracks()[0].enabled=i}}this.updateMediaStreamInVideos(),this.initHarkEvents()}},t.prototype.initHarkEvents=function(){this.mediaStream.getAudioTracks()[0]&&(this.session.anySpeechEventListenerEnabled("publisherStartSpeaking",!0,this.streamManager)&&this.enableOnceHarkSpeakingEvent(),this.session.anySpeechEventListenerEnabled("publisherStartSpeaking",!1,this.streamManager)&&this.enableHarkSpeakingEvent(),this.session.anySpeechEventListenerEnabled("publisherStopSpeaking",!0,this.streamManager)&&this.enableOnceHarkStoppedSpeakingEvent(),this.session.anySpeechEventListenerEnabled("publisherStopSpeaking",!1,this.streamManager)&&this.enableHarkStoppedSpeakingEvent(),this.harkVolumeChangeEnabledOnce&&this.enableOnceHarkVolumeChangeEvent(!0),this.harkVolumeChangeEnabled&&this.enableHarkVolumeChangeEvent(!0))},t.prototype.onIceConnectionStateExceptionHandler=function(A,e,r){switch(A){case Or.ExceptionEventName.ICE_CONNECTION_FAILED:this.onIceConnectionFailed();break;case Or.ExceptionEventName.ICE_CONNECTION_DISCONNECTED:this.onIceConnectionDisconnected();break}this.session.emitEvent("exception",[new Or.ExceptionEvent(this.session,A,this,e,r)])},t.prototype.onIceConnectionFailed=function(){mA.log("[ICE_CONNECTION_FAILED] Handling ICE_CONNECTION_FAILED event. Reconnecting stream ".concat(this.streamId," (").concat(this.isLocal()?"Publisher":"Subscriber",")")),this.reconnectStreamAndLogResultingIceConnectionState(Or.ExceptionEventName.ICE_CONNECTION_FAILED)},t.prototype.onIceConnectionDisconnected=function(){var A=this;mA.log("[ICE_CONNECTION_DISCONNECTED] Handling ICE_CONNECTION_DISCONNECTED event. Waiting for ICE to be restored and reconnect stream ".concat(this.streamId," (").concat(this.isLocal()?"Publisher":"Subscriber",") if not possible"));var e=this.session.openvidu.advancedConfiguration.iceConnectionDisconnectedExceptionTimeout||4e3;this.awaitWebRtcPeerConnectionState(e).then(function(r){switch(r){case"failed":mA.warn("[ICE_CONNECTION_DISCONNECTED] ICE connection of stream ".concat(A.streamId," (").concat(A.isLocal()?"Publisher":"Subscriber",") is now failed after ICE_CONNECTION_DISCONNECTED"));break;case"connected":case"completed":mA.log("[ICE_CONNECTION_DISCONNECTED] ICE connection of stream ".concat(A.streamId," (").concat(A.isLocal()?"Publisher":"Subscriber",") automatically restored after ICE_CONNECTION_DISCONNECTED. Current ICE connection state: ").concat(r));break;case"closed":case"checking":case"new":case"disconnected":mA.warn("[ICE_CONNECTION_DISCONNECTED] ICE connection of stream ".concat(A.streamId," (").concat(A.isLocal()?"Publisher":"Subscriber",") couldn't be restored after ICE_CONNECTION_DISCONNECTED event. Current ICE connection state after ").concat(e," ms: ").concat(r)),A.reconnectStreamAndLogResultingIceConnectionState(Or.ExceptionEventName.ICE_CONNECTION_DISCONNECTED);break}})},t.prototype.reconnectStreamAndLogResultingIceConnectionState=function(A){return Te(this,void 0,void 0,function(){var e,r;return He(this,function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,this.reconnectStreamAndReturnIceConnectionState(A)];case 1:switch(e=n.sent(),e){case"connected":case"completed":mA.log("[".concat(A,"] Stream ").concat(this.streamId," (").concat(this.isLocal()?"Publisher":"Subscriber",") successfully reconnected after ").concat(A,". Current ICE connection state: ").concat(e));break;default:mA.error("[".concat(A,"] Stream ").concat(this.streamId," (").concat(this.isLocal()?"Publisher":"Subscriber",") failed to reconnect after ").concat(A,". Current ICE connection state: ").concat(e));break}return[3,3];case 2:return r=n.sent(),mA.error("[".concat(A,"] Error reconnecting stream ").concat(this.streamId," (").concat(this.isLocal()?"Publisher":"Subscriber",") after ").concat(A,": ").concat(r)),[3,3];case 3:return[2]}})})},t.prototype.reconnectStreamAndReturnIceConnectionState=function(A){return Te(this,void 0,void 0,function(){var e,r;return He(this,function(n){switch(n.label){case 0:mA.log("[".concat(A,"] Reconnecting stream ").concat(this.streamId," (").concat(this.isLocal()?"Publisher":"Subscriber",") after event ").concat(A)),n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.reconnectStream(A)];case 2:return n.sent(),e=this.session.openvidu.advancedConfiguration.iceConnectionDisconnectedExceptionTimeout||4e3,[2,this.awaitWebRtcPeerConnectionState(e)];case 3:return r=n.sent(),mA.warn("[".concat(A,"] Error reconnecting stream ").concat(this.streamId," (").concat(this.isLocal()?"Publisher":"Subscriber","). Reason: ").concat(r)),[2,this.awaitWebRtcPeerConnectionState(1)];case 4:return[2]}})})},t.prototype.awaitWebRtcPeerConnectionState=function(A){return Te(this,void 0,void 0,function(){var e,r,n,i;return He(this,function(o){switch(o.label){case 0:e=this.getRTCPeerConnection().iceConnectionState,r=150,n=Math.ceil(A/r),i=0,o.label=1;case 1:return i<n?(e=this.getRTCPeerConnection().iceConnectionState,e==="connected"||e==="completed"?[3,4]:[4,new Promise(function(s){return setTimeout(s,r)})]):[3,4];case 2:o.sent(),o.label=3;case 3:return i++,[3,1];case 4:return[2,e]}})})},t.prototype.reconnectStream=function(A){return Te(this,void 0,void 0,function(){var e,r;return He(this,function(n){switch(n.label){case 0:return[4,this.isWebsocketConnected(A,3e3)];case 1:if(e=n.sent(),e)return mA.log("[".concat(A,"] Trying to reconnect stream ").concat(this.streamId," (").concat(this.isLocal()?"Publisher":"Subscriber",") and the websocket is opened")),this.isLocal()?[2,this.initWebRtcPeerSend(!0)]:[2,this.initWebRtcPeerReceive(!0)];throw r="[".concat(A,"] Trying to reconnect stream ").concat(this.streamId," (").concat(this.isLocal()?"Publisher":"Subscriber",") but the websocket wasn't opened"),mA.error(r),Error(r)}})})},t.prototype.isWebsocketConnected=function(A,e){var r=this;return new Promise(function(n,i){var o=r.session.openvidu.getWsReadyState();if(o===1){var s=setTimeout(function(){return console.warn("[".concat(A,"] Websocket timeout of ").concat(e,"ms")),n(!1)},e);r.session.openvidu.sendRequest("echo",{},function(a,c){return clearTimeout(s),a?(console.warn("[".concat(A,"] Websocket 'echo' returned error: ").concat(a)),n(!1)):n(!0)})}else return console.warn("[".concat(A,"] Websocket readyState is ").concat(o)),n(!1)})},t.prototype.initWebRtcStats=function(){this.webRtcStats=new qw.WebRtcStats(this),this.webRtcStats.initWebRtcStats()},t.prototype.stopWebRtcStats=function(){this.webRtcStats&&this.webRtcStats.isEnabled()&&this.webRtcStats.stopWebRtcStats()},t.prototype.getIceServersConf=function(){var A;return this.session.openvidu.advancedConfiguration.iceServers?A=this.session.openvidu.advancedConfiguration.iceServers==="freeice"?void 0:this.session.openvidu.advancedConfiguration.iceServers:this.session.openvidu.iceServers?A=this.session.openvidu.iceServers:A=void 0,A},t.prototype.gatherStatsForPeer=function(){var A=this;return new Promise(function(e,r){A.isLocal()?A.getRTCPeerConnection().getSenders().forEach(function(n){return n.getStats().then(function(i){i.forEach(function(o){if(A.isReportWanted(o)){var s={};s.type=o.type,s.timestamp=o.timestamp,s.id=o.id,o.type==="outbound-rtp"&&(s.ssrc=o.ssrc,s.firCount=o.firCount,s.pliCount=o.pliCount,s.nackCount=o.nackCount,s.qpSum=o.qpSum,o.kind?s.mediaType=o.kind:o.mediaType?s.mediaType=o.mediaType:s.mediaType=o.id.indexOf("VideoStream")!==-1?"video":"audio",s.mediaType==="video"&&(s.framesEncoded=o.framesEncoded),s.packetsSent=o.packetsSent,s.bytesSent=o.bytesSent),o.type==="candidate-pair"&&o.totalRoundTripTime!==void 0&&(s.availableOutgoingBitrate=o.availableOutgoingBitrate,s.rtt=o.currentRoundTripTime,s.averageRtt=o.totalRoundTripTime/o.responsesReceived),o.type==="remote-inbound-rtp"||o.type,mA.log(s)}})})}):A.getRTCPeerConnection().getReceivers().forEach(function(n){return n.getStats().then(function(i){i.forEach(function(o){if(A.isReportWanted(o)){var s={};s.type=o.type,s.timestamp=o.timestamp,s.id=o.id,o.type==="inbound-rtp"&&(s.ssrc=o.ssrc,s.firCount=o.firCount,s.pliCount=o.pliCount,s.nackCount=o.nackCount,s.qpSum=o.qpSum,o.kind?s.mediaType=o.kind:o.mediaType?s.mediaType=o.mediaType:s.mediaType=o.id.indexOf("VideoStream")!==-1?"video":"audio",s.mediaType==="video"&&(s.framesDecoded=o.framesDecoded),s.packetsReceived=o.packetsReceived,s.packetsLost=o.packetsLost,s.jitter=o.jitter,s.bytesReceived=o.bytesReceived),o.type==="candidate-pair"&&o.totalRoundTripTime!==void 0&&(s.availableIncomingBitrate=o.availableIncomingBitrate,s.rtt=o.currentRoundTripTime,s.averageRtt=o.totalRoundTripTime/o.responsesReceived),o.type==="remote-inbound-rtp"||o.type,mA.log(s)}})})})})},t.prototype.isReportWanted=function(A){return A.type==="inbound-rtp"&&!this.isLocal()||A.type==="outbound-rtp"&&this.isLocal()||A.type==="candidate-pair"&&A.nominated&&A.bytesSent>0},t}();hr.Stream=tC;Object.defineProperty(mn,"__esModule",{value:!0});mn.Connection=void 0;var rC=hr,nC=VA,Kc=Nt,xr=nC.OpenViduLogger.getInstance(),iC=function(){function t(A,e){this.session=A,this.disposed=!1;var r="'Connection' created ";e.role?(this.localOptions=e,this.connectionId=this.localOptions.id,this.creationTime=this.localOptions.createdAt,this.data=this.localOptions.metadata,this.rpcSessionId=this.localOptions.sessionId,this.role=this.localOptions.role,this.record=this.localOptions.record,r+="(local)"):(this.remoteOptions=e,this.connectionId=this.remoteOptions.id,this.creationTime=this.remoteOptions.createdAt,this.remoteOptions.metadata&&(this.data=this.remoteOptions.metadata),this.remoteOptions.streams&&this.initRemoteStreams(this.remoteOptions.streams),r+="(remote) with 'connectionId' ["+this.remoteOptions.id+"]"),xr.info(r)}return t.prototype.sendIceCandidate=function(A){var e=this;this.disposed?xr.warn("Connection ".concat(this.connectionId," disposed when trying to send an ICE candidate. ICE candidate not sent")):(xr.debug((this.stream.outboundStreamOpts?"Local":"Remote")+"candidate for"+this.connectionId,A),this.session.openvidu.sendRequest("onIceCandidate",{endpointName:this.connectionId,candidate:A.candidate,sdpMid:A.sdpMid,sdpMLineIndex:A.sdpMLineIndex},function(r,n){r&&(xr.error("Error sending ICE candidate: "+JSON.stringify(r)),e.session.emitEvent("exception",[new Kc.ExceptionEvent(e.session,Kc.ExceptionEventName.ICE_CANDIDATE_ERROR,e.session,"There was an unexpected error on the server-side processing an ICE candidate generated and sent by the client-side",r)]))}))},t.prototype.initRemoteStreams=function(A){var e=this;A.forEach(function(r){var n={id:r.id,createdAt:r.createdAt,connection:e,hasAudio:r.hasAudio,hasVideo:r.hasVideo,audioActive:r.audioActive,videoActive:r.videoActive,typeOfVideo:r.typeOfVideo,frameRate:r.frameRate,videoDimensions:r.videoDimensions?JSON.parse(r.videoDimensions):void 0,filter:r.filter?r.filter:void 0},i=new rC.Stream(e.session,n);e.addStream(i)}),xr.info("Remote 'Connection' with 'connectionId' ["+this.connectionId+"] is now configured for receiving Streams with options: ",this.stream.inboundStreamOpts)},t.prototype.addStream=function(A){A.connection=this,this.stream=A},t.prototype.removeStream=function(){delete this.stream},t.prototype.dispose=function(){this.disposed=!0,this.removeStream()},t}();mn.Connection=iC;var bn={},oC=D&&D.__extends||function(){var t=function(A,e){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},t(A,e)};return function(A,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");t(A,e);function r(){this.constructor=A}A.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}();Object.defineProperty(bn,"__esModule",{value:!0});bn.ConnectionEvent=void 0;var sC=WA,aC=function(t){oC(A,t);function A(e,r,n,i,o){var s=t.call(this,e,r,n)||this;return s.connection=i,s.reason=o,s}return A.prototype.callDefaultBehavior=function(){},A}(sC.Event);bn.ConnectionEvent=aC;var Qn={},cC=D&&D.__extends||function(){var t=function(A,e){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},t(A,e)};return function(A,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");t(A,e);function r(){this.constructor=A}A.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}();Object.defineProperty(Qn,"__esModule",{value:!0});Qn.FilterEvent=void 0;var lC=WA,uC=function(t){cC(A,t);function A(e,r,n){var i=t.call(this,!1,e,r)||this;return i.data=n,i}return A.prototype.callDefaultBehavior=function(){},A}(lC.Event);Qn.FilterEvent=uC;var Un={},dC=D&&D.__extends||function(){var t=function(A,e){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},t(A,e)};return function(A,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");t(A,e);function r(){this.constructor=A}A.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}();Object.defineProperty(Un,"__esModule",{value:!0});Un.RecordingEvent=void 0;var fC=WA,hC=function(t){dC(A,t);function A(e,r,n,i,o){var s=t.call(this,!1,e,r)||this;return s.id=n,i!==n&&(s.name=i),s.reason=o,s}return A.prototype.callDefaultBehavior=function(){},A}(fC.Event);Un.RecordingEvent=hC;var wr={},pC=D&&D.__extends||function(){var t=function(A,e){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},t(A,e)};return function(A,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");t(A,e);function r(){this.constructor=A}A.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}();Object.defineProperty(wr,"__esModule",{value:!0});wr.SessionDisconnectedEvent=void 0;var gC=WA,BC=VA,vC=BC.OpenViduLogger.getInstance(),mC=function(t){pC(A,t);function A(e,r){var n=t.call(this,!0,e,"sessionDisconnected")||this;return n.reason=r,n}return A.prototype.callDefaultBehavior=function(){vC.info("Calling default behavior upon '"+this.type+"' event dispatched by 'Session'");var e=this.target;e.remoteConnections.forEach(function(r){var n,i,o,s,a,c,l,u,f=r.connectionId;if(!((n=e.remoteConnections.get(f))===null||n===void 0)&&n.stream){(i=e.remoteConnections.get(f))===null||i===void 0||i.stream.disposeWebRtcPeer(),(o=e.remoteConnections.get(f))===null||o===void 0||o.stream.disposeMediaStream(),!((s=e.remoteConnections.get(f))===null||s===void 0)&&s.stream.streamManager&&((a=e.remoteConnections.get(f))===null||a===void 0||a.stream.streamManager.removeAllVideos());var E=(l=(c=e.remoteConnections.get(f))===null||c===void 0?void 0:c.stream)===null||l===void 0?void 0:l.streamId;E&&e.remoteStreamsCreated.delete(E),(u=e.remoteConnections.get(f))===null||u===void 0||u.dispose()}e.remoteConnections.delete(f)})},A}(gC.Event);wr.SessionDisconnectedEvent=mC;var Fn={},wC=D&&D.__extends||function(){var t=function(A,e){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},t(A,e)};return function(A,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");t(A,e);function r(){this.constructor=A}A.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}();Object.defineProperty(Fn,"__esModule",{value:!0});Fn.SignalEvent=void 0;var CC=WA,EC=function(t){wC(A,t);function A(e,r,n,i){var o=t.call(this,!1,e,"signal")||this;return r&&(o.type="signal:"+r),o.data=n,o.from=i,o}return A.prototype.callDefaultBehavior=function(){},A}(CC.Event);Fn.SignalEvent=EC;var Sn={},yC=D&&D.__extends||function(){var t=function(A,e){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},t(A,e)};return function(A,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");t(A,e);function r(){this.constructor=A}A.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}();Object.defineProperty(Sn,"__esModule",{value:!0});Sn.SpeechToTextEvent=void 0;var bC=WA,QC=function(t){yC(A,t);function A(e,r,n,i,o,s){var a=t.call(this,!1,e,"speechToTextMessage")||this;return a.connection=r,a.text=n,a.reason=i,a.raw=o,a.lang=s,a}return A.prototype.callDefaultBehavior=function(){},A}(bC.Event);Sn.SpeechToTextEvent=QC;var Tr={},Gc;function Ra(){if(Gc)return Tr;Gc=1;var t=D&&D.__extends||function(){var s=function(a,c){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,u){l.__proto__=u}||function(l,u){for(var f in u)Object.prototype.hasOwnProperty.call(u,f)&&(l[f]=u[f])},s(a,c)};return function(a,c){if(typeof c!="function"&&c!==null)throw new TypeError("Class extends value "+String(c)+" is not a constructor or null");s(a,c);function l(){this.constructor=a}a.prototype=c===null?Object.create(c):(l.prototype=c.prototype,new l)}}();Object.defineProperty(Tr,"__esModule",{value:!0}),Tr.StreamEvent=void 0;var A=WA,e=Da(),r=go(),n=VA,i=n.OpenViduLogger.getInstance(),o=function(s){t(a,s);function a(c,l,u,f,E){var C=s.call(this,c,l,u)||this;return C.stream=f,C.reason=E,C}return a.prototype.callDefaultBehavior=function(){if(this.type==="streamDestroyed"){if(this.target instanceof r.Session)i.info("Calling default behavior upon '"+this.type+"' event dispatched by 'Session'"),this.stream.disposeWebRtcPeer();else if(this.target instanceof e.Publisher){i.info("Calling default behavior upon '"+this.type+"' event dispatched by 'Publisher'"),clearInterval(this.target.screenShareResizeInterval),this.stream.isLocalStreamReadyToPublish=!1;for(var c=this.target.openvidu.publishers,l=0;l<c.length;l++)if(c[l]===this.target){c.splice(l,1);break}}this.stream.disposeMediaStream(),this.stream.streamManager&&this.stream.streamManager.removeAllVideos(),this.stream.session.remoteStreamsCreated.delete(this.stream.streamId);var u=this.stream.session.remoteConnections.get(this.stream.connection.connectionId);if(u&&u.remoteOptions)for(var f=u.remoteOptions.streams,l=f.length-1;l>=0;--l)f[l].id===this.stream.streamId&&f.splice(l,1)}},a}(A.Event);return Tr.StreamEvent=o,Tr}var In={},UC=D&&D.__extends||function(){var t=function(A,e){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},t(A,e)};return function(A,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");t(A,e);function r(){this.constructor=A}A.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}();Object.defineProperty(In,"__esModule",{value:!0});In.ConnectionPropertyChangedEvent=void 0;var FC=WA,SC=function(t){UC(A,t);function A(e,r,n,i,o){var s=t.call(this,!1,e,"connectionPropertyChanged")||this;return s.connection=r,s.changedProperty=n,s.newValue=i,s.oldValue=o,s}return A.prototype.callDefaultBehavior=function(){},A}(FC.Event);In.ConnectionPropertyChangedEvent=SC;var _n={},IC=D&&D.__extends||function(){var t=function(A,e){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},t(A,e)};return function(A,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");t(A,e);function r(){this.constructor=A}A.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}();Object.defineProperty(_n,"__esModule",{value:!0});_n.NetworkQualityLevelChangedEvent=void 0;var _C=WA,OC=function(t){IC(A,t);function A(e,r,n,i){var o=t.call(this,!1,e,"networkQualityLevelChanged")||this;return o.newValue=r,o.oldValue=n,o.connection=i,o}return A.prototype.callDefaultBehavior=function(){},A}(_C.Event);_n.NetworkQualityLevelChangedEvent=OC;var rs={};const xC=typeof process=="object"&&rs&&rs.NODE_DEBUG&&/\bsemver\b/i.test(rs.NODE_DEBUG)?(...t)=>console.error("SEMVER",...t):()=>{};var Nd=xC;const TC="2.0.0",HC=256,LC=Number.MAX_SAFE_INTEGER||9007199254740991,RC=16;var Md={SEMVER_SPEC_VERSION:TC,MAX_LENGTH:HC,MAX_SAFE_INTEGER:LC,MAX_SAFE_COMPONENT_LENGTH:RC},Ks={exports:{}};(function(t,A){const{MAX_SAFE_COMPONENT_LENGTH:e}=Md,r=Nd;A=t.exports={};const n=A.re=[],i=A.src=[],o=A.t={};let s=0;const a=(c,l,u)=>{const f=s++;r(c,f,l),o[c]=f,i[f]=l,n[f]=new RegExp(l,u?"g":void 0)};a("NUMERICIDENTIFIER","0|[1-9]\\d*"),a("NUMERICIDENTIFIERLOOSE","[0-9]+"),a("NONNUMERICIDENTIFIER","\\d*[a-zA-Z-][a-zA-Z0-9-]*"),a("MAINVERSION",`(${i[o.NUMERICIDENTIFIER]})\\.(${i[o.NUMERICIDENTIFIER]})\\.(${i[o.NUMERICIDENTIFIER]})`),a("MAINVERSIONLOOSE",`(${i[o.NUMERICIDENTIFIERLOOSE]})\\.(${i[o.NUMERICIDENTIFIERLOOSE]})\\.(${i[o.NUMERICIDENTIFIERLOOSE]})`),a("PRERELEASEIDENTIFIER",`(?:${i[o.NUMERICIDENTIFIER]}|${i[o.NONNUMERICIDENTIFIER]})`),a("PRERELEASEIDENTIFIERLOOSE",`(?:${i[o.NUMERICIDENTIFIERLOOSE]}|${i[o.NONNUMERICIDENTIFIER]})`),a("PRERELEASE",`(?:-(${i[o.PRERELEASEIDENTIFIER]}(?:\\.${i[o.PRERELEASEIDENTIFIER]})*))`),a("PRERELEASELOOSE",`(?:-?(${i[o.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${i[o.PRERELEASEIDENTIFIERLOOSE]})*))`),a("BUILDIDENTIFIER","[0-9A-Za-z-]+"),a("BUILD",`(?:\\+(${i[o.BUILDIDENTIFIER]}(?:\\.${i[o.BUILDIDENTIFIER]})*))`),a("FULLPLAIN",`v?${i[o.MAINVERSION]}${i[o.PRERELEASE]}?${i[o.BUILD]}?`),a("FULL",`^${i[o.FULLPLAIN]}$`),a("LOOSEPLAIN",`[v=\\s]*${i[o.MAINVERSIONLOOSE]}${i[o.PRERELEASELOOSE]}?${i[o.BUILD]}?`),a("LOOSE",`^${i[o.LOOSEPLAIN]}$`),a("GTLT","((?:<|>)?=?)"),a("XRANGEIDENTIFIERLOOSE",`${i[o.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),a("XRANGEIDENTIFIER",`${i[o.NUMERICIDENTIFIER]}|x|X|\\*`),a("XRANGEPLAIN",`[v=\\s]*(${i[o.XRANGEIDENTIFIER]})(?:\\.(${i[o.XRANGEIDENTIFIER]})(?:\\.(${i[o.XRANGEIDENTIFIER]})(?:${i[o.PRERELEASE]})?${i[o.BUILD]}?)?)?`),a("XRANGEPLAINLOOSE",`[v=\\s]*(${i[o.XRANGEIDENTIFIERLOOSE]})(?:\\.(${i[o.XRANGEIDENTIFIERLOOSE]})(?:\\.(${i[o.XRANGEIDENTIFIERLOOSE]})(?:${i[o.PRERELEASELOOSE]})?${i[o.BUILD]}?)?)?`),a("XRANGE",`^${i[o.GTLT]}\\s*${i[o.XRANGEPLAIN]}$`),a("XRANGELOOSE",`^${i[o.GTLT]}\\s*${i[o.XRANGEPLAINLOOSE]}$`),a("COERCE",`(^|[^\\d])(\\d{1,${e}})(?:\\.(\\d{1,${e}}))?(?:\\.(\\d{1,${e}}))?(?:$|[^\\d])`),a("COERCERTL",i[o.COERCE],!0),a("LONETILDE","(?:~>?)"),a("TILDETRIM",`(\\s*)${i[o.LONETILDE]}\\s+`,!0),A.tildeTrimReplace="$1~",a("TILDE",`^${i[o.LONETILDE]}${i[o.XRANGEPLAIN]}$`),a("TILDELOOSE",`^${i[o.LONETILDE]}${i[o.XRANGEPLAINLOOSE]}$`),a("LONECARET","(?:\\^)"),a("CARETTRIM",`(\\s*)${i[o.LONECARET]}\\s+`,!0),A.caretTrimReplace="$1^",a("CARET",`^${i[o.LONECARET]}${i[o.XRANGEPLAIN]}$`),a("CARETLOOSE",`^${i[o.LONECARET]}${i[o.XRANGEPLAINLOOSE]}$`),a("COMPARATORLOOSE",`^${i[o.GTLT]}\\s*(${i[o.LOOSEPLAIN]})$|^$`),a("COMPARATOR",`^${i[o.GTLT]}\\s*(${i[o.FULLPLAIN]})$|^$`),a("COMPARATORTRIM",`(\\s*)${i[o.GTLT]}\\s*(${i[o.LOOSEPLAIN]}|${i[o.XRANGEPLAIN]})`,!0),A.comparatorTrimReplace="$1$2$3",a("HYPHENRANGE",`^\\s*(${i[o.XRANGEPLAIN]})\\s+-\\s+(${i[o.XRANGEPLAIN]})\\s*$`),a("HYPHENRANGELOOSE",`^\\s*(${i[o.XRANGEPLAINLOOSE]})\\s+-\\s+(${i[o.XRANGEPLAINLOOSE]})\\s*$`),a("STAR","(<|>)?=?\\s*\\*"),a("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),a("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")})(Ks,Ks.exports);var DC=Ks.exports;const kC=["includePrerelease","loose","rtl"],NC=t=>t?typeof t!="object"?{loose:!0}:kC.filter(A=>t[A]).reduce((A,e)=>(A[e]=!0,A),{}):{};var MC=NC;const $c=/^[0-9]+$/,Pd=(t,A)=>{const e=$c.test(t),r=$c.test(A);return e&&r&&(t=+t,A=+A),t===A?0:e&&!r?-1:r&&!e?1:t<A?-1:1},PC=(t,A)=>Pd(A,t);var VC={compareIdentifiers:Pd,rcompareIdentifiers:PC};const jn=Nd,{MAX_LENGTH:Wc,MAX_SAFE_INTEGER:Jn}=Md,{re:Xc,t:jc}=DC,KC=MC,{compareIdentifiers:jt}=VC;let GC=class Re{constructor(A,e){if(e=KC(e),A instanceof Re){if(A.loose===!!e.loose&&A.includePrerelease===!!e.includePrerelease)return A;A=A.version}else if(typeof A!="string")throw new TypeError(`Invalid Version: ${A}`);if(A.length>Wc)throw new TypeError(`version is longer than ${Wc} characters`);jn("SemVer",A,e),this.options=e,this.loose=!!e.loose,this.includePrerelease=!!e.includePrerelease;const r=A.trim().match(e.loose?Xc[jc.LOOSE]:Xc[jc.FULL]);if(!r)throw new TypeError(`Invalid Version: ${A}`);if(this.raw=A,this.major=+r[1],this.minor=+r[2],this.patch=+r[3],this.major>Jn||this.major<0)throw new TypeError("Invalid major version");if(this.minor>Jn||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>Jn||this.patch<0)throw new TypeError("Invalid patch version");r[4]?this.prerelease=r[4].split(".").map(n=>{if(/^[0-9]+$/.test(n)){const i=+n;if(i>=0&&i<Jn)return i}return n}):this.prerelease=[],this.build=r[5]?r[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(A){if(jn("SemVer.compare",this.version,this.options,A),!(A instanceof Re)){if(typeof A=="string"&&A===this.version)return 0;A=new Re(A,this.options)}return A.version===this.version?0:this.compareMain(A)||this.comparePre(A)}compareMain(A){return A instanceof Re||(A=new Re(A,this.options)),jt(this.major,A.major)||jt(this.minor,A.minor)||jt(this.patch,A.patch)}comparePre(A){if(A instanceof Re||(A=new Re(A,this.options)),this.prerelease.length&&!A.prerelease.length)return-1;if(!this.prerelease.length&&A.prerelease.length)return 1;if(!this.prerelease.length&&!A.prerelease.length)return 0;let e=0;do{const r=this.prerelease[e],n=A.prerelease[e];if(jn("prerelease compare",e,r,n),r===void 0&&n===void 0)return 0;if(n===void 0)return 1;if(r===void 0)return-1;if(r===n)continue;return jt(r,n)}while(++e)}compareBuild(A){A instanceof Re||(A=new Re(A,this.options));let e=0;do{const r=this.build[e],n=A.build[e];if(jn("prerelease compare",e,r,n),r===void 0&&n===void 0)return 0;if(n===void 0)return 1;if(r===void 0)return-1;if(r===n)continue;return jt(r,n)}while(++e)}inc(A,e){switch(A){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",e);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",e);break;case"prepatch":this.prerelease.length=0,this.inc("patch",e),this.inc("pre",e);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",e),this.inc("pre",e);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":if(this.prerelease.length===0)this.prerelease=[0];else{let r=this.prerelease.length;for(;--r>=0;)typeof this.prerelease[r]=="number"&&(this.prerelease[r]++,r=-2);r===-1&&this.prerelease.push(0)}e&&(jt(this.prerelease[0],e)===0?isNaN(this.prerelease[1])&&(this.prerelease=[e,0]):this.prerelease=[e,0]);break;default:throw new Error(`invalid increment argument: ${A}`)}return this.format(),this.raw=this.version,this}};var Vd=GC;const $C=Vd,WC=(t,A)=>new $C(t,A).major;var XC=WC;const jC=Vd,JC=(t,A)=>new jC(t,A).minor;var YC=JC,Jc;function go(){if(Jc)return _r;Jc=1;var t=D&&D.__extends||function(){var M=function(k,d){return M=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,L){v.__proto__=L}||function(v,L){for(var m in L)Object.prototype.hasOwnProperty.call(L,m)&&(v[m]=L[m])},M(k,d)};return function(k,d){if(typeof d!="function"&&d!==null)throw new TypeError("Class extends value "+String(d)+" is not a constructor or null");M(k,d);function v(){this.constructor=k}k.prototype=d===null?Object.create(d):(v.prototype=d.prototype,new v)}}(),A=D&&D.__awaiter||function(M,k,d,v){function L(m){return m instanceof d?m:new d(function(h){h(m)})}return new(d||(d=Promise))(function(m,h){function w(N){try{x(v.next(N))}catch(P){h(P)}}function _(N){try{x(v.throw(N))}catch(P){h(P)}}function x(N){N.done?m(N.value):L(N.value).then(w,_)}x((v=v.apply(M,k||[])).next())})},e=D&&D.__generator||function(M,k){var d={label:0,sent:function(){if(m[0]&1)throw m[1];return m[1]},trys:[],ops:[]},v,L,m,h;return h={next:w(0),throw:w(1),return:w(2)},typeof Symbol=="function"&&(h[Symbol.iterator]=function(){return this}),h;function w(x){return function(N){return _([x,N])}}function _(x){if(v)throw new TypeError("Generator is already executing.");for(;h&&(h=0,x[0]&&(d=0)),d;)try{if(v=1,L&&(m=x[0]&2?L.return:x[0]?L.throw||((m=L.return)&&m.call(L),0):L.next)&&!(m=m.call(L,x[1])).done)return m;switch(L=0,m&&(x=[x[0]&2,m.value]),x[0]){case 0:case 1:m=x;break;case 4:return d.label++,{value:x[1],done:!1};case 5:d.label++,L=x[1],x=[0];continue;case 7:x=d.ops.pop(),d.trys.pop();continue;default:if(m=d.trys,!(m=m.length>0&&m[m.length-1])&&(x[0]===6||x[0]===2)){d=0;continue}if(x[0]===3&&(!m||x[1]>m[0]&&x[1]<m[3])){d.label=x[1];break}if(x[0]===6&&d.label<m[1]){d.label=m[1],m=x;break}if(m&&d.label<m[2]){d.label=m[2],d.ops.push(x);break}m[2]&&d.ops.pop(),d.trys.pop();continue}x=k.call(M,d)}catch(N){x=[6,N],L=0}finally{v=m=0}if(x[0]&5)throw x[1];return{value:x[0]?x[1]:void 0,done:!0}}};Object.defineProperty(_r,"__esModule",{value:!0}),_r.Session=void 0;var r=mn,n=pr,i=gr,o=vr,s=bn,a=Qn,c=Un,l=wr,u=Fn,f=Sn,E=Ra(),C=et,I=In,y=_n,p=kt,U=Cn,O=VA,B=_e,b=XC,Q=YC,R=Nt,g=O.OpenViduLogger.getInstance(),T,V=function(M){t(k,M);function k(d){var v=M.call(this)||this;return v.streamManagers=[],v.remoteStreamsCreated=new Map,v.remoteConnections=new Map,T=B.PlatformUtils.getInstance(),v.openvidu=d,v}return k.prototype.connect=function(d,v){var L=this;return new Promise(function(m,h){if(L.processToken(d),L.openvidu.checkSystemRequirements())L.options={sessionId:L.sessionId,participantId:d,metadata:v?L.stringClientMetadata(v):""},L.connectAux(d).then(function(){return m()}).catch(function(w){return h(w)});else return h(new p.OpenViduError(p.OpenViduErrorName.BROWSER_NOT_SUPPORTED,"Browser "+T.getName()+" (version "+T.getVersion()+") for "+T.getFamily()+" is not supported in OpenVidu"))})},k.prototype.disconnect=function(){this.leave(!1,"disconnect")},k.prototype.subscribe=function(d,v,L,m){var h={};L&&typeof L!="function"?h={insertMode:typeof L.insertMode<"u"?typeof L.insertMode=="string"?U.VideoInsertMode[L.insertMode]:h.insertMode:U.VideoInsertMode.APPEND,subscribeToAudio:typeof L.subscribeToAudio<"u"?L.subscribeToAudio:!0,subscribeToVideo:typeof L.subscribeToVideo<"u"?L.subscribeToVideo:!0}:h={insertMode:U.VideoInsertMode.APPEND,subscribeToAudio:!0,subscribeToVideo:!0};var w=void 0;if(L&&typeof L=="function"?w=L:m&&(w=m),!this.sessionConnected())throw w!==void 0&&w(this.notConnectedError()),this.notConnectedError();g.info("Subscribing to "+d.connection.connectionId),d.subscribe().then(function(){g.info("Subscribed correctly to "+d.connection.connectionId),w!==void 0&&w(void 0)}).catch(function(x){w!==void 0&&w(x)});var _=new i.Subscriber(d,v,h);return _.targetElement&&d.streamManager.createVideoElement(_.targetElement,h.insertMode),_},k.prototype.subscribeAsync=function(d,v,L){var m=this;return new Promise(function(h,w){if(!m.sessionConnected())return w(m.notConnectedError());var _,x=function(N){return N?w(N):h(_)};L?_=m.subscribe(d,v,L,x):_=m.subscribe(d,v,x)})},k.prototype.unsubscribe=function(d){var v=this;return new Promise(function(L,m){if(v.sessionConnected()){var h=d.stream.connection.connectionId;g.info("Unsubscribing from "+h),v.openvidu.sendRequest("unsubscribeFromVideo",{sender:d.stream.connection.connectionId},function(w,_){return w?(g.error("Error unsubscribing from "+h),m(w)):(g.info("Unsubscribed correctly from "+h),d.stream.streamManager.removeAllVideos(),d.stream.disposeWebRtcPeer(),d.stream.disposeMediaStream(),L())})}else return m(v.notConnectedError())})},k.prototype.publish=function(d){var v=this;return new Promise(function(L,m){if(!v.sessionConnected())return m(v.notConnectedError());d.session=v,d.stream.session=v,d.stream.publishedOnce?d.initialize().then(function(){v.connection.addStream(d.stream),d.reestablishStreamPlayingEvent(),d.stream.publish().then(function(){return v.sendVideoData(d,8,!0,5),L()}).catch(function(h){return m(h)})}).catch(function(h){return m(h)}):(v.connection.addStream(d.stream),d.stream.publish().then(function(){return v.sendVideoData(d,8,!0,5),L()}).catch(function(h){return m(h)}))})},k.prototype.unpublish=function(d){var v=this;return new Promise(function(L,m){if(!v.sessionConnected())throw v.notConnectedError();var h=d.stream;if(h.connection){if(h.connection!==v.connection)return m(new Error("The associated Connection object of this Publisher is not your local Connection.  Only moderators can force unpublish on remote Streams via 'forceUnpublish' method"));g.info("Unpublishing local media ("+h.connection.connectionId+")"),v.openvidu.sendRequest("unpublishVideo",function(w,_){if(w)return m(w);g.info("Media unpublished correctly"),h.disposeWebRtcPeer(),h.connection.stream==h&&delete h.connection.stream;var x=new E.StreamEvent(!0,d,"streamDestroyed",d.stream,"unpublish");return d.emitEvent("streamDestroyed",[x]),x.callDefaultBehavior(),L()})}else return m(new Error("The associated Connection object of this Publisher is null"))})},k.prototype.forceDisconnect=function(d){var v=this;return new Promise(function(L,m){if(!v.sessionConnected())return m(v.notConnectedError());g.info("Forcing disconnect for connection "+d.connectionId),v.openvidu.sendRequest("forceDisconnect",{connectionId:d.connectionId},function(h,w){return h?(g.error("Error forcing disconnect for Connection "+d.connectionId,h),h.code===401?m(new p.OpenViduError(p.OpenViduErrorName.OPENVIDU_PERMISSION_DENIED,"You don't have permissions to force a disconnection")):m(h)):(g.info("Forcing disconnect correctly for Connection "+d.connectionId),L())})})},k.prototype.forceUnpublish=function(d){var v=this;return new Promise(function(L,m){if(!v.sessionConnected())return m(v.notConnectedError());g.info("Forcing unpublish for stream "+d.streamId),v.openvidu.sendRequest("forceUnpublish",{streamId:d.streamId},function(h,w){return h?(g.error("Error forcing unpublish for Stream "+d.streamId,h),h.code===401?m(new p.OpenViduError(p.OpenViduErrorName.OPENVIDU_PERMISSION_DENIED,"You don't have permissions to force an unpublishing")):m(h)):(g.info("Forcing unpublish correctly for Stream "+d.streamId),L())})})},k.prototype.signal=function(d){var v=this;return new Promise(function(L,m){if(!v.sessionConnected())return m(v.notConnectedError());var h={};if(d.to&&d.to.length>0){var w=[];d.to.forEach(function(x){x.connectionId&&w.push(x.connectionId)}),h.to=w}else h.to=[];h.data=d.data?d.data:"";var _=d.type?d.type:"signal";_&&_.substring(0,7)!=="signal:"&&(_="signal:"+_),h.type=_,v.openvidu.sendRequest("sendMessage",{message:JSON.stringify(h)},function(x,N){return x?m(x):L()})})},k.prototype.subscribeToSpeechToText=function(d,v){var L=this;return new Promise(function(m,h){L.openvidu.sendRequest("subscribeToSpeechToText",{connectionId:d.connection.connectionId,lang:v},function(w,_){return w?h(w):m()})})},k.prototype.unsubscribeFromSpeechToText=function(d){var v=this;return new Promise(function(L,m){v.openvidu.sendRequest("unsubscribeFromSpeechToText",{connectionId:d.connection.connectionId},function(h,w){return h?m(h):L()})})},k.prototype.on=function(d,v){var L,m,h,w;return M.prototype.onAux.call(this,d,"Event '"+d+"' triggered by 'Session'",v),d==="publisherStartSpeaking"&&(this.remoteConnections.forEach(function(_){var x;!((x=_.stream)===null||x===void 0)&&x.hasAudio&&_.stream.enableHarkSpeakingEvent()}),!((m=(L=this.connection)===null||L===void 0?void 0:L.stream)===null||m===void 0)&&m.hasAudio&&this.connection.stream.enableHarkSpeakingEvent()),d==="publisherStopSpeaking"&&(this.remoteConnections.forEach(function(_){var x;!((x=_.stream)===null||x===void 0)&&x.hasAudio&&_.stream.enableHarkStoppedSpeakingEvent()}),!((w=(h=this.connection)===null||h===void 0?void 0:h.stream)===null||w===void 0)&&w.hasAudio&&this.connection.stream.enableHarkStoppedSpeakingEvent()),this},k.prototype.once=function(d,v){var L,m,h,w;return M.prototype.onceAux.call(this,d,"Event '"+d+"' triggered once by 'Session'",v),d==="publisherStartSpeaking"&&(this.remoteConnections.forEach(function(_){var x;!((x=_.stream)===null||x===void 0)&&x.hasAudio&&_.stream.enableOnceHarkSpeakingEvent()}),!((m=(L=this.connection)===null||L===void 0?void 0:L.stream)===null||m===void 0)&&m.hasAudio&&this.connection.stream.enableOnceHarkSpeakingEvent()),d==="publisherStopSpeaking"&&(this.remoteConnections.forEach(function(_){var x;!((x=_.stream)===null||x===void 0)&&x.hasAudio&&_.stream.enableOnceHarkStoppedSpeakingEvent()}),!((w=(h=this.connection)===null||h===void 0?void 0:h.stream)===null||w===void 0)&&w.hasAudio&&this.connection.stream.enableOnceHarkStoppedSpeakingEvent()),this},k.prototype.off=function(d,v){var L=this,m,h,w,_;return M.prototype.offAux.call(this,d,v),d==="publisherStartSpeaking"&&(this.anySpeechEventListenerEnabled("publisherStartSpeaking",!1)||(this.remoteConnections.forEach(function(x){var N;!((N=x.stream)===null||N===void 0)&&N.streamManager&&(L.anySpeechEventListenerEnabled("publisherStartSpeaking",!1,x.stream.streamManager)||x.stream.disableHarkSpeakingEvent(!1))}),!((h=(m=this.connection)===null||m===void 0?void 0:m.stream)===null||h===void 0)&&h.streamManager&&(this.anySpeechEventListenerEnabled("publisherStartSpeaking",!1,this.connection.stream.streamManager)||this.connection.stream.disableHarkSpeakingEvent(!1)))),d==="publisherStopSpeaking"&&(this.anySpeechEventListenerEnabled("publisherStopSpeaking",!1)||(this.remoteConnections.forEach(function(x){var N;!((N=x.stream)===null||N===void 0)&&N.streamManager&&(L.anySpeechEventListenerEnabled("publisherStopSpeaking",!1,x.stream.streamManager)||x.stream.disableHarkStoppedSpeakingEvent(!1))}),!((_=(w=this.connection)===null||w===void 0?void 0:w.stream)===null||_===void 0)&&_.streamManager&&(this.anySpeechEventListenerEnabled("publisherStopSpeaking",!1,this.connection.stream.streamManager)||this.connection.stream.disableHarkStoppedSpeakingEvent(!1)))),this},k.prototype.onParticipantJoined=function(d){var v=this;this.getConnection(d.id,"").then(function(L){g.warn("Connection "+L.connectionId+" already exists in connections list")}).catch(function(L){var m=new r.Connection(v,d);v.remoteConnections.set(d.id,m),v.ee.emitEvent("connectionCreated",[new s.ConnectionEvent(!1,v,"connectionCreated",m,"")])})},k.prototype.onParticipantLeft=function(d){var v=this;this.getRemoteConnection(d.connectionId,"onParticipantLeft").then(function(L){if(L.stream){var m=L.stream,h=new E.StreamEvent(!0,v,"streamDestroyed",m,d.reason);v.ee.emitEvent("streamDestroyed",[h]),h.callDefaultBehavior(),v.remoteStreamsCreated.delete(m.streamId)}L.dispose(),v.remoteConnections.delete(L.connectionId),v.ee.emitEvent("connectionDestroyed",[new s.ConnectionEvent(!1,v,"connectionDestroyed",L,d.reason)])}).catch(function(L){g.error(L)})},k.prototype.onParticipantPublished=function(d){var v=this,L=function(h){v.remoteConnections.set(h.connectionId,h),v.remoteStreamsCreated.get(h.stream.streamId)||v.ee.emitEvent("streamCreated",[new E.StreamEvent(!1,v,"streamCreated",h.stream,"")]),v.remoteStreamsCreated.set(h.stream.streamId,!0)},m;this.getRemoteConnection(d.id,"onParticipantPublished").then(function(h){m=h,d.metadata=h.data,m.remoteOptions=d,m.initRemoteStreams(d.streams),L(m)}).catch(function(h){m=new r.Connection(v,d),L(m)})},k.prototype.onParticipantUnpublished=function(d){var v=this;d.connectionId===this.connection.connectionId?this.stopPublisherStream(d.reason):this.getRemoteConnection(d.connectionId,"onParticipantUnpublished").then(function(L){var m=new E.StreamEvent(!0,v,"streamDestroyed",L.stream,d.reason);if(v.ee.emitEvent("streamDestroyed",[m]),m.callDefaultBehavior(),L.stream!=null){var h=L.stream.streamId;v.remoteStreamsCreated.delete(h),L.removeStream()}}).catch(function(L){g.error(L)})},k.prototype.onParticipantEvicted=function(d){d.connectionId===this.connection.connectionId&&this.sessionId&&!this.connection.disposed&&this.leave(!0,d.reason)},k.prototype.onNewMessage=function(d){var v=this;g.info("New signal: "+JSON.stringify(d));var L=d.type?d.type.replace(/^(signal:)/,""):void 0;d.from?this.getConnection(d.from,"Connection '"+d.from+"' unknown when 'onNewMessage'. Existing remote connections: "+JSON.stringify(this.remoteConnections.keys())+". Existing local connection: "+this.connection.connectionId).then(function(m){v.ee.emitEvent("signal",[new u.SignalEvent(v,L,d.data,m)]),d.type&&d.type!=="signal"&&v.ee.emitEvent(d.type,[new u.SignalEvent(v,L,d.data,m)])}).catch(function(m){g.error(m)}):(this.ee.emitEvent("signal",[new u.SignalEvent(this,L,d.data,void 0)]),d.type&&d.type!=="signal"&&this.ee.emitEvent(d.type,[new u.SignalEvent(this,L,d.data,void 0)]))},k.prototype.onStreamPropertyChanged=function(d){var v=this,L=function(m){var h,w;if(m.stream&&m.stream.streamId===d.streamId){var _=m.stream,x=void 0;switch(d.property){case"audioActive":x=_.audioActive,d.newValue=d.newValue==="true",_.audioActive=d.newValue;break;case"videoActive":x=_.videoActive,d.newValue=d.newValue==="true",_.videoActive=d.newValue;var N=(w=(h=_==null?void 0:_.getMediaStream())===null||h===void 0?void 0:h.getVideoTracks())===null||w===void 0?void 0:w[0];N&&!N.enabled&&_.videoActive&&(N.enabled=!0);break;case"videoTrack":d.newValue=JSON.parse(d.newValue);break;case"audioTrack":d.newValue=JSON.parse(d.newValue);break;case"videoDimensions":x=_.videoDimensions,d.newValue=JSON.parse(JSON.parse(d.newValue)),_.videoDimensions=d.newValue;break;case"filter":x=_.filter,d.newValue=Object.keys(d.newValue).length>0?d.newValue:void 0,d.newValue!==void 0?(_.filter=new n.Filter(d.newValue.type,d.newValue.options),_.filter.stream=_,d.newValue.lastExecMethod&&(_.filter.lastExecMethod=d.newValue.lastExecMethod)):delete _.filter,d.newValue=_.filter;break}v.ee.emitEvent("streamPropertyChanged",[new C.StreamPropertyChangedEvent(v,_,d.property,d.newValue,x,d.reason)]),_.streamManager&&_.streamManager.emitEvent("streamPropertyChanged",[new C.StreamPropertyChangedEvent(_.streamManager,_,d.property,d.newValue,x,d.reason)])}else g.error("No stream with streamId '"+d.streamId+"' found for connection '"+d.connectionId+"' on 'streamPropertyChanged' event")};d.connectionId===this.connection.connectionId?L(this.connection):this.getRemoteConnection(d.connectionId,"onStreamPropertyChanged").then(function(m){L(m)}).catch(function(m){g.error(m)})},k.prototype.onConnectionPropertyChanged=function(d){var v;switch(d.property){case"role":v=this.connection.role.slice(),this.connection.role=d.newValue,this.connection.localOptions.role=d.newValue;break;case"record":v=this.connection.record,d.newValue=d.newValue==="true",this.connection.record=d.newValue,this.connection.localOptions.record=d.newValue;break}this.ee.emitEvent("connectionPropertyChanged",[new I.ConnectionPropertyChangedEvent(this,this.connection,d.property,d.newValue,v)])},k.prototype.onNetworkQualityLevelChangedChanged=function(d){var v=this;d.connectionId===this.connection.connectionId?this.ee.emitEvent("networkQualityLevelChanged",[new y.NetworkQualityLevelChangedEvent(this,d.newValue,d.oldValue,this.connection)]):this.getConnection(d.connectionId,"Connection not found for connectionId "+d.connectionId).then(function(L){v.ee.emitEvent("networkQualityLevelChanged",[new y.NetworkQualityLevelChangedEvent(v,d.newValue,d.oldValue,L)])}).catch(function(L){g.error(L)})},k.prototype.recvIceCandidate=function(d){var v={candidate:d.candidate,sdpMLineIndex:d.sdpMLineIndex,sdpMid:d.sdpMid},L=new RTCIceCandidate(v);this.getConnection(d.senderConnectionId,"Connection not found for connectionId "+d.senderConnectionId+" owning endpoint "+d.endpointName+". Ice candidate will be ignored: "+L).then(function(m){var h=m.stream;h.getWebRtcPeer().addIceCandidate(L).catch(function(w){g.error("Error adding candidate for "+h.streamId+" stream of endpoint "+d.endpointName+": "+w)})}).catch(function(m){g.error(m)})},k.prototype.onSessionClosed=function(d){g.info("Session closed: "+JSON.stringify(d));var v=d.sessionId;v!==void 0?this.ee.emitEvent("session-closed",[{session:v}]):g.warn("Session undefined on session closed",d)},k.prototype.onLostConnection=function(d){g.warn("Lost connection in Session "+this.sessionId),this.sessionId&&this.connection&&!this.connection.disposed&&this.leave(!0,d)},k.prototype.onRecoveredConnection=function(){g.info("Recovered connection in Session "+this.sessionId),this.reconnectBrokenStreams(),this.ee.emitEvent("reconnected",[])},k.prototype.onMediaError=function(d){g.error("Media error: "+JSON.stringify(d));var v=d.error;v?this.ee.emitEvent("error-media",[{error:v}]):g.warn("Received undefined media error:",d)},k.prototype.onRecordingStarted=function(d){this.ee.emitEvent("recordingStarted",[new c.RecordingEvent(this,"recordingStarted",d.id,d.name)])},k.prototype.onRecordingStopped=function(d){this.ee.emitEvent("recordingStopped",[new c.RecordingEvent(this,"recordingStopped",d.id,d.name,d.reason)])},k.prototype.onBroadcastStarted=function(){this.ee.emitEvent("broadcastStarted",[])},k.prototype.onBroadcastStopped=function(){this.ee.emitEvent("broadcastStopped",[])},k.prototype.onFilterEventDispatched=function(d){var v=this,L=d.connectionId;this.getConnection(L,"No connection found for connectionId "+L).then(function(m){g.info('Filter event of type "'.concat(d.eventType,'" dispatched'));var h=m.stream;if(!h||!h.filter)return g.error('Filter event of type "'.concat(d.eventType,'" dispatched for stream ').concat(h.streamId," but there is no ").concat(h?"filter":"stream"," defined"));var w=h.filter.handlers.get(d.eventType);if(!w||typeof w!="function"){var _=Array.from(h.filter.handlers.keys());return g.error('Filter event of type "'.concat(d.eventType,'" not handled or not a function! Active filter events: ').concat(_.join(",")))}else w.call(v,new a.FilterEvent(h.filter,d.eventType,d.data))})},k.prototype.onForciblyReconnectSubscriber=function(d){var v=this;return new Promise(function(L,m){v.getRemoteConnection(d.connectionId,"onForciblyReconnectSubscriber").then(function(h){if(h.stream&&h.stream.streamId===d.streamId){var w=h.stream;if(w.setupReconnectionEventEmitter(L,m)){if(w.reconnectionEventEmitter.onForciblyReconnectSubscriberLastEvent!=null)return w.reconnectionEventEmitter.onForciblyReconnectSubscriberLastEvent=d,m("Ongoing forced subscriber reconnection");w.reconnectionEventEmitter.onForciblyReconnectSubscriberLastEvent=d;var _=function(){var N=w.reconnectionEventEmitter.onForciblyReconnectSubscriberLastEvent;delete w.reconnectionEventEmitter.onForciblyReconnectSubscriberLastEvent,v.onForciblyReconnectSubscriber(N)};w.reconnectionEventEmitter.once("success",function(){_()}),w.reconnectionEventEmitter.once("error",function(){_()});return}w.completeWebRtcPeerReceive(!0,!0,d.sdpOffer).then(function(){return w.finalResolveForSubscription(!0,L)}).catch(function(N){return w.finalRejectForSubscription(!0,"Error while forcibly reconnecting remote stream ".concat(d.streamId,": ").concat(N.toString()),m)})}else{var x="No stream with streamId '"+d.streamId+"' found for connection '"+d.connectionId+"' on 'streamPropertyChanged' event";return g.error(x),m(x)}}).catch(function(h){return g.error(h),m(h)})})},k.prototype.reconnectBrokenStreams=function(){g.info("Re-establishing media connections...");var d=!1;this.connection.stream&&this.connection.stream.streamIceConnectionStateBroken()&&(g.warn("Re-establishing Publisher "+this.connection.stream.streamId),this.connection.stream.initWebRtcPeerSend(!0),d=!0),this.remoteConnections.forEach(function(v){v.stream&&v.stream.streamIceConnectionStateBroken()&&(g.warn("Re-establishing Subscriber "+v.stream.streamId),v.stream.initWebRtcPeerReceive(!0),d=!0)}),d||g.info("There were no media streams in need of a reconnection")},k.prototype.onSpeechToTextMessage=function(d){return A(this,void 0,void 0,function(){var v,L;return e(this,function(m){switch(m.label){case 0:return[4,this.getConnection(d.connectionId,"No connection found for connectionId "+d.connectionId)];case 1:return v=m.sent(),L=new f.SpeechToTextEvent(this,v,d.text,d.reason.toLowerCase(),d.raw,d.lang),this.ee.emitEvent("speechToTextMessage",[L]),[2]}})})},k.prototype.onSpeechToTextDisconnected=function(d){return A(this,void 0,void 0,function(){return e(this,function(v){return this.emitEvent("exception",[new R.ExceptionEvent(this,R.ExceptionEventName.SPEECH_TO_TEXT_DISCONNECTED,this,d.message)]),[2]})})},k.prototype.emitEvent=function(d,v){this.ee.emitEvent(d,v)},k.prototype.leave=function(d,v){var L=this;if(d=!!d,g.info("Leaving Session (forced="+d+")"),this.stopVideoDataIntervals(),this.connection){if(!this.connection.disposed&&!d?this.openvidu.sendRequest("leaveRoom",function(h,w){h&&g.error("leaveRoom error: ".concat(JSON.stringify(h))),L.openvidu.closeWs()}):this.openvidu.closeWs(),this.stopPublisherStream(v),!this.connection.disposed){var m=new l.SessionDisconnectedEvent(this,v);this.ee.emitEvent("sessionDisconnected",[m]),m.callDefaultBehavior()}}else g.warn("You were not connected to the session "+this.sessionId);g.flush()},k.prototype.initializeParams=function(d){var v={token:d||"",session:this.sessionId,platform:T.getDescription()?T.getDescription():"unknown",sdkVersion:this.openvidu.libraryVersion,metadata:this.options.metadata?this.options.metadata:"",secret:this.openvidu.getSecret(),recorder:this.openvidu.getRecorder(),stt:this.openvidu.getStt()};return v},k.prototype.sendVideoData=function(d,v,L,m){var h=this,w,_;if(v===void 0&&(v=1),L===void 0&&(L=!1),m===void 0&&(m=1),T.isChromeBrowser()||T.isChromeMobileBrowser()||T.isOperaBrowser()||T.isOperaMobileBrowser()||T.isEdgeBrowser()||T.isEdgeMobileBrowser()||T.isElectron()||T.isSafariBrowser()&&!T.isIonicIos()||T.isAndroidBrowser()||T.isSamsungBrowser()||T.isIonicAndroid()||T.isIOSWithSafari()){var x=function(){return A(h,void 0,void 0,function(){var P,Z,X;return e(this,function(oA){switch(oA.label){case 0:return P=d.stream.getRTCPeerConnection(),P.connectionState!=="connected"?[3,2]:[4,P.getStats()];case 1:Z=oA.sent(),X=[],Z.forEach(function(H){"frameWidth"in H&&"frameHeight"in H&&X.length===0&&X.push(H)}),X.length>0&&this.openvidu.sendRequest("videoData",{height:X[0].frameHeight,width:X[0].frameWidth,videoActive:d.stream.videoActive!=null?d.stream.videoActive:!1,audioActive:d.stream.audioActive!=null?d.stream.audioActive:!1},function(H,sA){H&&g.error("Error sending 'videoData' event",H)}),oA.label=2;case 2:return[2]}})})};if(L){var N=1;this.videoDataInterval=setInterval(function(){N<m?(N++,x()):clearInterval(h.videoDataInterval)},v*1e3)}else this.videoDataTimeout=setTimeout(x,v*1e3)}else T.isFirefoxBrowser()||T.isFirefoxMobileBrowser()||T.isIonicIos()||T.isReactNative()?this.openvidu.sendRequest("videoData",{height:((w=d.stream.videoDimensions)===null||w===void 0?void 0:w.height)||0,width:((_=d.stream.videoDimensions)===null||_===void 0?void 0:_.width)||0,videoActive:d.stream.videoActive!=null?d.stream.videoActive:!1,audioActive:d.stream.audioActive!=null?d.stream.audioActive:!1},function(P,Z){P&&g.error("Error sending 'videoData' event",P)}):g.error("Browser "+T.getName()+" (version "+T.getVersion()+") for "+T.getFamily()+" is not supported in OpenVidu for Network Quality")},k.prototype.sessionConnected=function(){return this.connection!=null},k.prototype.notConnectedError=function(){return new p.OpenViduError(p.OpenViduErrorName.OPENVIDU_NOT_CONNECTED,"There is no connection to the session. Method 'Session.connect' must be successfully completed first")},k.prototype.anySpeechEventListenerEnabled=function(d,v,L){var m=this.ee.getListeners(d);v&&(m=m.filter(function(x){return x.once}));var h=m.length;if(h>0)return!0;var w=0;if(L){var _=L.ee.getListeners(d);v&&(_=_.filter(function(x){return x.once})),w=_.length}return w>0},k.prototype.getTokenParams=function(d){var v=d.match(/^(wss?)\:\/\/(([^:\/?#]*)(?:\:([0-9]+))?)([\/]{0,1}[^?#]*)(\?[^#]*|)(#.*|)$/);if(v){var L={protocol:v[1],host:v[2],hostname:v[3],port:v[4],pathname:v[5],search:v[6],hash:v[7]},m=d.split("?"),h=decodeURI(m[1]).split("&").map(function(w){return w.split("=")}).reduce(function(w,_){var x=_[0],N=_[1];return w[x]=N,w},{});return{sessionId:h.sessionId,secret:h.secret,recorder:h.recorder,stt:h.stt,webrtcStatsInterval:h.webrtcStatsInterval,sendBrowserLogs:h.sendBrowserLogs,edition:h.edition,wsUri:L.protocol+"://"+L.host+"/openvidu",httpUri:"https://"+L.host}}else throw new Error('Token not valid: "'.concat(d,'"'))},k.prototype.connectAux=function(d){var v=this;return new Promise(function(L,m){v.openvidu.startWs(function(h){if(h)return m(h);var w=v.initializeParams(d);v.openvidu.sendRequest("joinRoom",w,function(_,x){if(_)return m(_);v.processJoinRoomResponse(x,d),v.connection=new r.Connection(v,x);var N={connections:new Array,streams:new Array},P=x.value;return P.forEach(function(Z){var X=new r.Connection(v,Z);v.remoteConnections.set(X.connectionId,X),N.connections.push(X),X.stream&&(v.remoteStreamsCreated.set(X.stream.streamId,!0),N.streams.push(X.stream))}),v.ee.emitEvent("connectionCreated",[new s.ConnectionEvent(!1,v,"connectionCreated",v.connection,"")]),N.connections.forEach(function(Z){v.ee.emitEvent("connectionCreated",[new s.ConnectionEvent(!1,v,"connectionCreated",Z,"")])}),N.streams.forEach(function(Z){v.ee.emitEvent("streamCreated",[new E.StreamEvent(!1,v,"streamCreated",Z,"")])}),x.recordingId&&x.recordingName&&v.ee.emitEvent("recordingStarted",[new c.RecordingEvent(v,"recordingStarted",x.recordingId,x.recordingName)]),L()})})})},k.prototype.stopPublisherStream=function(d){this.connection.stream&&(this.connection.stream.disposeWebRtcPeer(),this.connection.stream.isLocalStreamPublished&&this.connection.stream.ee.emitEvent("local-stream-destroyed",[d]))},k.prototype.stopVideoDataIntervals=function(){clearInterval(this.videoDataInterval),clearTimeout(this.videoDataTimeout)},k.prototype.stringClientMetadata=function(d){return typeof d!="string"?JSON.stringify(d):d},k.prototype.getConnection=function(d,v){var L=this;return new Promise(function(m,h){var w=L.remoteConnections.get(d);return w?m(w):L.connection.connectionId===d?m(L.connection):h(new p.OpenViduError(p.OpenViduErrorName.GENERIC_ERROR,v))})},k.prototype.getRemoteConnection=function(d,v){var L=this;return new Promise(function(m,h){var w=L.remoteConnections.get(d);if(w)return m(w);var _="Remote connection "+d+" unknown when '"+v+"'. Existing remote connections: "+JSON.stringify(L.remoteConnections.keys());return h(new p.OpenViduError(p.OpenViduErrorName.GENERIC_ERROR,_))})},k.prototype.processToken=function(d){var v=this.getTokenParams(d);this.sessionId=v.sessionId,v.secret&&(this.openvidu.secret=v.secret),v.recorder&&(this.openvidu.recorder=!0),v.stt&&(this.openvidu.stt=!0),v.webrtcStatsInterval&&(this.openvidu.webrtcStatsInterval=v.webrtcStatsInterval),v.sendBrowserLogs&&(this.openvidu.sendBrowserLogs=v.sendBrowserLogs),this.openvidu.isAtLeastPro=v.edition==="pro"||v.edition==="enterprise",this.openvidu.isEnterprise=v.edition==="enterprise",this.openvidu.wsUri=v.wsUri,this.openvidu.httpUri=v.httpUri},k.prototype.processJoinRoomResponse=function(d,v){if(this.sessionId=d.session,d.customIceServers!=null&&d.customIceServers.length>0){this.openvidu.iceServers=[];for(var L=0,m=d.customIceServers;L<m.length;L++){var h=m[L],w={urls:[h.url]};g.log("STUN/TURN server IP: "+h.url),h.username!=null&&h.credential!=null&&(w.username=h.username,w.credential=h.credential,g.log("TURN credentials ["+h.username+":"+h.credential+"]")),this.openvidu.iceServers.push(w)}}this.openvidu.role=d.role,this.openvidu.finalUserId=d.finalUserId,this.openvidu.mediaServer=d.mediaServer,this.openvidu.videoSimulcast=d.videoSimulcast,this.capabilities={subscribe:!0,publish:this.openvidu.role!=="SUBSCRIBER",forceUnpublish:this.openvidu.role==="MODERATOR",forceDisconnect:this.openvidu.role==="MODERATOR"},g.info("openvidu-server version: "+d.version),d.life!=null&&(this.openvidu.life=d.life);var _=Q(d.version)-Q(this.openvidu.libraryVersion);b(d.version)!==b(this.openvidu.libraryVersion)||!(_==0||_==1)?g.error("openvidu-browser (".concat(this.openvidu.libraryVersion,") and openvidu-server (").concat(d.version,") versions are incompatible. ")+"Errors are likely to occur. openvidu-browser SDK is only compatible with the same version or the immediately following minor version of an OpenVidu deployment"):_==1&&g.warn("openvidu-browser version ".concat(this.openvidu.libraryVersion," does not match openvidu-server version ").concat(d.version,". ")+"These versions are still compatible with each other, but openvidu-browser version must be updated as soon as possible to ".concat(b(d.version),".").concat(Q(d.version),".x. ")+"This client using openvidu-browser ".concat(this.openvidu.libraryVersion," will become incompatible with the next release of openvidu-server")),O.OpenViduLogger.configureJSNLog(this.openvidu,v),this.token=v},k}(o.EventDispatcher);return _r.Session=V,_r}var Yc;function Da(){if(Yc)return Ir;Yc=1;var t=D&&D.__extends||function(){var I=function(y,p){return I=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(U,O){U.__proto__=O}||function(U,O){for(var B in O)Object.prototype.hasOwnProperty.call(O,B)&&(U[B]=O[B])},I(y,p)};return function(y,p){if(typeof p!="function"&&p!==null)throw new TypeError("Class extends value "+String(p)+" is not a constructor or null");I(y,p);function U(){this.constructor=y}y.prototype=p===null?Object.create(p):(U.prototype=p.prototype,new U)}}(),A=D&&D.__awaiter||function(I,y,p,U){function O(B){return B instanceof p?B:new p(function(b){b(B)})}return new(p||(p=Promise))(function(B,b){function Q(T){try{g(U.next(T))}catch(V){b(V)}}function R(T){try{g(U.throw(T))}catch(V){b(V)}}function g(T){T.done?B(T.value):O(T.value).then(Q,R)}g((U=U.apply(I,y||[])).next())})},e=D&&D.__generator||function(I,y){var p={label:0,sent:function(){if(B[0]&1)throw B[1];return B[1]},trys:[],ops:[]},U,O,B,b;return b={next:Q(0),throw:Q(1),return:Q(2)},typeof Symbol=="function"&&(b[Symbol.iterator]=function(){return this}),b;function Q(g){return function(T){return R([g,T])}}function R(g){if(U)throw new TypeError("Generator is already executing.");for(;b&&(b=0,g[0]&&(p=0)),p;)try{if(U=1,O&&(B=g[0]&2?O.return:g[0]?O.throw||((B=O.return)&&B.call(O),0):O.next)&&!(B=B.call(O,g[1])).done)return B;switch(O=0,B&&(g=[g[0]&2,B.value]),g[0]){case 0:case 1:B=g;break;case 4:return p.label++,{value:g[1],done:!1};case 5:p.label++,O=g[1],g=[0];continue;case 7:g=p.ops.pop(),p.trys.pop();continue;default:if(B=p.trys,!(B=B.length>0&&B[B.length-1])&&(g[0]===6||g[0]===2)){p=0;continue}if(g[0]===3&&(!B||g[1]>B[0]&&g[1]<B[3])){p.label=g[1];break}if(g[0]===6&&p.label<B[1]){p.label=B[1],B=g;break}if(B&&p.label<B[2]){p.label=B[2],p.ops.push(g);break}B[2]&&p.ops.pop(),p.trys.pop();continue}g=y.call(I,p)}catch(T){g=[6,T],O=0}finally{U=B=0}if(g[0]&5)throw g[1];return{value:g[0]?g[1]:void 0,done:!0}}};Object.defineProperty(Ir,"__esModule",{value:!0}),Ir.Publisher=void 0;var r=go(),n=hr,i=Br,o=Ra(),s=et,a=kt,c=VA,l=_e,u=po,f=c.OpenViduLogger.getInstance(),E,C=function(I){t(y,I);function y(p,U,O){var B=I.call(this,new n.Stream(O.session?O.session:new r.Session(O),{publisherProperties:U,mediaConstraints:{}}),p)||this;return B.accessAllowed=!1,B.isSubscribedToRemote=!1,B.accessDenied=!1,E=l.PlatformUtils.getInstance(),B.properties=U,B.openvidu=O,B.stream.ee.on("local-stream-destroyed",function(b){B.stream.isLocalStreamPublished=!1;var Q=new o.StreamEvent(!0,B,"streamDestroyed",B.stream,b);B.emitEvent("streamDestroyed",[Q]),Q.callDefaultBehavior()}),B}return y.prototype.publishAudio=function(p){var U=this;if(this.stream.audioActive!==p){var O=this.stream.displayMyRemote()?this.stream.localMediaStreamWhenSubscribedToRemote:this.stream.getMediaStream();O.getAudioTracks().forEach(function(B){B.enabled=p}),this.session&&this.stream.streamId&&this.session.openvidu.sendRequest("streamPropertyChanged",{streamId:this.stream.streamId,property:"audioActive",newValue:p,reason:"publishAudio"},function(B,b){B?f.error("Error sending 'streamPropertyChanged' event",B):(U.session.emitEvent("streamPropertyChanged",[new s.StreamPropertyChangedEvent(U.session,U.stream,"audioActive",p,!p,"publishAudio")]),U.emitEvent("streamPropertyChanged",[new s.StreamPropertyChangedEvent(U,U.stream,"audioActive",p,!p,"publishAudio")]),U.session.sendVideoData(U.stream.streamManager))}),this.stream.audioActive=p,f.info("'Publisher' has "+(p?"published":"unpublished")+" its audio stream")}},y.prototype.publishVideo=function(p,U){var O=this;return new Promise(function(B,b){return A(O,void 0,void 0,function(){var Q,R,g,T,V,M,k=this;return e(this,function(d){switch(d.label){case 0:return this.stream.videoActive===p?[3,9]:(Q=this.stream.displayMyRemote()?this.stream.localMediaStreamWhenSubscribedToRemote:this.stream.getMediaStream(),R=!1,Q.getVideoTracks().forEach(function(v){v.enabled=p,!p&&U===!0?v.stop():p&&v.readyState==="ended"&&(R=!0)}),!p&&U===!0&&this.stream.filter&&this.stream.filter.type.startsWith("VB:")?(this.stream.lastVBFilter=this.stream.filter,[4,this.stream.removeFilterAux(!0)]):[3,2]);case 1:d.sent(),d.label=2;case 2:return R?(g=Q.getVideoTracks()[0],Q.removeTrack(g),T=function(v){return A(k,void 0,void 0,function(){var L=this;return e(this,function(m){switch(m.label){case 0:return Q.addTrack(v),this.stream.isLocalStreamPublished?[4,this.replaceTrackInRtcRtpSender(v)]:[3,2];case 1:m.sent(),m.label=2;case 2:return this.stream.lastVBFilter&&setTimeout(function(){return A(L,void 0,void 0,function(){var h,w;return e(this,function(_){switch(_.label){case 0:return h=this.stream.lastVBFilter.options,w=this.stream.lastVBFilter.lastExecMethod,w&&w.method==="update"&&(h=Object.assign({},h,w.params)),[4,this.stream.applyFilter(this.stream.lastVBFilter.type,h)];case 1:return _.sent(),delete this.stream.lastVBFilter,[2]}})})},1),[2]}})})},U&&U instanceof MediaStreamTrack?[4,T(U)]:[3,4]):[3,8];case 3:return d.sent(),[3,8];case 4:return d.trys.push([4,7,,8]),[4,navigator.mediaDevices.getUserMedia({audio:!1,video:this.stream.lastVideoTrackConstraints})];case 5:return V=d.sent(),[4,T(V.getVideoTracks()[0])];case 6:return d.sent(),[3,8];case 7:return M=d.sent(),[2,b(M)];case 8:return this.session&&this.stream.streamId&&this.session.openvidu.sendRequest("streamPropertyChanged",{streamId:this.stream.streamId,property:"videoActive",newValue:p,reason:"publishVideo"},function(v,L){v?f.error("Error sending 'streamPropertyChanged' event",v):(k.session.emitEvent("streamPropertyChanged",[new s.StreamPropertyChangedEvent(k.session,k.stream,"videoActive",p,!p,"publishVideo")]),k.emitEvent("streamPropertyChanged",[new s.StreamPropertyChangedEvent(k,k.stream,"videoActive",p,!p,"publishVideo")]),k.session.sendVideoData(k.stream.streamManager))}),this.stream.videoActive=p,f.info("'Publisher' has "+(p?"published":"unpublished")+" its video stream"),[2,B()];case 9:return[2]}})})})},y.prototype.subscribeToRemote=function(p){p=p!==void 0?p:!0,this.isSubscribedToRemote=p,this.stream.subscribeToMyRemote(p)},y.prototype.on=function(p,U){var O=this;return I.prototype.on.call(this,p,U),p==="streamCreated"&&(this.stream&&this.stream.isLocalStreamPublished?this.emitEvent("streamCreated",[new o.StreamEvent(!1,this,"streamCreated",this.stream,"")]):this.stream.ee.on("stream-created-by-publisher",function(){O.emitEvent("streamCreated",[new o.StreamEvent(!1,O,"streamCreated",O.stream,"")])})),p==="accessAllowed"&&this.accessAllowed&&this.emitEvent("accessAllowed",[]),p==="accessDenied"&&this.accessDenied&&this.emitEvent("accessDenied",[]),this},y.prototype.once=function(p,U){var O=this;return I.prototype.once.call(this,p,U),p==="streamCreated"&&(this.stream&&this.stream.isLocalStreamPublished?this.emitEvent("streamCreated",[new o.StreamEvent(!1,this,"streamCreated",this.stream,"")]):this.stream.ee.once("stream-created-by-publisher",function(){O.emitEvent("streamCreated",[new o.StreamEvent(!1,O,"streamCreated",O.stream,"")])})),p==="accessAllowed"&&this.accessAllowed&&this.emitEvent("accessAllowed",[]),p==="accessDenied"&&this.accessDenied&&this.emitEvent("accessDenied",[]),this},y.prototype.off=function(p,U){return I.prototype.off.call(this,p,U),this},y.prototype.replaceTrack=function(p){return A(this,void 0,void 0,function(){return e(this,function(U){return[2,this.replaceTrackAux(p,!0)]})})},y.prototype.initialize=function(){var p=this;return new Promise(function(U,O){return A(p,void 0,void 0,function(){var B,b,Q,R,g,T,V,M,k,d,v,L,L,m,h,w=this,_,x;return e(this,function(N){switch(N.label){case 0:B={},b={},Q=2e3,g=function(P){return w.accessDenied=!0,w.accessAllowed=!1,f.error("Publisher initialization failed. ".concat(P.name,": ").concat(P.message)),O(P)},T=function(P){var Z,X;if(w.accessAllowed=!0,w.accessDenied=!1,typeof MediaStreamTrack<"u"&&w.properties.audioSource instanceof MediaStreamTrack&&(P.removeTrack(P.getAudioTracks()[0]),P.addTrack(w.properties.audioSource)),typeof MediaStreamTrack<"u"&&w.properties.videoSource instanceof MediaStreamTrack&&(P.removeTrack(P.getVideoTracks()[0]),P.addTrack(w.properties.videoSource)),P.getAudioTracks()[0]){var oA=w.stream.audioActive!==void 0&&w.stream.audioActive!==null?w.stream.audioActive:!!w.stream.outboundStreamOpts.publisherProperties.publishAudio;P.getAudioTracks()[0].enabled=oA}if(P.getVideoTracks()[0]){var oA=w.stream.videoActive!==void 0&&w.stream.videoActive!==null?w.stream.videoActive:!!w.stream.outboundStreamOpts.publisherProperties.publishVideo;P.getVideoTracks()[0].enabled=oA}for(var H=0,sA=P.getAudioTracks();H<sA.length;H++){var iA=sA[H];!((Z=iA.contentHint)===null||Z===void 0)&&Z.length||(iA.contentHint="",f.info("Audio track Content Hint set: '".concat(iA.contentHint,"'")))}for(var bA=0,QA=P.getVideoTracks();bA<QA.length;bA++){var iA=QA[bA];if(!(!((X=iA.contentHint)===null||X===void 0)&&X.length)){switch(w.stream.typeOfVideo){case u.TypeOfVideo.SCREEN:iA.contentHint="detail";break;case u.TypeOfVideo.CUSTOM:f.warn("CUSTOM type video track was provided without Content Hint!"),iA.contentHint="motion";break;case u.TypeOfVideo.CAMERA:case u.TypeOfVideo.IPCAM:default:iA.contentHint="motion";break}f.info("Video track Content Hint set: '".concat(iA.contentHint,"'"))}}return w.initializeVideoReference(P),w.stream.displayMyRemote()||w.stream.updateMediaStreamInVideos(),delete w.firstVideoElement,w.stream.isSendVideo()?w.getVideoDimensions().then(function($){w.stream.videoDimensions={width:$.width,height:$.height},w.stream.isSendScreen()&&(w.stream.isSendAudio()&&P.getAudioTracks().length===0&&(w.stream.audioActive=!1,w.stream.hasAudio=!1,w.stream.outboundStreamOpts.publisherProperties.publishAudio=!1,w.stream.outboundStreamOpts.publisherProperties.audioSource=!1),w.screenShareResizeInterval=setInterval(function(){var gA=P.getVideoTracks()[0].getSettings(),W=gA.width,K=gA.height,rA=W!=null&&W!==w.stream.videoDimensions.width,hA=K!=null&&K!==w.stream.videoDimensions.height;w.stream.isLocalStreamPublished&&(rA||hA)&&w.openvidu.sendVideoDimensionsChangedEvent(w,"screenResized",w.stream.videoDimensions.width,w.stream.videoDimensions.height,W||0,K||0)},650)),w.stream.isLocalStreamReadyToPublish=!0,w.stream.ee.emitEvent("stream-ready-to-publish",[])}):(w.stream.isLocalStreamReadyToPublish=!0,w.stream.ee.emitEvent("stream-ready-to-publish",[])),U()},V=function(P,Z){return A(w,void 0,void 0,function(){var X,oA;return e(this,function(H){switch(H.label){case 0:if(this.clearPermissionDialogTimer(R,Q),!(this.stream.isSendScreen()&&this.properties.audioSource!=="screen"&&this.stream.isSendAudio()))return[3,5];b.audio=Z,b.video=!1,R=Date.now(),this.setPermissionDialogTimer(Q),H.label=1;case 1:return H.trys.push([1,3,,4]),[4,navigator.mediaDevices.getUserMedia(b)];case 2:return X=H.sent(),this.clearPermissionDialogTimer(R,Q),P.addTrack(X.getAudioTracks()[0]),T(P),[3,4];case 3:return oA=H.sent(),this.clearPermissionDialogTimer(R,Q),P.getAudioTracks().forEach(function(sA){sA.stop()}),P.getVideoTracks().forEach(function(sA){sA.stop()}),g(this.openvidu.generateAudioDeviceError(oA,B)),[2];case 4:return[3,6];case 5:T(P),H.label=6;case 6:return[2]}})})},M=function(P){return A(w,void 0,void 0,function(){var Z,X,oA,sA,H,sA,iA;return e(this,function(bA){switch(bA.label){case 0:switch(f.error("getMediaError: ".concat(P.toString())),this.clearPermissionDialogTimer(R,Q),P.name==="Error"&&(P.name=P.constructor.name),oA=P.name.toLowerCase(),oA){case"notfounderror":return[3,1];case"notallowederror":return[3,5];case"overconstrainederror":return[3,6];case"aborterror":return[3,10];case"notreadableerror":return[3,10]}return[3,11];case 1:return bA.trys.push([1,3,,4]),[4,navigator.mediaDevices.getUserMedia({audio:!1,video:B.video})];case 2:return sA=bA.sent(),sA.getVideoTracks().forEach(function(QA){QA.stop()}),Z=a.OpenViduErrorName.INPUT_AUDIO_DEVICE_NOT_FOUND,X=P.toString(),g(new a.OpenViduError(Z,X)),[3,4];case 3:return H=bA.sent(),Z=a.OpenViduErrorName.INPUT_VIDEO_DEVICE_NOT_FOUND,X=H.toString(),g(new a.OpenViduError(Z,X)),[3,4];case 4:return[3,12];case 5:return Z=this.stream.isSendScreen()?a.OpenViduErrorName.SCREEN_CAPTURE_DENIED:a.OpenViduErrorName.DEVICE_ACCESS_DENIED,X=P.toString(),g(new a.OpenViduError(Z,X)),[3,12];case 6:return bA.trys.push([6,8,,9]),[4,navigator.mediaDevices.getUserMedia({audio:!1,video:B.video})];case 7:return sA=bA.sent(),sA.getVideoTracks().forEach(function(QA){QA.stop()}),P.constraint.toLowerCase()==="deviceid"?(Z=a.OpenViduErrorName.INPUT_AUDIO_DEVICE_NOT_FOUND,X="Audio input device with deviceId '"+B.audio.deviceId.exact+"' not found"):(Z=a.OpenViduErrorName.PUBLISHER_PROPERTIES_ERROR,X="Audio input device doesn't support the value passed for constraint '"+P.constraint+"'"),g(new a.OpenViduError(Z,X)),[3,9];case 8:return iA=bA.sent(),iA.constraint.toLowerCase()==="deviceid"?(Z=a.OpenViduErrorName.INPUT_VIDEO_DEVICE_NOT_FOUND,X="Video input device with deviceId '"+B.video.deviceId.exact+"' not found"):(Z=a.OpenViduErrorName.PUBLISHER_PROPERTIES_ERROR,X="Video input device doesn't support the value passed for constraint '"+iA.constraint+"'"),g(new a.OpenViduError(Z,X)),[3,9];case 9:return[3,12];case 10:return Z=a.OpenViduErrorName.DEVICE_ALREADY_IN_USE,X=P.toString(),g(new a.OpenViduError(Z,X)),[3,12];case 11:return Z=a.OpenViduErrorName.GENERIC_ERROR,X=P.toString(),g(new a.OpenViduError(Z,X)),[3,12];case 12:return[2]}})})},N.label=1;case 1:return N.trys.push([1,14,,15]),[4,this.openvidu.generateMediaConstraints(this.properties)];case 2:return k=N.sent(),k.videoTrack&&k.audioTrack||k.audioTrack&&((_=k.constraints)===null||_===void 0?void 0:_.video)===!1||k.videoTrack&&((x=k.constraints)===null||x===void 0?void 0:x.audio)===!1?(T(this.openvidu.addAlreadyProvidedTracks(k,new MediaStream,this.stream)),[3,13]):[3,3];case 3:B=k.constraints,d={mediaConstraints:B,publisherProperties:this.properties},this.stream.setOutboundStreamOptions(d),v=B.audio===void 0?!0:B.audio,b.audio=this.stream.isSendScreen()?!1:v,b.video=B.video,R=Date.now(),this.setPermissionDialogTimer(Q),N.label=4;case 4:return N.trys.push([4,11,,13]),this.stream.isSendScreen()&&navigator.mediaDevices.getDisplayMedia&&!E.isElectron()?[4,navigator.mediaDevices.getDisplayMedia({video:!0,audio:this.properties.audioSource==="screen"})]:[3,7];case 5:return L=N.sent(),this.openvidu.addAlreadyProvidedTracks(k,L),[4,V(L,v)];case 6:return N.sent(),[3,10];case 7:return this.stream.lastVideoTrackConstraints=b.video,[4,navigator.mediaDevices.getUserMedia(b)];case 8:return L=N.sent(),this.openvidu.addAlreadyProvidedTracks(k,L,this.stream),[4,V(L,v)];case 9:N.sent(),N.label=10;case 10:return[3,13];case 11:return m=N.sent(),[4,M(m)];case 12:return N.sent(),[3,13];case 13:return[3,15];case 14:return h=N.sent(),g(h),[3,15];case 15:return[2]}})})})},y.prototype.replaceTrackAux=function(p,U){return A(this,void 0,void 0,function(){var O,B;return e(this,function(b){switch(b.label){case 0:O=p.enabled,p.kind==="video"?p.enabled=this.stream.videoActive:p.kind==="audio"&&(p.enabled=this.stream.audioActive),b.label=1;case 1:return b.trys.push([1,5,,6]),this.stream.isLocalStreamPublished?(this.replaceTrackInMediaStream(p,U),[4,this.replaceTrackInRtcRtpSender(p)]):[3,3];case 2:return[2,b.sent()];case 3:return[2,this.replaceTrackInMediaStream(p,U)];case 4:return[3,6];case 5:throw B=b.sent(),p.enabled=O,B;case 6:return[2]}})})},y.prototype.getVideoDimensions=function(){var p=this;return new Promise(function(U,O){var B=(E.isIonicIos()||E.isIOSWithSafari())&&p.videoReference.readyState<1,b,Q=function(){var R,g;if(typeof p.stream.getMediaStream().getVideoTracks()[0].getSettings=="function"){var T=p.stream.getMediaStream().getVideoTracks()[0].getSettings();R=T.width||p.videoReference.videoWidth,g=T.height||p.videoReference.videoHeight}else f.warn("MediaStreamTrack does not have getSettings method on "+E.getDescription()),R=p.videoReference.videoWidth,g=p.videoReference.videoHeight;return b!=null&&p.videoReference.removeEventListener("loadedmetadata",b),B&&document.body.removeChild(p.videoReference),U({width:R,height:g})};p.videoReference.readyState>=1?Q():(b=function(){if(p.videoReference.videoWidth)Q();else var R=setInterval(function(){p.videoReference.videoWidth&&(clearInterval(R),Q())},40)},p.videoReference.addEventListener("loadedmetadata",b),B&&document.body.appendChild(p.videoReference))})},y.prototype.reestablishStreamPlayingEvent=function(){this.ee.getListeners("streamPlaying").length>0&&this.addPlayEventToFirstVideo()},y.prototype.initializeVideoReference=function(p){this.videoReference=document.createElement("video"),this.videoReference.style.display="none",this.videoReference.muted=!0,this.videoReference.autoplay=!0,this.videoReference.controls=!1,(E.isSafariBrowser()||E.isIPhoneOrIPad()&&(E.isChromeMobileBrowser()||E.isEdgeMobileBrowser()||E.isOperaMobileBrowser()||E.isFirefoxMobileBrowser()))&&(this.videoReference.playsInline=!0),this.stream.setMediaStream(p),this.firstVideoElement&&this.createVideoElement(this.firstVideoElement.targetElement,this.properties.insertMode),this.videoReference.srcObject=this.stream.getMediaStream()},y.prototype.replaceTrackInMediaStream=function(p,U){var O=this.stream.displayMyRemote()?this.stream.localMediaStreamWhenSubscribedToRemote:this.stream.getMediaStream(),B;p.kind==="video"?(B=O.getVideoTracks()[0],U&&(this.stream.lastVideoTrackConstraints=p.getConstraints())):B=O.getAudioTracks()[0],B.enabled=!1,B.stop(),O.removeTrack(B),O.addTrack(p);var b={oldLabel:(B==null?void 0:B.label)||"",newLabel:(p==null?void 0:p.label)||""};p.kind==="video"&&U?(this.openvidu.sendNewVideoDimensionsIfRequired(this,"trackReplaced",50,30),this.openvidu.sendTrackChangedEvent(this,b.oldLabel,b.newLabel,"videoTrack"),this.stream.isLocalStreamPublished&&this.session.sendVideoData(this.stream.streamManager,5,!0,5)):p.kind==="audio"&&U&&this.openvidu.sendTrackChangedEvent(this,b.oldLabel,b.newLabel,"audioTrack"),p.kind==="audio"&&(this.stream.disableHarkSpeakingEvent(!1),this.stream.disableHarkStoppedSpeakingEvent(!1),this.stream.disableHarkVolumeChangeEvent(!1),this.stream.initHarkEvents())},y.prototype.setPermissionDialogTimer=function(p){var U=this;this.permissionDialogTimeout=setTimeout(function(){U.emitEvent("accessDialogOpened",[])},p)},y.prototype.clearPermissionDialogTimer=function(p,U){clearTimeout(this.permissionDialogTimeout),Date.now()-p>U&&this.emitEvent("accessDialogClosed",[])},y.prototype.replaceTrackInRtcRtpSender=function(p){return A(this,void 0,void 0,function(){var U,O;return e(this,function(B){switch(B.label){case 0:if(U=this.stream.getRTCPeerConnection().getSenders(),p.kind==="video"){if(O=U.find(function(b){return!!b.track&&b.track.kind==="video"}),!O)throw new Error("There's no replaceable track for that kind of MediaStreamTrack in this Publisher object")}else if(p.kind==="audio"){if(O=U.find(function(b){return!!b.track&&b.track.kind==="audio"}),!O)throw new Error("There's no replaceable track for that kind of MediaStreamTrack in this Publisher object")}else throw new Error("Unknown track kind "+p.kind);return[4,O.replaceTrack(p)];case 1:return B.sent(),[2]}})})},y}(i.StreamManager);return Ir.Publisher=C,Ir}var Kd={};globalThis.getScreenId=function(t,A,e){if(navigator.userAgent.indexOf("Edge")!==-1&&(navigator.msSaveOrOpenBlob||navigator.msSaveBlob)){A({video:!0});return}if(navigator.mozGetUserMedia){A(null,"firefox",{video:{mozMediaSource:t,mediaSource:t}});return}globalThis.addEventListener("message",r);function r(n){n.data&&(n.data.chromeMediaSourceId&&(n.data.chromeMediaSourceId==="PermissionDeniedError"?A("permission-denied"):A(null,n.data.chromeMediaSourceId,qc(null,n.data.chromeMediaSourceId,n.data.canRequestAudioTrack)),globalThis.removeEventListener("message",r)),n.data.chromeExtensionStatus&&(A(n.data.chromeExtensionStatus,null,qc(n.data.chromeExtensionStatus)),globalThis.removeEventListener("message",r)))}setTimeout(e?function(){_i(e)}:_i,100)};function qc(t,A,e){var r={audio:!1,video:{mandatory:{chromeMediaSource:t?"screen":"desktop",maxWidth:globalThis.screen.width>1920?globalThis.screen.width:1920,maxHeight:globalThis.screen.height>1080?globalThis.screen.height:1080},optional:[]}};return e&&(r.audio={mandatory:{chromeMediaSource:t?"screen":"desktop"},optional:[]}),A&&(r.video.mandatory.chromeMediaSourceId=A,r.audio&&r.audio.mandatory&&(r.audio.mandatory.chromeMediaSourceId=A)),r}function _i(t){if(!le){ka(function(){_i(t)});return}if(!le.isLoaded){setTimeout(function(){_i(t)},100);return}t?t.forEach?le.contentWindow.postMessage({captureCustomSourceId:t},"*"):le.contentWindow.postMessage({captureSourceIdWithAudio:!0},"*"):le.contentWindow.postMessage({captureSourceId:!0},"*")}var le;globalThis.getScreenConstraints=function(t){ka(function(){getScreenId(function(A,e,r){r||(r={video:!0}),t(A,r.video)})})};function ka(t){if(le){t();return}le=document.createElement("iframe"),le.onload=function(){le.isLoaded=!0,t()},le.src="https://openvidu.github.io/openvidu-screen-sharing-chrome-extension/",le.style.display="none",(document.body||document.documentElement).appendChild(le)}globalThis.getChromeExtensionStatus=function(t){if(navigator.mozGetUserMedia){t("installed-enabled");return}globalThis.addEventListener("message",A);function A(e){e.data&&e.data.chromeExtensionStatus&&(t(e.data.chromeExtensionStatus),globalThis.removeEventListener("message",A))}setTimeout(Gs,100)};function Gs(){if(!le){ka(Gs);return}if(!le.isLoaded){setTimeout(Gs,100);return}le.contentWindow.postMessage({getChromeExtensionStatus:!0},"*")}Kd.getScreenId=globalThis.getScreenId;var Cr={},dt="screen",ft,nr;if(typeof window<"u"&&typeof navigator<"u"&&typeof navigator.userAgent<"u"){var Gd=typeof window.InstallTrigger<"u";window.opera||navigator.userAgent.indexOf(" OPR/")>=0,window.addEventListener("message",function(t){t.origin==window.location.origin&&qC(t.data)})}function qC(t){if(t=="PermissionDeniedError"){if(nr)return nr("PermissionDeniedError");throw new Error("PermissionDeniedError")}t=="rtcmulticonnection-extension-loaded"&&(dt="desktop"),t.sourceId&&nr&&nr(ft=t.sourceId,t.canRequestAudioTrack===!0)}function ZC(t){if(t){if(dt=="desktop")return t(!0);window.postMessage("are-you-there","*"),setTimeout(function(){dt=="screen"?t(!1):t(!0)},2e3)}}function $d(t){if(!t)throw'"callback" parameter is mandatory.';if(ft)return t(ft);nr=t,window.postMessage("get-sourceId","*")}function zC(t){if(!t)throw'"callback" parameter is mandatory.';if(ft)return t(ft);nr=t,window.postMessage("audio-plus-tab","*")}function AE(t,A){if(Gd)return A("not-chrome");arguments.length!=2&&(A=t,t="lfcgfepafnobdloecchnfaclibenjold");var e=document.createElement("img");e.src="chrome-extension://"+t+"/icon.png",e.onload=function(){dt="screen",window.postMessage("are-you-there","*"),setTimeout(function(){dt=="screen"?A("installed-disabled"):A("installed-enabled")},2e3)},e.onerror=function(){A("not-installed")}}function eE(t){Wd(t,!0)}function Wd(t,A){ft="";var e={mozMediaSource:"window",mediaSource:"window"};if(Gd)return t(null,e);var r={mandatory:{chromeMediaSource:dt,maxWidth:screen.width>1920?screen.width:1920,maxHeight:screen.height>1080?screen.height:1080},optional:[]};if(dt=="desktop"&&!ft){A?zC(function(n,i){r.mandatory.chromeMediaSourceId=n,i&&(r.canRequestAudioTrack=!0),t(n=="PermissionDeniedError"?n:null,r)}):$d(function(n){r.mandatory.chromeMediaSourceId=n,t(n=="PermissionDeniedError"?n:null,r)});return}dt=="desktop"&&(r.mandatory.chromeMediaSourceId=ft),t(null,r)}Cr.getScreenConstraints=Wd;Cr.getScreenConstraintsWithAudio=eE;Cr.isChromeExtensionAvailable=ZC;Cr.getChromeExtensionStatus=AE;Cr.getSourceId=$d;var Na={exports:{}},or=typeof Reflect=="object"?Reflect:null,Zc=or&&typeof or.apply=="function"?or.apply:function(A,e,r){return Function.prototype.apply.call(A,e,r)},wi;or&&typeof or.ownKeys=="function"?wi=or.ownKeys:Object.getOwnPropertySymbols?wi=function(A){return Object.getOwnPropertyNames(A).concat(Object.getOwnPropertySymbols(A))}:wi=function(A){return Object.getOwnPropertyNames(A)};function tE(t){console&&console.warn&&console.warn(t)}var Xd=Number.isNaN||function(A){return A!==A};function FA(){FA.init.call(this)}Na.exports=FA;Na.exports.once=oE;FA.EventEmitter=FA;FA.prototype._events=void 0;FA.prototype._eventsCount=0;FA.prototype._maxListeners=void 0;var zc=10;function Bo(t){if(typeof t!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t)}Object.defineProperty(FA,"defaultMaxListeners",{enumerable:!0,get:function(){return zc},set:function(t){if(typeof t!="number"||t<0||Xd(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");zc=t}});FA.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};FA.prototype.setMaxListeners=function(A){if(typeof A!="number"||A<0||Xd(A))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+A+".");return this._maxListeners=A,this};function jd(t){return t._maxListeners===void 0?FA.defaultMaxListeners:t._maxListeners}FA.prototype.getMaxListeners=function(){return jd(this)};FA.prototype.emit=function(A){for(var e=[],r=1;r<arguments.length;r++)e.push(arguments[r]);var n=A==="error",i=this._events;if(i!==void 0)n=n&&i.error===void 0;else if(!n)return!1;if(n){var o;if(e.length>0&&(o=e[0]),o instanceof Error)throw o;var s=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw s.context=o,s}var a=i[A];if(a===void 0)return!1;if(typeof a=="function")Zc(a,this,e);else for(var c=a.length,l=zd(a,c),r=0;r<c;++r)Zc(l[r],this,e);return!0};function Jd(t,A,e,r){var n,i,o;if(Bo(e),i=t._events,i===void 0?(i=t._events=Object.create(null),t._eventsCount=0):(i.newListener!==void 0&&(t.emit("newListener",A,e.listener?e.listener:e),i=t._events),o=i[A]),o===void 0)o=i[A]=e,++t._eventsCount;else if(typeof o=="function"?o=i[A]=r?[e,o]:[o,e]:r?o.unshift(e):o.push(e),n=jd(t),n>0&&o.length>n&&!o.warned){o.warned=!0;var s=new Error("Possible EventEmitter memory leak detected. "+o.length+" "+String(A)+" listeners added. Use emitter.setMaxListeners() to increase limit");s.name="MaxListenersExceededWarning",s.emitter=t,s.type=A,s.count=o.length,tE(s)}return t}FA.prototype.addListener=function(A,e){return Jd(this,A,e,!1)};FA.prototype.on=FA.prototype.addListener;FA.prototype.prependListener=function(A,e){return Jd(this,A,e,!0)};function rE(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function Yd(t,A,e){var r={fired:!1,wrapFn:void 0,target:t,type:A,listener:e},n=rE.bind(r);return n.listener=e,r.wrapFn=n,n}FA.prototype.once=function(A,e){return Bo(e),this.on(A,Yd(this,A,e)),this};FA.prototype.prependOnceListener=function(A,e){return Bo(e),this.prependListener(A,Yd(this,A,e)),this};FA.prototype.removeListener=function(A,e){var r,n,i,o,s;if(Bo(e),n=this._events,n===void 0)return this;if(r=n[A],r===void 0)return this;if(r===e||r.listener===e)--this._eventsCount===0?this._events=Object.create(null):(delete n[A],n.removeListener&&this.emit("removeListener",A,r.listener||e));else if(typeof r!="function"){for(i=-1,o=r.length-1;o>=0;o--)if(r[o]===e||r[o].listener===e){s=r[o].listener,i=o;break}if(i<0)return this;i===0?r.shift():nE(r,i),r.length===1&&(n[A]=r[0]),n.removeListener!==void 0&&this.emit("removeListener",A,s||e)}return this};FA.prototype.off=FA.prototype.removeListener;FA.prototype.removeAllListeners=function(A){var e,r,n;if(r=this._events,r===void 0)return this;if(r.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):r[A]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete r[A]),this;if(arguments.length===0){var i=Object.keys(r),o;for(n=0;n<i.length;++n)o=i[n],o!=="removeListener"&&this.removeAllListeners(o);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(e=r[A],typeof e=="function")this.removeListener(A,e);else if(e!==void 0)for(n=e.length-1;n>=0;n--)this.removeListener(A,e[n]);return this};function qd(t,A,e){var r=t._events;if(r===void 0)return[];var n=r[A];return n===void 0?[]:typeof n=="function"?e?[n.listener||n]:[n]:e?iE(n):zd(n,n.length)}FA.prototype.listeners=function(A){return qd(this,A,!0)};FA.prototype.rawListeners=function(A){return qd(this,A,!1)};FA.listenerCount=function(t,A){return typeof t.listenerCount=="function"?t.listenerCount(A):Zd.call(t,A)};FA.prototype.listenerCount=Zd;function Zd(t){var A=this._events;if(A!==void 0){var e=A[t];if(typeof e=="function")return 1;if(e!==void 0)return e.length}return 0}FA.prototype.eventNames=function(){return this._eventsCount>0?wi(this._events):[]};function zd(t,A){for(var e=new Array(A),r=0;r<A;++r)e[r]=t[r];return e}function nE(t,A){for(;A+1<t.length;A++)t[A]=t[A+1];t.pop()}function iE(t){for(var A=new Array(t.length),e=0;e<A.length;++e)A[e]=t[e].listener||t[e];return A}function oE(t,A){return new Promise(function(e,r){function n(o){t.removeListener(A,i),r(o)}function i(){typeof t.removeListener=="function"&&t.removeListener("error",n),e([].slice.call(arguments))}Af(t,A,i,{once:!0}),A!=="error"&&sE(t,n,{once:!0})})}function sE(t,A,e){typeof t.on=="function"&&Af(t,"error",A,e)}function Af(t,A,e,r){if(typeof t.on=="function")r.once?t.once(A,e):t.on(A,e);else if(typeof t.addEventListener=="function")t.addEventListener(A,function n(i){r.once&&t.removeEventListener(A,n),e(i)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof t)}var aE=Na.exports,Ma={},Pa={};function cE(t,A){var e={jsonrpc:"2.0"};if(t.method)e.method=t.method,t.params&&(e.params=t.params),A!=null&&(e.id=A);else if(A!=null){if(t.error){if(t.result!==void 0)throw new TypeError("Both result and error are defined");e.error=t.error}else if(t.result!==void 0)e.result=t.result;else throw new TypeError("No result or error is defined");e.id=A}return JSON.stringify(e)}function lE(t){var A=t;(typeof t=="string"||t instanceof String)&&(A=JSON.parse(t));var e=A.jsonrpc;if(e!=="2.0")throw new TypeError("Invalid JsonRPC version '"+e+"': "+t);if(A.method==null){if(A.id==null)throw new TypeError("Invalid message: "+t);var r=A.result!==void 0,n=A.error!==void 0;if(r&&n)throw new TypeError("Both result and error are defined: "+t);if(!r&&!n)throw new TypeError("No result or error is defined: "+t);A.ack=A.id,delete A.id}return A}Pa.pack=cE;Pa.unpack=lE;var Va={};function uE(t){throw new TypeError("Not yet implemented")}function dE(t){throw new TypeError("Not yet implemented")}Va.pack=uE;Va.unpack=dE;var fE=Pa,hE=Va;Ma.JsonRPC=fE;Ma.XmlRPC=hE;function ef(){var t={};this.forEach=function(A){for(var e in t){var r=t[e];for(var n in r)A(r[n])}},this.get=function(A,e){var r=t[e];if(r!=null)return r[A]},this.remove=function(A,e){var r=t[e];if(r!=null){delete r[A];for(var n in r)return!1;delete t[e]}},this.set=function(A,e,r){if(A==null)return this.remove(e,r);var n=t[r];n==null&&(t[r]=n={}),n[e]=A}}ef.prototype.pop=function(t,A){var e=this.get(t,A);if(e!=null)return this.remove(t,A),e};var pE=ef,ns={},is,Al;function tf(){if(Al)return is;Al=1;var t=VA.OpenViduLogger,A=t.getInstance(),e=2e3,r=3e3,n=3;function i(o){var s=!1,a,c=o.uri,l=!1,u=new WebSocket(c);u.onopen=function(){A.debug("WebSocket connected to "+c),o.onconnected&&o.onconnected()},u.onerror=function(y){A.error("Could not connect to "+c+" (invoking onerror if defined)",y),o.onerror&&o.onerror(y)};var f=function(){u.readyState===n?s?A.debug("Connection closed by user"):o.ismasternodecrashed()?A.error("Master Node has crashed. Stopping reconnection process"):(A.debug("Connection closed unexpectedly. Reconnecting..."),E(e,1)):A.debug("Close callback from previous websocket. Ignoring it")};u.onclose=f;function E(y,p){if(A.debug("reconnect (attempt #"+p+", max="+y+")"),p===1){if(l){A.warn("Trying to reconnect when already reconnecting... Ignoring this reconnection.");return}else l=!0;o.onreconnecting&&o.onreconnecting()}I(y,p)}function C(y){var p=new URLSearchParams(new URL(y).search);return p.has("reconnect")||(y=Array.from(p).length>0?y+"&reconnect=true":y+"?reconnect=true"),y}function I(y,p){A.debug("Reconnection attempt #"+p),u.close(4104,"Connection closed for reconnection"),c=C(c),u=new WebSocket(c),u.onopen=function(){A.debug("Reconnected to "+c+" after "+p+" attempts..."),l=!1,a(),o.onreconnected&&o.onreconnected(),u.onclose=f},u.onerror=function(U){A.warn("Reconnection error: ",U),p===y?o.ondisconnect&&o.ondisconnect():setTimeout(function(){E(y,p+1)},r)}}this.close=function(y,p){s=!0,u.close(y,p)},this.reconnectWs=function(){A.debug("reconnectWs"),E(e,1)},this.send=function(y){u.send(y)},this.addEventListener=function(y,p){a=function(){u.addEventListener(y,p)},a()},this.getReadyState=function(){return u.readyState}}return is=i,is}var os,el;function gE(){if(el)return os;el=1;var t=rf(),A=tf(),e=VA.OpenViduLogger;Date.now=Date.now||function(){return+new Date};var r=5e3,n="RECONNECTING",i="CONNECTED",o="DISCONNECTED",s=e.getInstance();function a(c){var l=this,u=c.ws,f=-1,E=0,C=!0,I=!1,y,p=o,U=u.onreconnecting,O=u.onreconnected,B=u.onconnected,b=u.onerror;c.rpc.pull=function(d,v){v.reply(null,"push")},u.onreconnecting=function(){if(s.debug("--------- ONRECONNECTING -----------"),p===n){s.error("Websocket already in RECONNECTING state when receiving a new ONRECONNECTING message. Ignoring it");return}k(),p=n,U&&U()},u.onreconnected=function(){if(s.debug("--------- ONRECONNECTED -----------"),p===i){s.error("Websocket already in CONNECTED state when receiving a new ONRECONNECTED message. Ignoring it");return}p=i,T(),O&&O()},u.onconnected=function(){if(s.debug("--------- ONCONNECTED -----------"),p===i){s.error("Websocket already in CONNECTED state when receiving a new ONCONNECTED message. Ignoring it");return}p=i,C=!0,M(),B&&B()},u.onerror=function(d){s.debug("--------- ONERROR -----------"),p=o,k(),b&&b(d)};var Q=new A(u);s.debug("Connecting websocket to URI: "+u.uri);var R={request_timeout:c.rpc.requestTimeout,ping_request_timeout:c.rpc.heartbeatRequestTimeout},g=new t(t.packers.JsonRPC,R,Q,function(d){s.debug("Received request: "+JSON.stringify(d));try{var v=c.rpc[d.method];v===void 0?s.error("Method "+d.method+" not registered in client"):v(d.params,d)}catch(L){s.error("Exception processing request: "+JSON.stringify(d)),s.error(L)}});this.send=function(d,v,L){var m=Date.now();g.encode(d,v,function(h,w){if(h){try{s.error("ERROR:"+h.message+" in Request: method:"+d+" params:"+JSON.stringify(v)+" request:"+h.request),h.data&&s.error("ERROR DATA:"+JSON.stringify(h.data))}catch{}h.requestTime=m}L&&(w!=null&&w.value!=="pong"&&s.debug("Response: "+JSON.stringify(w)),L(h,w))})};function T(){s.debug("notReconnectIfNumLessThan = "+E+" (old="+f+")"),f=E}function V(){if(C){var d=null;(E==0||E==f)&&(d={interval:c.heartbeat||r}),E++,l.send("ping",d,function(v){return function(L,m){L&&(s.debug("Error in ping request #"+v+" ("+L.message+")"),v>f&&(C=!1,T(),s.debug("Server did not respond to ping message #"+v+". Reconnecting... "),Q.reconnectWs()))}}(E))}else s.debug("Trying to send ping, but ping is not enabled")}function M(){I||(s.debug("Starting ping (if configured)"),I=!0,c.heartbeat!=null&&(y=setInterval(V,c.heartbeat),V()))}function k(){clearInterval(y),I=!1,C=!1,E=-1,g.cancel()}this.close=function(d,v){s.debug("Closing  with code: "+d+" because: "+v),y!=null&&(s.debug("Clearing ping interval"),clearInterval(y)),I=!1,C=!1,Q.close(d,v)},this.reconnect=function(){Q.reconnectWs()},this.resetPing=function(){C=!0,E=0,M()},this.getReadyState=function(){return Q.getReadyState()}}return os=a,os}var tl;function BE(){if(tl)return ns;tl=1;var t=gE();return ns.JsonRpcClient=t,ns}var ss={},rl;function vE(){if(rl)return ss;rl=1;var t=tf();return ss.WebSocketWithReconnection=t,ss}var as,nl;function rf(){if(nl)return as;nl=1;var t=!1;if(Object.defineProperty)try{Object.defineProperty({},"x",{})}catch{t=!0}Function.prototype.bind||(Function.prototype.bind=function(f){if(typeof this!="function")throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var E=Array.prototype.slice.call(arguments,1),C=this,I=function(){},y=function(){return C.apply(this instanceof I&&f?this:f,E.concat(Array.prototype.slice.call(arguments)))};return I.prototype=this.prototype,y.prototype=new I,y});var A=aE.EventEmitter,e=CA,r=Ma,n=pE,i=5e3;function o(f){if(!f)return{};for(var E in f){var C=f[E];typeof C=="string"&&(f[E]={response:C})}return f}function s(f){if(f){if(f instanceof Function)return{send:f};if(f.send instanceof Function)return f;if(f.postMessage instanceof Function)return f.send=f.postMessage,f;if(f.write instanceof Function)return f.send=f.write,f;if(f.onmessage===void 0&&!(f.pause instanceof Function))throw new SyntaxError("Transport is not a function nor a valid object")}}function a(f,E){t?(this.method=f,this.params=E):(Object.defineProperty(this,"method",{value:f,enumerable:!0}),Object.defineProperty(this,"params",{value:E,enumerable:!0}))}function c(f,E,C,I){var y=this;if(!f)throw new SyntaxError("Packer is not defined");if(!f.pack||!f.unpack)throw new SyntaxError("Packer is invalid");var p=o(f.responseMethods);if(E instanceof Function){if(C!=null)throw new SyntaxError("There can't be parameters after onRequest");I=E,C=void 0,E=void 0}if(E&&E.send instanceof Function){if(C&&!(C instanceof Function))throw new SyntaxError("Only a function can be after transport");I=C,C=E,E=void 0}if(C instanceof Function){if(I!=null)throw new SyntaxError("There can't be parameters after onRequest");I=C,C=void 0}if(C&&C.send instanceof Function&&I&&!(I instanceof Function))throw new SyntaxError("Only a function can be after transport");E=E||{},A.call(this),I&&this.on("request",I),t?this.peerID=E.peerID:Object.defineProperty(this,"peerID",{value:E.peerID});var U=E.max_retries||0;function O(h){y.decode(h.data||h)}this.getTransport=function(){return C},this.setTransport=function(h){C&&(C.removeEventListener?C.removeEventListener("message",O):C.removeListener&&C.removeListener("data",O)),h&&(h.addEventListener?h.addEventListener("message",O):h.addListener&&h.addListener("data",O)),C=s(h)},t||Object.defineProperty(this,"transport",{get:this.getTransport.bind(this),set:this.setTransport.bind(this)}),this.setTransport(C);var B=E.request_timeout||i,b=E.ping_request_timeout||B,Q=E.response_timeout||i,R=E.duplicates_timeout||i,g=0,T=new n,V=new n,M=new n,k={};function d(h,w,_){var x={message:h,timeout:setTimeout(function(){V.remove(w,_)},Q)};V.set(x,w,_)}function v(h,w){var _=setTimeout(function(){M.remove(h,w)},R);M.set(_,h,w)}function L(h,w,_,x,N){a.call(this,h,w),this.getTransport=function(){return N},this.setTransport=function(X){N=s(X)},t||Object.defineProperty(this,"transport",{get:this.getTransport.bind(this),set:this.setTransport.bind(this)});var P=V.get(_,x);N||y.getTransport()||(t?this.duplicated=!!P:Object.defineProperty(this,"duplicated",{value:!!P}));var Z=p[h];this.pack=f.pack.bind(f,this,_),this.reply=function(X,oA,H){if(X instanceof Function||X&&X.send instanceof Function){if(oA!=null)throw new SyntaxError("There can't be parameters after callback");H=X,oA=null,X=void 0}else if(oA instanceof Function||oA&&oA.send instanceof Function){if(H!=null)throw new SyntaxError("There can't be parameters after callback");H=oA,oA=null}H=s(H),P&&clearTimeout(P.timeout),x!=null&&(X&&(X.dest=x),oA&&(oA.dest=x));var sA;if(X||oA!=null){if(y.peerID!=null&&(X?X.from=y.peerID:oA.from=y.peerID),Z)if(Z.error==null&&X)sA={error:X};else{var iA=X?Z.error:Z.response;sA={method:iA,params:X||oA}}else sA={error:X,result:oA};sA=f.pack(sA,_)}else P?sA=P.message:sA=f.pack({result:null},_);return d(sA,_,x),H=H||this.getTransport()||y.getTransport(),H?H.send(sA):sA}}e(L,a);function m(h){var w=k[h];if(w){delete k[h];var _=T.pop(w.id,w.dest);_&&(clearTimeout(_.timeout),v(w.id,w.dest))}}this.cancel=function(h){if(h)return m(h);for(var h in k)m(h)},this.close=function(){var h=this.getTransport();h&&h.close&&h.close(4003,"Cancel request"),this.cancel(),M.forEach(clearTimeout),V.forEach(function(w){clearTimeout(w.timeout)})},this.encode=function(h,w,_,x,N){if(w instanceof Function){if(_!=null)throw new SyntaxError("There can't be parameters after callback");N=w,x=void 0,_=void 0,w=void 0}else if(_ instanceof Function){if(x!=null)throw new SyntaxError("There can't be parameters after callback");N=_,x=void 0,_=void 0}else if(x instanceof Function){if(N!=null)throw new SyntaxError("There can't be parameters after callback");N=x,x=void 0}y.peerID!=null&&(w=w||{},w.from=y.peerID),_!=null&&(w=w||{},w.dest=_);var P={method:h,params:w};if(N){let sA=function($,gA){y.cancel(P),N($,gA)},iA=function($){var gA=h==="ping"?b:B;return oA.timeout=setTimeout(QA,gA*Math.pow(2,X++)),k[P]={id:Z,dest:_},T.set(oA,Z,_),$=$||H||y.getTransport(),$?$.send(P):P},bA=function($){$=s($),console.warn(X+" retry for request message:",P);var gA=M.pop(Z,_);return clearTimeout(gA),iA($)},QA=function(){if(X<U)return bA(x);var $=new Error("Request has timed out");$.request=P,$.retry=bA,sA($)};var Z=g++,X=0;P=f.pack(P,Z);var oA={message:P,callback:sA,responseMethods:p[h]||{}},H=s(x);return iA(x)}return P=f.pack(P),x=x||this.getTransport(),x?x.send(P):P},this.decode=function(h,w){if(!h)throw new TypeError("Message is not defined");try{h=f.unpack(h)}catch(K){return console.debug(K,h)}var _=h.id,x=h.ack,N=h.method,P=h.params||{},Z=P.from,X=P.dest;if(y.peerID!=null&&Z==y.peerID)return;if(_==null&&x==null){var oA=new a(N,P);return y.emit("request",oA)?void 0:oA}function H(){if(w=s(w)||y.getTransport(),w){var K=V.get(_,Z);if(K)return w.send(K.message)}var rA=_??x,hA=new L(N,P,rA,Z,w);if(!y.emit("request",hA))return hA}function sA(K,rA,hA){K.callback(rA,hA)}function iA(K){console.warn("Response already processed",h),clearTimeout(K),v(x,Z)}if(N){if(X==null||X==y.peerID){var W=T.get(x,Z);if(W){var bA=W.responseMethods;return N==bA.error?sA(W,P):N==bA.response?sA(W,null,P):H()}var QA=M.get(x,Z);if(QA)return iA(QA)}return H()}var $=h.error,gA=h.result;if(!($&&$.dest&&$.dest!=y.peerID)&&!(gA&&gA.dest&&gA.dest!=y.peerID)){var W=T.get(x,Z);if(!W){var QA=M.get(x,Z);return QA?iA(QA):console.warn("No callback was defined for this message",h)}sA(W,$,gA)}}}e(c,A),c.RpcNotification=a,as=c;var l=BE(),u=vE();return c.clients=l,c.clients.transports=u,c.packers=r,as}const mE="OpenVidu",wE={freeice:"2.2.2",hark:"1.2.3",jsnlog:"2.30.0",mime:"3.0.0",platform:"1.3.6",semver:"7.3.8",uuid:"9.0.0","wolfy87-eventemitter":"5.2.9",events:"3.3.0",inherits:"2.0.4"},CE="OpenVidu Browser",EE={"@types/node":"18.11.9","@types/platform":"1.3.4",browserify:"17.0.0",grunt:"1.5.3","grunt-cli":"1.4.3","grunt-contrib-copy":"1.0.0","grunt-contrib-sass":"2.0.0","grunt-contrib-uglify":"5.2.2","grunt-contrib-watch":"1.1.0","grunt-postcss":"0.9.0","grunt-string-replace":"1.3.3","grunt-ts":"6.0.0-beta.22",terser:"5.15.1",tsify:"5.0.4",tslint:"6.1.3",typedoc:"0.23.21",typescript:"4.9.3"},yE="Apache-2.0",bE="lib/index.js",QE="openvidu-browser",UE={type:"git",url:"git://github.com/OpenVidu/openvidu"},FE={browserify:"VERSION=${VERSION:-dev}; mkdir -p static/js/ && cd src && ../node_modules/browserify/bin/cmd.js Main.ts -p [ tsify ] --exclude kurento-browser-extensions --debug -o ../static/js/openvidu-browser-$VERSION.js -v","browserify-prod":"VERSION=${VERSION:-dev}; mkdir -p static/js/ && cd src && ../node_modules/browserify/bin/cmd.js --debug Main.ts -p [ tsify ] --exclude kurento-browser-extensions | ../node_modules/terser/bin/terser --source-map content=inline --output ../static/js/openvidu-browser-$VERSION.min.js",build:"cd src/OpenVidu && ./../../node_modules/typescript/bin/tsc && cd ../.. && ./node_modules/typescript/bin/tsc --declaration src/index.ts --outDir ./lib --sourceMap --target es5 --lib dom,es5,es2015.promise,scripthost && rm -rf ./ts4.4 && mkdir -p ./ts4.4/lib && cp -r ./lib ./ts4.4 && find ./ts4.4/lib -type f ! -iname '*.d.ts' -delete && ./config/replace_for_ts44.sh",docs:"./generate-docs.sh"},SE="lib/index.d.ts",IE={"<4.4":{"*":["ts4.4/*"]}},_E="2.29.1",OE={author:mE,dependencies:wE,description:CE,devDependencies:EE,license:yE,main:bE,name:QE,repository:UE,scripts:FE,types:SE,typesVersions:IE,version:_E};var il=D&&D.__awaiter||function(t,A,e,r){function n(i){return i instanceof e?i:new e(function(o){o(i)})}return new(e||(e=Promise))(function(i,o){function s(l){try{c(r.next(l))}catch(u){o(u)}}function a(l){try{c(r.throw(l))}catch(u){o(u)}}function c(l){l.done?i(l.value):n(l.value).then(s,a)}c((r=r.apply(t,A||[])).next())})},ol=D&&D.__generator||function(t,A){var e={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,n,i,o;return o={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function s(c){return function(l){return a([c,l])}}function a(c){if(r)throw new TypeError("Generator is already executing.");for(;o&&(o=0,c[0]&&(e=0)),e;)try{if(r=1,n&&(i=c[0]&2?n.return:c[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,c[1])).done)return i;switch(n=0,i&&(c=[c[0]&2,i.value]),c[0]){case 0:case 1:i=c;break;case 4:return e.label++,{value:c[1],done:!1};case 5:e.label++,n=c[1],c=[0];continue;case 7:c=e.ops.pop(),e.trys.pop();continue;default:if(i=e.trys,!(i=i.length>0&&i[i.length-1])&&(c[0]===6||c[0]===2)){e=0;continue}if(c[0]===3&&(!i||c[1]>i[0]&&c[1]<i[3])){e.label=c[1];break}if(c[0]===6&&e.label<i[1]){e.label=i[1],i=c;break}if(i&&e.label<i[2]){e.label=i[2],e.ops.push(c);break}i[2]&&e.ops.pop(),e.trys.pop();continue}c=A.call(t,e)}catch(l){c=[6,l],n=0}finally{r=i=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}};Object.defineProperty(qi,"__esModule",{value:!0});qi.OpenVidu=void 0;var xE=vn,TE=Da(),sl=go(),HE=wr,Jt=et,BA=kt,cs=Cn,LE=VA,RE=_e,DE=Kd,al=Cr,kE=xa,NE=Ta,ME=rf(),PE=OE,IA=LE.OpenViduLogger.getInstance(),fA,VE=function(){function t(){var A=this;this.masterNodeHasCrashed=!1,this.publishers=[],this.secret="",this.recorder=!1,this.stt=!1,this.life=-1,this.advancedConfiguration={},this.webrtcStatsInterval=-1,this.sendBrowserLogs=kE.OpenViduLoggerConfiguration.disabled,this.isAtLeastPro=!1,this.isEnterprise=!1,this.ee=new NE,fA=RE.PlatformUtils.getInstance(),this.libraryVersion=PE.version,IA.info("OpenVidu initialized"),IA.info("Platform detected: "+fA.getDescription()),IA.info("openvidu-browser version: "+this.libraryVersion),(fA.isMobileDevice()||fA.isReactNative())&&this.onOrientationChanged(function(){A.publishers.forEach(function(e){e.stream.isLocalStreamPublished&&e.stream&&e.stream.hasVideo&&A.sendNewVideoDimensionsIfRequired(e,"deviceRotated",75,10)})})}return t.prototype.initSession=function(){return this.session=new sl.Session(this),this.session},t.prototype.initPublisher=function(A,e,r){var n;e&&typeof e!="function"?(n=e,n={audioSource:typeof n.audioSource<"u"?n.audioSource:void 0,frameRate:typeof MediaStreamTrack<"u"&&n.videoSource instanceof MediaStreamTrack?void 0:typeof n.frameRate<"u"?n.frameRate:void 0,insertMode:typeof n.insertMode<"u"?typeof n.insertMode=="string"?cs.VideoInsertMode[n.insertMode]:n.insertMode:cs.VideoInsertMode.APPEND,mirror:typeof n.mirror<"u"?n.mirror:!0,publishAudio:typeof n.publishAudio<"u"?n.publishAudio:!0,publishVideo:typeof n.publishVideo<"u"?n.publishVideo:!0,resolution:typeof MediaStreamTrack<"u"&&n.videoSource instanceof MediaStreamTrack?void 0:typeof n.resolution<"u"?n.resolution:"640x480",videoSource:typeof n.videoSource<"u"?n.videoSource:void 0,videoSimulcast:n.videoSimulcast,filter:n.filter}):n={insertMode:cs.VideoInsertMode.APPEND,mirror:!0,publishAudio:!0,publishVideo:!0,resolution:"640x480"};var i=new TE.Publisher(A,n,this),o;return e&&typeof e=="function"?o=e:r&&(o=r),i.initialize().then(function(){o!==void 0&&o(void 0),i.emitEvent("accessAllowed",[])}).catch(function(s){o!==void 0&&o(s),i.emitEvent("accessDenied",[s])}),this.publishers.push(i),i},t.prototype.initPublisherAsync=function(A,e){var r=this;return new Promise(function(n,i){var o,s=function(a){return a?i(a):n(o)};e?o=r.initPublisher(A,e,s):o=r.initPublisher(A,s)})},t.prototype.initLocalRecorder=function(A){return new xE.LocalRecorder(A)},t.prototype.checkSystemRequirements=function(){return fA.isIPhoneOrIPad()?fA.isIOSWithSafari()||fA.isChromeMobileBrowser()||fA.isFirefoxMobileBrowser()||fA.isOperaMobileBrowser()||fA.isEdgeMobileBrowser()||fA.isIonicIos():fA.isChromeBrowser()||fA.isChromeMobileBrowser()||fA.isFirefoxBrowser()||fA.isFirefoxMobileBrowser()||fA.isOperaBrowser()||fA.isOperaMobileBrowser()||fA.isEdgeBrowser()||fA.isEdgeMobileBrowser()||fA.isSamsungBrowser()||fA.isSafariBrowser()||fA.isAndroidBrowser()||fA.isElectron()||fA.isNodeJs()||fA.isMotorolaEdgeDevice()},t.prototype.checkScreenSharingCapabilities=function(){return fA.canScreenShare()},t.prototype.getDevices=function(){return new Promise(function(A,e){navigator.mediaDevices.enumerateDevices().then(function(r){var n,i=[];if(fA.isIonicAndroid()&&typeof cordova<"u"&&(!((n=cordova==null?void 0:cordova.plugins)===null||n===void 0)&&n.EnumerateDevicesPlugin))cordova.plugins.EnumerateDevicesPlugin.getEnumerateDevices().then(function(o){var s=[],a=[],c=[];return s=o.filter(function(l){return l.kind==="audioinput"}),a=r.filter(function(l){return l.kind==="videoinput"}),c=r.filter(function(l){return l.kind==="audioinput"}),a.forEach(function(l,u){if(l.label)i.push({kind:l.kind,deviceId:l.deviceId,label:l.label});else{var f="";u===0?f="Front Camera":u===1?f="Back Camera":f="Unknown Camera",i.push({kind:l.kind,deviceId:l.deviceId,label:f})}}),c.forEach(function(l,u){if(l.label)i.push({kind:l.kind,deviceId:l.deviceId,label:l.label});else{var f="";switch(u){case 0:f="Default";break;case 1:var E=s.filter(function(y){return y.label.includes("Built")})[0];f=E?E.label:"Built-in Microphone";break;case 2:var C=s.filter(function(y){return y.label.includes("Wired")})[0];C?f=C.label:f="Headset earpiece";break;case 3:var I=s.filter(function(y){return y.label.includes("Bluetooth")})[0];f=I?I.label:"Wireless";break;default:f="Unknown Microphone";break}i.push({kind:l.kind,deviceId:l.deviceId,label:f})}}),A(i)});else return r.forEach(function(o){(o.kind==="audioinput"||o.kind==="videoinput")&&i.push({kind:o.kind,deviceId:o.deviceId,label:o.label})}),A(i)}).catch(function(r){return IA.error("Error getting devices",r),e(r)})})},t.prototype.getUserMedia=function(A){var e,r;return il(this,void 0,void 0,function(){var n,i,o,c,s,u,f,a,c,l,u,f,E,C=this;return ol(this,function(I){switch(I.label){case 0:n=function(y,p){return il(C,void 0,void 0,function(){var U,O,B,b;return ol(this,function(Q){switch(Q.label){case 0:U=p.audio===void 0?!0:p.audio,O={audio:U,video:!1},Q.label=1;case 1:return Q.trys.push([1,3,,4]),[4,navigator.mediaDevices.getUserMedia(O)];case 2:return B=Q.sent(),y.addTrack(B.getAudioTracks()[0]),[2,y];case 3:throw b=Q.sent(),y.getAudioTracks().forEach(function(R){R.stop()}),y.getVideoTracks().forEach(function(R){R.stop()}),this.generateAudioDeviceError(b,O);case 4:return[2]}})})},I.label=1;case 1:return I.trys.push([1,20,,21]),[4,this.generateMediaConstraints(A)];case 2:return i=I.sent(),i.videoTrack&&i.audioTrack||i.audioTrack&&((e=i.constraints)===null||e===void 0?void 0:e.video)===!1||i.videoTrack&&((r=i.constraints)===null||r===void 0?void 0:r.audio)===!1?[2,this.addAlreadyProvidedTracks(i,new MediaStream)]:[3,3];case 3:if(i.videoTrack&&delete i.constraints.video,i.audioTrack&&delete i.constraints.audio,o=!1,typeof A.videoSource!="string")return[3,12];if(!(A.videoSource==="screen"||A.videoSource==="window"||fA.isElectron()&&A.videoSource.startsWith("screen:")))return[3,12];if(o=!i.audioTrack&&A.audioSource!==null&&A.audioSource!==!1,!(navigator.mediaDevices.getDisplayMedia&&!fA.isElectron()))return[3,11];I.label=4;case 4:return I.trys.push([4,9,,10]),[4,navigator.mediaDevices.getDisplayMedia({video:!0,audio:A.audioSource==="screen"})];case 5:return c=I.sent(),this.addAlreadyProvidedTracks(i,c),o?[4,n(c,i.constraints)]:[3,7];case 6:return[2,I.sent()];case 7:return[2,c];case 8:return[3,10];case 9:throw s=I.sent(),u=BA.OpenViduErrorName.SCREEN_CAPTURE_DENIED,f=s.toString(),new BA.OpenViduError(u,f);case 10:return[3,11];case 11:return[3,12];case 12:a=o?{video:i.constraints.video}:i.constraints,I.label=13;case 13:return I.trys.push([13,18,,19]),[4,navigator.mediaDevices.getUserMedia(a)];case 14:return c=I.sent(),this.addAlreadyProvidedTracks(i,c),o?[4,n(c,i.constraints)]:[3,16];case 15:return[2,I.sent()];case 16:return[2,c];case 17:return[3,19];case 18:throw l=I.sent(),u=void 0,f=l.toString(),A.videoSource!=="screen"?u=BA.OpenViduErrorName.DEVICE_ACCESS_DENIED:u=BA.OpenViduErrorName.SCREEN_CAPTURE_DENIED,new BA.OpenViduError(u,f);case 19:return[3,21];case 20:throw E=I.sent(),E;case 21:return[2]}})})},t.prototype.enableProdMode=function(){IA.enableProdMode()},t.prototype.setAdvancedConfiguration=function(A){this.advancedConfiguration=A},t.prototype.onOrientationChanged=function(A){globalThis.addEventListener("orientationchange",A)},t.prototype.sendNewVideoDimensionsIfRequired=function(A,e,r,n){var i=this,o,s,a,c,l=0,u=((s=(o=A==null?void 0:A.stream)===null||o===void 0?void 0:o.videoDimensions)===null||s===void 0?void 0:s.width)||0,f=((c=(a=A==null?void 0:A.stream)===null||a===void 0?void 0:a.videoDimensions)===null||c===void 0?void 0:c.height)||0,E=setInterval(function(){l++,l>n&&clearTimeout(E),A.getVideoDimensions().then(function(C){(C.width!==u||C.height!==f)&&(clearTimeout(E),i.sendVideoDimensionsChangedEvent(A,e,u,f,C.width,C.height))})},r)},t.prototype.sendVideoDimensionsChangedEvent=function(A,e,r,n,i,o){var s=this;A.stream.videoDimensions={width:i||0,height:o||0},this.sendRequest("streamPropertyChanged",{streamId:A.stream.streamId,property:"videoDimensions",newValue:JSON.stringify(A.stream.videoDimensions),reason:e},function(a,c){a?IA.error("Error sending 'streamPropertyChanged' event",a):(s.session.emitEvent("streamPropertyChanged",[new Jt.StreamPropertyChangedEvent(s.session,A.stream,"videoDimensions",A.stream.videoDimensions,{width:r,height:n},e)]),A.emitEvent("streamPropertyChanged",[new Jt.StreamPropertyChangedEvent(A,A.stream,"videoDimensions",A.stream.videoDimensions,{width:r,height:n},e)]),s.session.sendVideoData(A))})},t.prototype.sendTrackChangedEvent=function(A,e,r,n){var i=this,o={label:e},s={label:r},a="trackReplaced";A.stream.isLocalStreamPublished?this.sendRequest("streamPropertyChanged",{streamId:A.stream.streamId,property:n,newValue:s,reason:a},function(c,l){c?IA.error("Error sending 'streamPropertyChanged' event",c):(i.session.emitEvent("streamPropertyChanged",[new Jt.StreamPropertyChangedEvent(i.session,A.stream,n,s,o,a)]),A.emitEvent("streamPropertyChanged",[new Jt.StreamPropertyChangedEvent(A,A.stream,n,s,o,a)]))}):(this.session.emitEvent("streamPropertyChanged",[new Jt.StreamPropertyChangedEvent(this.session,A.stream,n,s,o,a)]),A.emitEvent("streamPropertyChanged",[new Jt.StreamPropertyChangedEvent(A,A.stream,n,s,o,a)]))},t.prototype.generateMediaConstraints=function(A){var e=this;return new Promise(function(r,n){var i={audioTrack:void 0,videoTrack:void 0,constraints:{audio:void 0,video:void 0}},o=A.audioSource,s=A.videoSource;if((o===null||o===!1)&&(i.constraints.audio=!1),(s===null||s===!1)&&(i.constraints.video=!1),i.constraints.audio===!1&&i.constraints.video===!1)return n(new BA.OpenViduError(BA.OpenViduErrorName.NO_INPUT_SOURCE_SET,"Properties 'audioSource' and 'videoSource' cannot be set to false or null at the same time"));if(typeof MediaStreamTrack<"u"&&o instanceof MediaStreamTrack&&(i.audioTrack=o),typeof MediaStreamTrack<"u"&&s instanceof MediaStreamTrack&&(i.videoTrack=s),o===void 0&&(i.constraints.audio=!0),s===void 0&&(i.constraints.video={width:{ideal:640},height:{ideal:480}}),s!==null&&s!==!1){if(A.resolution){var a=A.resolution.toLowerCase().split("x"),c=Number(a[0]),l=Number(a[1]);i.constraints.video={width:{ideal:c},height:{ideal:l}}}A.frameRate&&(i.constraints.video.frameRate={ideal:A.frameRate})}return e.configureDeviceIdOrScreensharing(i,A,r,n),r(i)})},t.prototype.startWs=function(A){var e={heartbeat:5e3,ws:{uri:this.wsUri+"?sessionId="+this.session.sessionId,onconnected:A,ondisconnect:this.disconnectCallback.bind(this),onreconnecting:this.reconnectingCallback.bind(this),onreconnected:this.reconnectedCallback.bind(this),ismasternodecrashed:this.isMasterNodeCrashed.bind(this)},rpc:{requestTimeout:1e4,heartbeatRequestTimeout:5e3,participantJoined:this.session.onParticipantJoined.bind(this.session),participantPublished:this.session.onParticipantPublished.bind(this.session),participantUnpublished:this.session.onParticipantUnpublished.bind(this.session),participantLeft:this.session.onParticipantLeft.bind(this.session),participantEvicted:this.session.onParticipantEvicted.bind(this.session),recordingStarted:this.session.onRecordingStarted.bind(this.session),recordingStopped:this.session.onRecordingStopped.bind(this.session),broadcastStarted:this.session.onBroadcastStarted.bind(this.session),broadcastStopped:this.session.onBroadcastStopped.bind(this.session),sendMessage:this.session.onNewMessage.bind(this.session),streamPropertyChanged:this.session.onStreamPropertyChanged.bind(this.session),connectionPropertyChanged:this.session.onConnectionPropertyChanged.bind(this.session),networkQualityLevelChanged:this.session.onNetworkQualityLevelChangedChanged.bind(this.session),filterEventDispatched:this.session.onFilterEventDispatched.bind(this.session),iceCandidate:this.session.recvIceCandidate.bind(this.session),mediaError:this.session.onMediaError.bind(this.session),masterNodeCrashedNotification:this.onMasterNodeCrashedNotification.bind(this),forciblyReconnectSubscriber:this.session.onForciblyReconnectSubscriber.bind(this.session),speechToTextMessage:this.session.onSpeechToTextMessage.bind(this.session),speechToTextDisconnected:this.session.onSpeechToTextDisconnected.bind(this.session)}};this.jsonRpcClient=new ME.clients.JsonRpcClient(e)},t.prototype.onMasterNodeCrashedNotification=function(A){console.error("Master Node has crashed"),this.masterNodeHasCrashed=!0,this.session.onLostConnection("nodeCrashed"),this.jsonRpcClient.close(4103,"Master Node has crashed")},t.prototype.getWsReadyState=function(){return this.jsonRpcClient.getReadyState()},t.prototype.closeWs=function(){this.jsonRpcClient.close(4102,"Connection closed by client")},t.prototype.sendRequest=function(A,e,r){var n;e&&e instanceof Function&&(r=e,e={}),IA.debug('Sending request: {method:"'+A+'", params: '+JSON.stringify(e)+"}"),(n=this.jsonRpcClient)===null||n===void 0||n.send(A,e,r)},t.prototype.getWsUri=function(){return this.wsUri},t.prototype.getSecret=function(){return this.secret},t.prototype.getRecorder=function(){return this.recorder},t.prototype.getStt=function(){return this.stt},t.prototype.generateAudioDeviceError=function(A,e){A.name==="Error"&&(A.name=A.constructor.name);var r,n;switch(A.name.toLowerCase()){case"notfounderror":return r=BA.OpenViduErrorName.INPUT_AUDIO_DEVICE_NOT_FOUND,n=A.toString(),new BA.OpenViduError(r,n);case"notallowederror":return r=BA.OpenViduErrorName.DEVICE_ACCESS_DENIED,n=A.toString(),new BA.OpenViduError(r,n);case"overconstrainederror":return A.constraint.toLowerCase()==="deviceid"?(r=BA.OpenViduErrorName.INPUT_AUDIO_DEVICE_NOT_FOUND,n="Audio input device with deviceId '"+e.audio.deviceId.exact+"' not found"):(r=BA.OpenViduErrorName.PUBLISHER_PROPERTIES_ERROR,n="Audio input device doesn't support the value passed for constraint '"+A.constraint+"'"),new BA.OpenViduError(r,n);case"notreadableerror":return r=BA.OpenViduErrorName.DEVICE_ALREADY_IN_USE,n=A.toString(),new BA.OpenViduError(r,n);default:return new BA.OpenViduError(BA.OpenViduErrorName.INPUT_AUDIO_DEVICE_GENERIC_ERROR,A.toString())}},t.prototype.addAlreadyProvidedTracks=function(A,e,r){return A.videoTrack&&(e.addTrack(A.videoTrack),r&&(A.constraints.video?r.lastVideoTrackConstraints=A.constraints.video:r.lastVideoTrackConstraints=A.videoTrack.getConstraints())),A.audioTrack&&e.addTrack(A.audioTrack),e},t.prototype.configureDeviceIdOrScreensharing=function(A,e,r,n){var i=this,o=e.audioSource,s=e.videoSource;if(typeof o=="string"&&o!=="screen"&&(A.constraints.audio={deviceId:{exact:o}}),typeof s=="string")if(!this.isScreenShare(s))this.setVideoSource(A,s),o==="screen"&&(IA.warn('Parameter "audioSource" is set to "screen", which means rquesting audio from screen sharing source. But "videoSource" is not set to "screen". No audio source will be requested'),A.constraints.audio=!1);else if(this.checkScreenSharingCapabilities())if(fA.isElectron()){var c="screen:",l=s,u=l.substr(l.indexOf(c)+c.length);return A.constraints.video={mandatory:{chromeMediaSource:"desktop",chromeMediaSourceId:u}},r(A)}else if(this.advancedConfiguration.screenShareChromeExtension&&!(fA.isFirefoxBrowser()||fA.isFirefoxMobileBrowser())&&!navigator.mediaDevices.getDisplayMedia){al.getScreenConstraints(function(E,C){if(E||C.mandatory&&C.mandatory.chromeMediaSource==="screen")if(E==="permission-denied"||E==="PermissionDeniedError"){var I=new BA.OpenViduError(BA.OpenViduErrorName.SCREEN_CAPTURE_DENIED,"You must allow access to one window of your desktop");return IA.error(I),n(I)}else{var y=i.advancedConfiguration.screenShareChromeExtension.split("/").pop().trim();al.getChromeExtensionStatus(y,function(p){if(p==="installed-disabled"){var U=new BA.OpenViduError(BA.OpenViduErrorName.SCREEN_EXTENSION_DISABLED,"You must enable the screen extension");return IA.error(U),n(U)}if(p==="not-installed"){var O=new BA.OpenViduError(BA.OpenViduErrorName.SCREEN_EXTENSION_NOT_INSTALLED,i.advancedConfiguration.screenShareChromeExtension);return IA.error(O),n(O)}});return}else return A.constraints.video=C,r(A)});return}else{if(navigator.mediaDevices.getDisplayMedia)return r(A);var f=fA.isFirefoxBrowser()||fA.isFirefoxMobileBrowser()?e.videoSource:void 0;DE.getScreenId(f,function(E,C,I){if(E)if(E==="not-installed"){var y=i.advancedConfiguration.screenShareChromeExtension?i.advancedConfiguration.screenShareChromeExtension:"https://chrome.google.com/webstore/detail/openvidu-screensharing/lfcgfepafnobdloecchnfaclibenjold",p=new BA.OpenViduError(BA.OpenViduErrorName.SCREEN_EXTENSION_NOT_INSTALLED,y);return IA.error(p),n(p)}else if(E==="installed-disabled"){var p=new BA.OpenViduError(BA.OpenViduErrorName.SCREEN_EXTENSION_DISABLED,"You must enable the screen extension");return IA.error(p),n(p)}else if(E==="permission-denied"){var p=new BA.OpenViduError(BA.OpenViduErrorName.SCREEN_CAPTURE_DENIED,"You must allow access to one window of your desktop");return IA.error(p),n(p)}else{var p=new BA.OpenViduError(BA.OpenViduErrorName.GENERIC_ERROR,"Unknown error when accessing screen share");return IA.error(p),IA.error(E),n(p)}else return A.constraints.video=I.video,r(A)});return}else{var a=new BA.OpenViduError(BA.OpenViduErrorName.SCREEN_SHARING_NOT_SUPPORTED,"You can only screen share in desktop Chrome, Firefox, Opera, Safari (>=13.0), Edge (>= 80) or Electron. Detected client: "+fA.getName()+" "+fA.getVersion());return IA.error(a),n(a)}},t.prototype.setVideoSource=function(A,e){A.constraints.video||(A.constraints.video={}),A.constraints.video.deviceId={exact:e}},t.prototype.disconnectCallback=function(){IA.warn("Websocket connection lost"),this.isRoomAvailable()?this.session.onLostConnection("networkDisconnect"):alert("Connection error. Please reload page.")},t.prototype.reconnectingCallback=function(){IA.warn("Websocket connection lost (reconnecting)"),this.isRoomAvailable()?this.session.emitEvent("reconnecting",[]):alert("Connection error. Please reload page.")},t.prototype.reconnectWebsocketThroughRpcConnectMethod=function(A){var e=this;this.sendRequest("connect",{sessionId:A,reconnect:!0},function(r,n){if(r)if(e.isMasterNodeCrashed())IA.warn("Master Node has crashed!");else{IA.error(r);var i=function(s,a){IA.warn(a),e.session.onLostConnection(s),e.jsonRpcClient.close(4101,"Reconnection fault: "+a)},o=function(){e.life===-1?i("networkDisconnect","WS successfully reconnected but the user was already evicted due to timeout"):e.sendRequest("sessionStatus",{sessionId:e.session.sessionId},function(s,a){s!=null?console.error("Error checking session status",s):e.life===a.life?i("networkDisconnect","WS successfully reconnected but the user was already evicted due to timeout"):i("nodeCrashed","WS successfully reconnected to OpenVidu Server but your Master Node crashed")})};r.code===40007&&r.message==="reconnection error"&&console.error("Invalid RPC sessionId. Client network disconnection or Master Node crash"),o()}else e.jsonRpcClient.resetPing(),e.session.onRecoveredConnection()})},t.prototype.reconnectedCallback=function(){if(IA.warn("Websocket reconnected"),this.isRoomAvailable())if(this.session.connection)this.reconnectWebsocketThroughRpcConnectMethod(this.session.connection.rpcSessionId);else{IA.warn("There was no previous connection when running reconnection callback");var A=new HE.SessionDisconnectedEvent(this.session,"networkDisconnect");this.session.ee.emitEvent("sessionDisconnected",[A]),A.callDefaultBehavior()}else alert("Connection error. Please reload page.")},t.prototype.isMasterNodeCrashed=function(){return this.masterNodeHasCrashed},t.prototype.isRoomAvailable=function(){return this.session!==void 0&&this.session instanceof sl.Session?!0:(IA.warn("Session instance not found"),!1)},t.prototype.isScreenShare=function(A){return A==="screen"||A==="window"||fA.isElectron()&&A.startsWith("screen:")},t}();qi.OpenVidu=VE;var nf={};Object.defineProperty(nf,"__esModule",{value:!0});(function(t){var A=D&&D.__createBinding||(Object.create?function(h,w,_,x){x===void 0&&(x=_);var N=Object.getOwnPropertyDescriptor(w,_);(!N||("get"in N?!w.__esModule:N.writable||N.configurable))&&(N={enumerable:!0,get:function(){return w[_]}}),Object.defineProperty(h,x,N)}:function(h,w,_,x){x===void 0&&(x=_),h[x]=w[_]}),e=D&&D.__exportStar||function(h,w){for(var _ in h)_!=="default"&&!Object.prototype.hasOwnProperty.call(w,_)&&A(w,h,_)};Object.defineProperty(t,"__esModule",{value:!0}),t.EventDispatcher=t.ExceptionEventName=t.ExceptionEvent=t.SpeechToTextEvent=t.NetworkQualityLevelChangedEvent=t.FilterEvent=t.ConnectionPropertyChangedEvent=t.StreamPropertyChangedEvent=t.VideoElementEvent=t.StreamManagerEvent=t.StreamEvent=t.SignalEvent=t.SessionDisconnectedEvent=t.RecordingEvent=t.PublisherSpeakingEvent=t.ConnectionEvent=t.Event=t.VideoInsertMode=t.TypeOfVideo=t.OpenViduErrorName=t.OpenViduError=t.LocalRecorderState=t.Filter=t.LocalRecorder=t.Connection=t.Stream=t.StreamManager=t.Subscriber=t.Publisher=t.Session=t.OpenVidu=void 0;var r=_a,n=qi;Object.defineProperty(t,"OpenVidu",{enumerable:!0,get:function(){return n.OpenVidu}});var i=go();Object.defineProperty(t,"Session",{enumerable:!0,get:function(){return i.Session}});var o=Da();Object.defineProperty(t,"Publisher",{enumerable:!0,get:function(){return o.Publisher}});var s=gr;Object.defineProperty(t,"Subscriber",{enumerable:!0,get:function(){return s.Subscriber}});var a=Br;Object.defineProperty(t,"StreamManager",{enumerable:!0,get:function(){return a.StreamManager}});var c=hr;Object.defineProperty(t,"Stream",{enumerable:!0,get:function(){return c.Stream}});var l=mn;Object.defineProperty(t,"Connection",{enumerable:!0,get:function(){return l.Connection}});var u=vn;Object.defineProperty(t,"LocalRecorder",{enumerable:!0,get:function(){return u.LocalRecorder}});var f=pr;Object.defineProperty(t,"Filter",{enumerable:!0,get:function(){return f.Filter}});var E=Oa;Object.defineProperty(t,"LocalRecorderState",{enumerable:!0,get:function(){return E.LocalRecorderState}});var C=kt;Object.defineProperty(t,"OpenViduError",{enumerable:!0,get:function(){return C.OpenViduError}}),Object.defineProperty(t,"OpenViduErrorName",{enumerable:!0,get:function(){return C.OpenViduErrorName}});var I=po;Object.defineProperty(t,"TypeOfVideo",{enumerable:!0,get:function(){return I.TypeOfVideo}});var y=Cn;Object.defineProperty(t,"VideoInsertMode",{enumerable:!0,get:function(){return y.VideoInsertMode}});var p=WA;Object.defineProperty(t,"Event",{enumerable:!0,get:function(){return p.Event}});var U=bn;Object.defineProperty(t,"ConnectionEvent",{enumerable:!0,get:function(){return U.ConnectionEvent}});var O=yn;Object.defineProperty(t,"PublisherSpeakingEvent",{enumerable:!0,get:function(){return O.PublisherSpeakingEvent}});var B=Un;Object.defineProperty(t,"RecordingEvent",{enumerable:!0,get:function(){return B.RecordingEvent}});var b=wr;Object.defineProperty(t,"SessionDisconnectedEvent",{enumerable:!0,get:function(){return b.SessionDisconnectedEvent}});var Q=Fn;Object.defineProperty(t,"SignalEvent",{enumerable:!0,get:function(){return Q.SignalEvent}});var R=Ra();Object.defineProperty(t,"StreamEvent",{enumerable:!0,get:function(){return R.StreamEvent}});var g=mr;Object.defineProperty(t,"StreamManagerEvent",{enumerable:!0,get:function(){return g.StreamManagerEvent}});var T=wn;Object.defineProperty(t,"VideoElementEvent",{enumerable:!0,get:function(){return T.VideoElementEvent}});var V=et;Object.defineProperty(t,"StreamPropertyChangedEvent",{enumerable:!0,get:function(){return V.StreamPropertyChangedEvent}});var M=In;Object.defineProperty(t,"ConnectionPropertyChangedEvent",{enumerable:!0,get:function(){return M.ConnectionPropertyChangedEvent}});var k=Qn;Object.defineProperty(t,"FilterEvent",{enumerable:!0,get:function(){return k.FilterEvent}});var d=_n;Object.defineProperty(t,"NetworkQualityLevelChangedEvent",{enumerable:!0,get:function(){return d.NetworkQualityLevelChangedEvent}});var v=Sn;Object.defineProperty(t,"SpeechToTextEvent",{enumerable:!0,get:function(){return v.SpeechToTextEvent}});var L=Nt;Object.defineProperty(t,"ExceptionEvent",{enumerable:!0,get:function(){return L.ExceptionEvent}}),Object.defineProperty(t,"ExceptionEventName",{enumerable:!0,get:function(){return L.ExceptionEventName}});var m=vr;Object.defineProperty(t,"EventDispatcher",{enumerable:!0,get:function(){return m.EventDispatcher}}),e(nf,t),r.JL.setOptions({enabled:!1})})(_d);const KE={name:"OvVideo",props:{streamManager:Object},mounted(){this.streamManager.addVideoElement(this.$el)}},GE={autoplay:"",width:"100%",height:"100%"};function $E(t,A,e,r,n,i){return Y(),uA("video",GE)}const WE=Ie(KE,[["render",$E]]),XE={name:"UserVideo",components:{OvVideo:WE},props:{streamManager:Object},computed:{clientData(){const{clientData:t}=this.getConnectionData();return t}},methods:{getConnectionData(){const{connection:t}=this.streamManager.stream;return t.data}}},jE={key:0};function JE(t,A,e,r,n,i){const o=J("ov-video");return e.streamManager?(Y(),uA("div",jE,[S(o,{"stream-manager":e.streamManager},null,8,["stream-manager"]),q("div",null,[q("p",null,aA(i.clientData),1)])])):$A("",!0)}const cl=Ie(XE,[["render",JE]]);/*!
 * html2canvas 1.4.1 <https://html2canvas.hertzen.com>
 * Copyright (c) 2022 Niklas von Hertzen <https://hertzen.com>
 * Released under MIT License
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var $s=function(t,A){return $s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])},$s(t,A)};function Oe(t,A){if(typeof A!="function"&&A!==null)throw new TypeError("Class extends value "+String(A)+" is not a constructor or null");$s(t,A);function e(){this.constructor=t}t.prototype=A===null?Object.create(A):(e.prototype=A.prototype,new e)}var Ws=function(){return Ws=Object.assign||function(A){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(A[i]=e[i])}return A},Ws.apply(this,arguments)};function ae(t,A,e,r){function n(i){return i instanceof e?i:new e(function(o){o(i)})}return new(e||(e=Promise))(function(i,o){function s(l){try{c(r.next(l))}catch(u){o(u)}}function a(l){try{c(r.throw(l))}catch(u){o(u)}}function c(l){l.done?i(l.value):n(l.value).then(s,a)}c((r=r.apply(t,A||[])).next())})}function te(t,A){var e={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,n,i,o;return o={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function s(c){return function(l){return a([c,l])}}function a(c){if(r)throw new TypeError("Generator is already executing.");for(;e;)try{if(r=1,n&&(i=c[0]&2?n.return:c[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,c[1])).done)return i;switch(n=0,i&&(c=[c[0]&2,i.value]),c[0]){case 0:case 1:i=c;break;case 4:return e.label++,{value:c[1],done:!1};case 5:e.label++,n=c[1],c=[0];continue;case 7:c=e.ops.pop(),e.trys.pop();continue;default:if(i=e.trys,!(i=i.length>0&&i[i.length-1])&&(c[0]===6||c[0]===2)){e=0;continue}if(c[0]===3&&(!i||c[1]>i[0]&&c[1]<i[3])){e.label=c[1];break}if(c[0]===6&&e.label<i[1]){e.label=i[1],i=c;break}if(i&&e.label<i[2]){e.label=i[2],e.ops.push(c);break}i[2]&&e.ops.pop(),e.trys.pop();continue}c=A.call(t,e)}catch(l){c=[6,l],n=0}finally{r=i=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}function Yn(t,A,e){if(e||arguments.length===2)for(var r=0,n=A.length,i;r<n;r++)(i||!(r in A))&&(i||(i=Array.prototype.slice.call(A,0,r)),i[r]=A[r]);return t.concat(i||A)}var ze=function(){function t(A,e,r,n){this.left=A,this.top=e,this.width=r,this.height=n}return t.prototype.add=function(A,e,r,n){return new t(this.left+A,this.top+e,this.width+r,this.height+n)},t.fromClientRect=function(A,e){return new t(e.left+A.windowBounds.left,e.top+A.windowBounds.top,e.width,e.height)},t.fromDOMRectList=function(A,e){var r=Array.from(e).find(function(n){return n.width!==0});return r?new t(r.left+A.windowBounds.left,r.top+A.windowBounds.top,r.width,r.height):t.EMPTY},t.EMPTY=new t(0,0,0,0),t}(),vo=function(t,A){return ze.fromClientRect(t,A.getBoundingClientRect())},YE=function(t){var A=t.body,e=t.documentElement;if(!A||!e)throw new Error("Unable to get document size");var r=Math.max(Math.max(A.scrollWidth,e.scrollWidth),Math.max(A.offsetWidth,e.offsetWidth),Math.max(A.clientWidth,e.clientWidth)),n=Math.max(Math.max(A.scrollHeight,e.scrollHeight),Math.max(A.offsetHeight,e.offsetHeight),Math.max(A.clientHeight,e.clientHeight));return new ze(0,0,r,n)},mo=function(t){for(var A=[],e=0,r=t.length;e<r;){var n=t.charCodeAt(e++);if(n>=55296&&n<=56319&&e<r){var i=t.charCodeAt(e++);(i&64512)===56320?A.push(((n&1023)<<10)+(i&1023)+65536):(A.push(n),e--)}else A.push(n)}return A},DA=function(){for(var t=[],A=0;A<arguments.length;A++)t[A]=arguments[A];if(String.fromCodePoint)return String.fromCodePoint.apply(String,t);var e=t.length;if(!e)return"";for(var r=[],n=-1,i="";++n<e;){var o=t[n];o<=65535?r.push(o):(o-=65536,r.push((o>>10)+55296,o%1024+56320)),(n+1===e||r.length>16384)&&(i+=String.fromCharCode.apply(String,r),r.length=0)}return i},ll="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",qE=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var qn=0;qn<ll.length;qn++)qE[ll.charCodeAt(qn)]=qn;var ul="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Nr=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Zn=0;Zn<ul.length;Zn++)Nr[ul.charCodeAt(Zn)]=Zn;var ZE=function(t){var A=t.length*.75,e=t.length,r,n=0,i,o,s,a;t[t.length-1]==="="&&(A--,t[t.length-2]==="="&&A--);var c=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(A):new Array(A),l=Array.isArray(c)?c:new Uint8Array(c);for(r=0;r<e;r+=4)i=Nr[t.charCodeAt(r)],o=Nr[t.charCodeAt(r+1)],s=Nr[t.charCodeAt(r+2)],a=Nr[t.charCodeAt(r+3)],l[n++]=i<<2|o>>4,l[n++]=(o&15)<<4|s>>2,l[n++]=(s&3)<<6|a&63;return c},zE=function(t){for(var A=t.length,e=[],r=0;r<A;r+=2)e.push(t[r+1]<<8|t[r]);return e},A0=function(t){for(var A=t.length,e=[],r=0;r<A;r+=4)e.push(t[r+3]<<24|t[r+2]<<16|t[r+1]<<8|t[r]);return e},_t=5,Ka=11,ls=2,e0=Ka-_t,of=65536>>_t,t0=1<<_t,us=t0-1,r0=1024>>_t,n0=of+r0,i0=n0,o0=32,s0=i0+o0,a0=65536>>Ka,c0=1<<e0,l0=c0-1,dl=function(t,A,e){return t.slice?t.slice(A,e):new Uint16Array(Array.prototype.slice.call(t,A,e))},u0=function(t,A,e){return t.slice?t.slice(A,e):new Uint32Array(Array.prototype.slice.call(t,A,e))},d0=function(t,A){var e=ZE(t),r=Array.isArray(e)?A0(e):new Uint32Array(e),n=Array.isArray(e)?zE(e):new Uint16Array(e),i=24,o=dl(n,i/2,r[4]/2),s=r[5]===2?dl(n,(i+r[4])/2):u0(r,Math.ceil((i+r[4])/4));return new f0(r[0],r[1],r[2],r[3],o,s)},f0=function(){function t(A,e,r,n,i,o){this.initialValue=A,this.errorValue=e,this.highStart=r,this.highValueIndex=n,this.index=i,this.data=o}return t.prototype.get=function(A){var e;if(A>=0){if(A<55296||A>56319&&A<=65535)return e=this.index[A>>_t],e=(e<<ls)+(A&us),this.data[e];if(A<=65535)return e=this.index[of+(A-55296>>_t)],e=(e<<ls)+(A&us),this.data[e];if(A<this.highStart)return e=s0-a0+(A>>Ka),e=this.index[e],e+=A>>_t&l0,e=this.index[e],e=(e<<ls)+(A&us),this.data[e];if(A<=1114111)return this.data[this.highValueIndex]}return this.errorValue},t}(),fl="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",h0=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var zn=0;zn<fl.length;zn++)h0[fl.charCodeAt(zn)]=zn;var p0="KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA==",hl=50,g0=1,sf=2,af=3,B0=4,v0=5,pl=7,cf=8,gl=9,ct=10,Xs=11,Bl=12,js=13,m0=14,Mr=15,Js=16,Ai=17,Hr=18,w0=19,vl=20,Ys=21,Lr=22,ds=23,Yt=24,pe=25,Pr=26,Vr=27,qt=28,C0=29,St=30,E0=31,ei=32,ti=33,qs=34,Zs=35,zs=36,rn=37,Aa=38,Ci=39,Ei=40,fs=41,lf=42,y0=43,b0=[9001,65288],uf="!",pA="×",ri="÷",ea=d0(p0),Je=[St,zs],ta=[g0,sf,af,v0],df=[ct,cf],ml=[Vr,Pr],Q0=ta.concat(df),wl=[Aa,Ci,Ei,qs,Zs],U0=[Mr,js],F0=function(t,A){A===void 0&&(A="strict");var e=[],r=[],n=[];return t.forEach(function(i,o){var s=ea.get(i);if(s>hl?(n.push(!0),s-=hl):n.push(!1),["normal","auto","loose"].indexOf(A)!==-1&&[8208,8211,12316,12448].indexOf(i)!==-1)return r.push(o),e.push(Js);if(s===B0||s===Xs){if(o===0)return r.push(o),e.push(St);var a=e[o-1];return Q0.indexOf(a)===-1?(r.push(r[o-1]),e.push(a)):(r.push(o),e.push(St))}if(r.push(o),s===E0)return e.push(A==="strict"?Ys:rn);if(s===lf||s===C0)return e.push(St);if(s===y0)return i>=131072&&i<=196605||i>=196608&&i<=262141?e.push(rn):e.push(St);e.push(s)}),[r,e,n]},hs=function(t,A,e,r){var n=r[e];if(Array.isArray(t)?t.indexOf(n)!==-1:t===n)for(var i=e;i<=r.length;){i++;var o=r[i];if(o===A)return!0;if(o!==ct)break}if(n===ct)for(var i=e;i>0;){i--;var s=r[i];if(Array.isArray(t)?t.indexOf(s)!==-1:t===s)for(var a=e;a<=r.length;){a++;var o=r[a];if(o===A)return!0;if(o!==ct)break}if(s!==ct)break}return!1},Cl=function(t,A){for(var e=t;e>=0;){var r=A[e];if(r===ct)e--;else return r}return 0},S0=function(t,A,e,r,n){if(e[r]===0)return pA;var i=r-1;if(Array.isArray(n)&&n[i]===!0)return pA;var o=i-1,s=i+1,a=A[i],c=o>=0?A[o]:0,l=A[s];if(a===sf&&l===af)return pA;if(ta.indexOf(a)!==-1)return uf;if(ta.indexOf(l)!==-1||df.indexOf(l)!==-1)return pA;if(Cl(i,A)===cf)return ri;if(ea.get(t[i])===Xs||(a===ei||a===ti)&&ea.get(t[s])===Xs||a===pl||l===pl||a===gl||[ct,js,Mr].indexOf(a)===-1&&l===gl||[Ai,Hr,w0,Yt,qt].indexOf(l)!==-1||Cl(i,A)===Lr||hs(ds,Lr,i,A)||hs([Ai,Hr],Ys,i,A)||hs(Bl,Bl,i,A))return pA;if(a===ct)return ri;if(a===ds||l===ds)return pA;if(l===Js||a===Js)return ri;if([js,Mr,Ys].indexOf(l)!==-1||a===m0||c===zs&&U0.indexOf(a)!==-1||a===qt&&l===zs||l===vl||Je.indexOf(l)!==-1&&a===pe||Je.indexOf(a)!==-1&&l===pe||a===Vr&&[rn,ei,ti].indexOf(l)!==-1||[rn,ei,ti].indexOf(a)!==-1&&l===Pr||Je.indexOf(a)!==-1&&ml.indexOf(l)!==-1||ml.indexOf(a)!==-1&&Je.indexOf(l)!==-1||[Vr,Pr].indexOf(a)!==-1&&(l===pe||[Lr,Mr].indexOf(l)!==-1&&A[s+1]===pe)||[Lr,Mr].indexOf(a)!==-1&&l===pe||a===pe&&[pe,qt,Yt].indexOf(l)!==-1)return pA;if([pe,qt,Yt,Ai,Hr].indexOf(l)!==-1)for(var u=i;u>=0;){var f=A[u];if(f===pe)return pA;if([qt,Yt].indexOf(f)!==-1)u--;else break}if([Vr,Pr].indexOf(l)!==-1)for(var u=[Ai,Hr].indexOf(a)!==-1?o:i;u>=0;){var f=A[u];if(f===pe)return pA;if([qt,Yt].indexOf(f)!==-1)u--;else break}if(Aa===a&&[Aa,Ci,qs,Zs].indexOf(l)!==-1||[Ci,qs].indexOf(a)!==-1&&[Ci,Ei].indexOf(l)!==-1||[Ei,Zs].indexOf(a)!==-1&&l===Ei||wl.indexOf(a)!==-1&&[vl,Pr].indexOf(l)!==-1||wl.indexOf(l)!==-1&&a===Vr||Je.indexOf(a)!==-1&&Je.indexOf(l)!==-1||a===Yt&&Je.indexOf(l)!==-1||Je.concat(pe).indexOf(a)!==-1&&l===Lr&&b0.indexOf(t[s])===-1||Je.concat(pe).indexOf(l)!==-1&&a===Hr)return pA;if(a===fs&&l===fs){for(var E=e[i],C=1;E>0&&(E--,A[E]===fs);)C++;if(C%2!==0)return pA}return a===ei&&l===ti?pA:ri},I0=function(t,A){A||(A={lineBreak:"normal",wordBreak:"normal"});var e=F0(t,A.lineBreak),r=e[0],n=e[1],i=e[2];(A.wordBreak==="break-all"||A.wordBreak==="break-word")&&(n=n.map(function(s){return[pe,St,lf].indexOf(s)!==-1?rn:s}));var o=A.wordBreak==="keep-all"?i.map(function(s,a){return s&&t[a]>=19968&&t[a]<=40959}):void 0;return[r,n,o]},_0=function(){function t(A,e,r,n){this.codePoints=A,this.required=e===uf,this.start=r,this.end=n}return t.prototype.slice=function(){return DA.apply(void 0,this.codePoints.slice(this.start,this.end))},t}(),O0=function(t,A){var e=mo(t),r=I0(e,A),n=r[0],i=r[1],o=r[2],s=e.length,a=0,c=0;return{next:function(){if(c>=s)return{done:!0,value:null};for(var l=pA;c<s&&(l=S0(e,i,n,++c,o))===pA;);if(l!==pA||c===s){var u=new _0(e,l,a,c);return a=c,{value:u,done:!1}}return{done:!0,value:null}}}},x0=1,T0=2,On=4,El=8,Oi=10,yl=47,jr=92,H0=9,L0=32,ni=34,Rr=61,R0=35,D0=36,k0=37,ii=39,oi=40,Dr=41,N0=95,de=45,M0=33,P0=60,V0=62,K0=64,G0=91,$0=93,W0=61,X0=123,si=63,j0=125,bl=124,J0=126,Y0=128,Ql=65533,ps=42,It=43,q0=44,Z0=58,z0=59,nn=46,Ay=0,ey=8,ty=11,ry=14,ny=31,iy=127,Le=-1,ff=48,hf=97,pf=101,oy=102,sy=117,ay=122,gf=65,Bf=69,vf=70,cy=85,ly=90,re=function(t){return t>=ff&&t<=57},uy=function(t){return t>=55296&&t<=57343},Zt=function(t){return re(t)||t>=gf&&t<=vf||t>=hf&&t<=oy},dy=function(t){return t>=hf&&t<=ay},fy=function(t){return t>=gf&&t<=ly},hy=function(t){return dy(t)||fy(t)},py=function(t){return t>=Y0},ai=function(t){return t===Oi||t===H0||t===L0},xi=function(t){return hy(t)||py(t)||t===N0},Ul=function(t){return xi(t)||re(t)||t===de},gy=function(t){return t>=Ay&&t<=ey||t===ty||t>=ry&&t<=ny||t===iy},st=function(t,A){return t!==jr?!1:A!==Oi},ci=function(t,A,e){return t===de?xi(A)||st(A,e):xi(t)?!0:!!(t===jr&&st(t,A))},gs=function(t,A,e){return t===It||t===de?re(A)?!0:A===nn&&re(e):re(t===nn?A:t)},By=function(t){var A=0,e=1;(t[A]===It||t[A]===de)&&(t[A]===de&&(e=-1),A++);for(var r=[];re(t[A]);)r.push(t[A++]);var n=r.length?parseInt(DA.apply(void 0,r),10):0;t[A]===nn&&A++;for(var i=[];re(t[A]);)i.push(t[A++]);var o=i.length,s=o?parseInt(DA.apply(void 0,i),10):0;(t[A]===Bf||t[A]===pf)&&A++;var a=1;(t[A]===It||t[A]===de)&&(t[A]===de&&(a=-1),A++);for(var c=[];re(t[A]);)c.push(t[A++]);var l=c.length?parseInt(DA.apply(void 0,c),10):0;return e*(n+s*Math.pow(10,-o))*Math.pow(10,a*l)},vy={type:2},my={type:3},wy={type:4},Cy={type:13},Ey={type:8},yy={type:21},by={type:9},Qy={type:10},Uy={type:11},Fy={type:12},Sy={type:14},li={type:23},Iy={type:1},_y={type:25},Oy={type:24},xy={type:26},Ty={type:27},Hy={type:28},Ly={type:29},Ry={type:31},ra={type:32},mf=function(){function t(){this._value=[]}return t.prototype.write=function(A){this._value=this._value.concat(mo(A))},t.prototype.read=function(){for(var A=[],e=this.consumeToken();e!==ra;)A.push(e),e=this.consumeToken();return A},t.prototype.consumeToken=function(){var A=this.consumeCodePoint();switch(A){case ni:return this.consumeStringToken(ni);case R0:var e=this.peekCodePoint(0),r=this.peekCodePoint(1),n=this.peekCodePoint(2);if(Ul(e)||st(r,n)){var i=ci(e,r,n)?T0:x0,o=this.consumeName();return{type:5,value:o,flags:i}}break;case D0:if(this.peekCodePoint(0)===Rr)return this.consumeCodePoint(),Cy;break;case ii:return this.consumeStringToken(ii);case oi:return vy;case Dr:return my;case ps:if(this.peekCodePoint(0)===Rr)return this.consumeCodePoint(),Sy;break;case It:if(gs(A,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(A),this.consumeNumericToken();break;case q0:return wy;case de:var s=A,a=this.peekCodePoint(0),c=this.peekCodePoint(1);if(gs(s,a,c))return this.reconsumeCodePoint(A),this.consumeNumericToken();if(ci(s,a,c))return this.reconsumeCodePoint(A),this.consumeIdentLikeToken();if(a===de&&c===V0)return this.consumeCodePoint(),this.consumeCodePoint(),Oy;break;case nn:if(gs(A,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(A),this.consumeNumericToken();break;case yl:if(this.peekCodePoint(0)===ps)for(this.consumeCodePoint();;){var l=this.consumeCodePoint();if(l===ps&&(l=this.consumeCodePoint(),l===yl))return this.consumeToken();if(l===Le)return this.consumeToken()}break;case Z0:return xy;case z0:return Ty;case P0:if(this.peekCodePoint(0)===M0&&this.peekCodePoint(1)===de&&this.peekCodePoint(2)===de)return this.consumeCodePoint(),this.consumeCodePoint(),_y;break;case K0:var u=this.peekCodePoint(0),f=this.peekCodePoint(1),E=this.peekCodePoint(2);if(ci(u,f,E)){var o=this.consumeName();return{type:7,value:o}}break;case G0:return Hy;case jr:if(st(A,this.peekCodePoint(0)))return this.reconsumeCodePoint(A),this.consumeIdentLikeToken();break;case $0:return Ly;case W0:if(this.peekCodePoint(0)===Rr)return this.consumeCodePoint(),Ey;break;case X0:return Uy;case j0:return Fy;case sy:case cy:var C=this.peekCodePoint(0),I=this.peekCodePoint(1);return C===It&&(Zt(I)||I===si)&&(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(A),this.consumeIdentLikeToken();case bl:if(this.peekCodePoint(0)===Rr)return this.consumeCodePoint(),by;if(this.peekCodePoint(0)===bl)return this.consumeCodePoint(),yy;break;case J0:if(this.peekCodePoint(0)===Rr)return this.consumeCodePoint(),Qy;break;case Le:return ra}return ai(A)?(this.consumeWhiteSpace(),Ry):re(A)?(this.reconsumeCodePoint(A),this.consumeNumericToken()):xi(A)?(this.reconsumeCodePoint(A),this.consumeIdentLikeToken()):{type:6,value:DA(A)}},t.prototype.consumeCodePoint=function(){var A=this._value.shift();return typeof A>"u"?-1:A},t.prototype.reconsumeCodePoint=function(A){this._value.unshift(A)},t.prototype.peekCodePoint=function(A){return A>=this._value.length?-1:this._value[A]},t.prototype.consumeUnicodeRangeToken=function(){for(var A=[],e=this.consumeCodePoint();Zt(e)&&A.length<6;)A.push(e),e=this.consumeCodePoint();for(var r=!1;e===si&&A.length<6;)A.push(e),e=this.consumeCodePoint(),r=!0;if(r){var n=parseInt(DA.apply(void 0,A.map(function(a){return a===si?ff:a})),16),i=parseInt(DA.apply(void 0,A.map(function(a){return a===si?vf:a})),16);return{type:30,start:n,end:i}}var o=parseInt(DA.apply(void 0,A),16);if(this.peekCodePoint(0)===de&&Zt(this.peekCodePoint(1))){this.consumeCodePoint(),e=this.consumeCodePoint();for(var s=[];Zt(e)&&s.length<6;)s.push(e),e=this.consumeCodePoint();var i=parseInt(DA.apply(void 0,s),16);return{type:30,start:o,end:i}}else return{type:30,start:o,end:o}},t.prototype.consumeIdentLikeToken=function(){var A=this.consumeName();return A.toLowerCase()==="url"&&this.peekCodePoint(0)===oi?(this.consumeCodePoint(),this.consumeUrlToken()):this.peekCodePoint(0)===oi?(this.consumeCodePoint(),{type:19,value:A}):{type:20,value:A}},t.prototype.consumeUrlToken=function(){var A=[];if(this.consumeWhiteSpace(),this.peekCodePoint(0)===Le)return{type:22,value:""};var e=this.peekCodePoint(0);if(e===ii||e===ni){var r=this.consumeStringToken(this.consumeCodePoint());return r.type===0&&(this.consumeWhiteSpace(),this.peekCodePoint(0)===Le||this.peekCodePoint(0)===Dr)?(this.consumeCodePoint(),{type:22,value:r.value}):(this.consumeBadUrlRemnants(),li)}for(;;){var n=this.consumeCodePoint();if(n===Le||n===Dr)return{type:22,value:DA.apply(void 0,A)};if(ai(n))return this.consumeWhiteSpace(),this.peekCodePoint(0)===Le||this.peekCodePoint(0)===Dr?(this.consumeCodePoint(),{type:22,value:DA.apply(void 0,A)}):(this.consumeBadUrlRemnants(),li);if(n===ni||n===ii||n===oi||gy(n))return this.consumeBadUrlRemnants(),li;if(n===jr)if(st(n,this.peekCodePoint(0)))A.push(this.consumeEscapedCodePoint());else return this.consumeBadUrlRemnants(),li;else A.push(n)}},t.prototype.consumeWhiteSpace=function(){for(;ai(this.peekCodePoint(0));)this.consumeCodePoint()},t.prototype.consumeBadUrlRemnants=function(){for(;;){var A=this.consumeCodePoint();if(A===Dr||A===Le)return;st(A,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},t.prototype.consumeStringSlice=function(A){for(var e=5e4,r="";A>0;){var n=Math.min(e,A);r+=DA.apply(void 0,this._value.splice(0,n)),A-=n}return this._value.shift(),r},t.prototype.consumeStringToken=function(A){var e="",r=0;do{var n=this._value[r];if(n===Le||n===void 0||n===A)return e+=this.consumeStringSlice(r),{type:0,value:e};if(n===Oi)return this._value.splice(0,r),Iy;if(n===jr){var i=this._value[r+1];i!==Le&&i!==void 0&&(i===Oi?(e+=this.consumeStringSlice(r),r=-1,this._value.shift()):st(n,i)&&(e+=this.consumeStringSlice(r),e+=DA(this.consumeEscapedCodePoint()),r=-1))}r++}while(!0)},t.prototype.consumeNumber=function(){var A=[],e=On,r=this.peekCodePoint(0);for((r===It||r===de)&&A.push(this.consumeCodePoint());re(this.peekCodePoint(0));)A.push(this.consumeCodePoint());r=this.peekCodePoint(0);var n=this.peekCodePoint(1);if(r===nn&&re(n))for(A.push(this.consumeCodePoint(),this.consumeCodePoint()),e=El;re(this.peekCodePoint(0));)A.push(this.consumeCodePoint());r=this.peekCodePoint(0),n=this.peekCodePoint(1);var i=this.peekCodePoint(2);if((r===Bf||r===pf)&&((n===It||n===de)&&re(i)||re(n)))for(A.push(this.consumeCodePoint(),this.consumeCodePoint()),e=El;re(this.peekCodePoint(0));)A.push(this.consumeCodePoint());return[By(A),e]},t.prototype.consumeNumericToken=function(){var A=this.consumeNumber(),e=A[0],r=A[1],n=this.peekCodePoint(0),i=this.peekCodePoint(1),o=this.peekCodePoint(2);if(ci(n,i,o)){var s=this.consumeName();return{type:15,number:e,flags:r,unit:s}}return n===k0?(this.consumeCodePoint(),{type:16,number:e,flags:r}):{type:17,number:e,flags:r}},t.prototype.consumeEscapedCodePoint=function(){var A=this.consumeCodePoint();if(Zt(A)){for(var e=DA(A);Zt(this.peekCodePoint(0))&&e.length<6;)e+=DA(this.consumeCodePoint());ai(this.peekCodePoint(0))&&this.consumeCodePoint();var r=parseInt(e,16);return r===0||uy(r)||r>1114111?Ql:r}return A===Le?Ql:A},t.prototype.consumeName=function(){for(var A="";;){var e=this.consumeCodePoint();if(Ul(e))A+=DA(e);else if(st(e,this.peekCodePoint(0)))A+=DA(this.consumeEscapedCodePoint());else return this.reconsumeCodePoint(e),A}},t}(),wf=function(){function t(A){this._tokens=A}return t.create=function(A){var e=new mf;return e.write(A),new t(e.read())},t.parseValue=function(A){return t.create(A).parseComponentValue()},t.parseValues=function(A){return t.create(A).parseComponentValues()},t.prototype.parseComponentValue=function(){for(var A=this.consumeToken();A.type===31;)A=this.consumeToken();if(A.type===32)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(A);var e=this.consumeComponentValue();do A=this.consumeToken();while(A.type===31);if(A.type===32)return e;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},t.prototype.parseComponentValues=function(){for(var A=[];;){var e=this.consumeComponentValue();if(e.type===32)return A;A.push(e),A.push()}},t.prototype.consumeComponentValue=function(){var A=this.consumeToken();switch(A.type){case 11:case 28:case 2:return this.consumeSimpleBlock(A.type);case 19:return this.consumeFunction(A)}return A},t.prototype.consumeSimpleBlock=function(A){for(var e={type:A,values:[]},r=this.consumeToken();;){if(r.type===32||ky(r,A))return e;this.reconsumeToken(r),e.values.push(this.consumeComponentValue()),r=this.consumeToken()}},t.prototype.consumeFunction=function(A){for(var e={name:A.value,values:[],type:18};;){var r=this.consumeToken();if(r.type===32||r.type===3)return e;this.reconsumeToken(r),e.values.push(this.consumeComponentValue())}},t.prototype.consumeToken=function(){var A=this._tokens.shift();return typeof A>"u"?ra:A},t.prototype.reconsumeToken=function(A){this._tokens.unshift(A)},t}(),xn=function(t){return t.type===15},Er=function(t){return t.type===17},UA=function(t){return t.type===20},Dy=function(t){return t.type===0},na=function(t,A){return UA(t)&&t.value===A},Cf=function(t){return t.type!==31},ar=function(t){return t.type!==31&&t.type!==4},$e=function(t){var A=[],e=[];return t.forEach(function(r){if(r.type===4){if(e.length===0)throw new Error("Error parsing function args, zero tokens for arg");A.push(e),e=[];return}r.type!==31&&e.push(r)}),e.length&&A.push(e),A},ky=function(t,A){return A===11&&t.type===12||A===28&&t.type===29?!0:A===2&&t.type===3},vt=function(t){return t.type===17||t.type===15},MA=function(t){return t.type===16||vt(t)},Ef=function(t){return t.length>1?[t[0],t[1]]:[t[0]]},YA={type:17,number:0,flags:On},Ga={type:16,number:50,flags:On},lt={type:16,number:100,flags:On},Kr=function(t,A,e){var r=t[0],n=t[1];return[_A(r,A),_A(typeof n<"u"?n:r,e)]},_A=function(t,A){if(t.type===16)return t.number/100*A;if(xn(t))switch(t.unit){case"rem":case"em":return 16*t.number;case"px":default:return t.number}return t.number},yf="deg",bf="grad",Qf="rad",Uf="turn",wo={name:"angle",parse:function(t,A){if(A.type===15)switch(A.unit){case yf:return Math.PI*A.number/180;case bf:return Math.PI/200*A.number;case Qf:return A.number;case Uf:return Math.PI*2*A.number}throw new Error("Unsupported angle type")}},Ff=function(t){return t.type===15&&(t.unit===yf||t.unit===bf||t.unit===Qf||t.unit===Uf)},Sf=function(t){var A=t.filter(UA).map(function(e){return e.value}).join(" ");switch(A){case"to bottom right":case"to right bottom":case"left top":case"top left":return[YA,YA];case"to top":case"bottom":return Ce(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[YA,lt];case"to right":case"left":return Ce(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[lt,lt];case"to bottom":case"top":return Ce(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[lt,YA];case"to left":case"right":return Ce(270)}return 0},Ce=function(t){return Math.PI*t/180},ht={name:"color",parse:function(t,A){if(A.type===18){var e=Ny[A.name];if(typeof e>"u")throw new Error('Attempting to parse an unsupported color function "'+A.name+'"');return e(t,A.values)}if(A.type===5){if(A.value.length===3){var r=A.value.substring(0,1),n=A.value.substring(1,2),i=A.value.substring(2,3);return ut(parseInt(r+r,16),parseInt(n+n,16),parseInt(i+i,16),1)}if(A.value.length===4){var r=A.value.substring(0,1),n=A.value.substring(1,2),i=A.value.substring(2,3),o=A.value.substring(3,4);return ut(parseInt(r+r,16),parseInt(n+n,16),parseInt(i+i,16),parseInt(o+o,16)/255)}if(A.value.length===6){var r=A.value.substring(0,2),n=A.value.substring(2,4),i=A.value.substring(4,6);return ut(parseInt(r,16),parseInt(n,16),parseInt(i,16),1)}if(A.value.length===8){var r=A.value.substring(0,2),n=A.value.substring(2,4),i=A.value.substring(4,6),o=A.value.substring(6,8);return ut(parseInt(r,16),parseInt(n,16),parseInt(i,16),parseInt(o,16)/255)}}if(A.type===20){var s=Ze[A.value.toUpperCase()];if(typeof s<"u")return s}return Ze.TRANSPARENT}},pt=function(t){return(255&t)===0},GA=function(t){var A=255&t,e=255&t>>8,r=255&t>>16,n=255&t>>24;return A<255?"rgba("+n+","+r+","+e+","+A/255+")":"rgb("+n+","+r+","+e+")"},ut=function(t,A,e,r){return(t<<24|A<<16|e<<8|Math.round(r*255)<<0)>>>0},Fl=function(t,A){if(t.type===17)return t.number;if(t.type===16){var e=A===3?1:255;return A===3?t.number/100*e:Math.round(t.number/100*e)}return 0},Sl=function(t,A){var e=A.filter(ar);if(e.length===3){var r=e.map(Fl),n=r[0],i=r[1],o=r[2];return ut(n,i,o,1)}if(e.length===4){var s=e.map(Fl),n=s[0],i=s[1],o=s[2],a=s[3];return ut(n,i,o,a)}return 0};function Bs(t,A,e){return e<0&&(e+=1),e>=1&&(e-=1),e<1/6?(A-t)*e*6+t:e<1/2?A:e<2/3?(A-t)*6*(2/3-e)+t:t}var Il=function(t,A){var e=A.filter(ar),r=e[0],n=e[1],i=e[2],o=e[3],s=(r.type===17?Ce(r.number):wo.parse(t,r))/(Math.PI*2),a=MA(n)?n.number/100:0,c=MA(i)?i.number/100:0,l=typeof o<"u"&&MA(o)?_A(o,1):1;if(a===0)return ut(c*255,c*255,c*255,1);var u=c<=.5?c*(a+1):c+a-c*a,f=c*2-u,E=Bs(f,u,s+1/3),C=Bs(f,u,s),I=Bs(f,u,s-1/3);return ut(E*255,C*255,I*255,l)},Ny={hsl:Il,hsla:Il,rgb:Sl,rgba:Sl},Jr=function(t,A){return ht.parse(t,wf.create(A).parseComponentValue())},Ze={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199},My={name:"background-clip",initialValue:"border-box",prefix:!1,type:1,parse:function(t,A){return A.map(function(e){if(UA(e))switch(e.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},Py={name:"background-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},Co=function(t,A){var e=ht.parse(t,A[0]),r=A[1];return r&&MA(r)?{color:e,stop:r}:{color:e,stop:null}},_l=function(t,A){var e=t[0],r=t[t.length-1];e.stop===null&&(e.stop=YA),r.stop===null&&(r.stop=lt);for(var n=[],i=0,o=0;o<t.length;o++){var s=t[o].stop;if(s!==null){var a=_A(s,A);a>i?n.push(a):n.push(i),i=a}else n.push(null)}for(var c=null,o=0;o<n.length;o++){var l=n[o];if(l===null)c===null&&(c=o);else if(c!==null){for(var u=o-c,f=n[c-1],E=(l-f)/(u+1),C=1;C<=u;C++)n[c+C-1]=E*C;c=null}}return t.map(function(I,y){var p=I.color;return{color:p,stop:Math.max(Math.min(1,n[y]/A),0)}})},Vy=function(t,A,e){var r=A/2,n=e/2,i=_A(t[0],A)-r,o=n-_A(t[1],e);return(Math.atan2(o,i)+Math.PI*2)%(Math.PI*2)},Ky=function(t,A,e){var r=typeof t=="number"?t:Vy(t,A,e),n=Math.abs(A*Math.sin(r))+Math.abs(e*Math.cos(r)),i=A/2,o=e/2,s=n/2,a=Math.sin(r-Math.PI/2)*s,c=Math.cos(r-Math.PI/2)*s;return[n,i-c,i+c,o-a,o+a]},Fe=function(t,A){return Math.sqrt(t*t+A*A)},Ol=function(t,A,e,r,n){var i=[[0,0],[0,A],[t,0],[t,A]];return i.reduce(function(o,s){var a=s[0],c=s[1],l=Fe(e-a,r-c);return(n?l<o.optimumDistance:l>o.optimumDistance)?{optimumCorner:s,optimumDistance:l}:o},{optimumDistance:n?1/0:-1/0,optimumCorner:null}).optimumCorner},Gy=function(t,A,e,r,n){var i=0,o=0;switch(t.size){case 0:t.shape===0?i=o=Math.min(Math.abs(A),Math.abs(A-r),Math.abs(e),Math.abs(e-n)):t.shape===1&&(i=Math.min(Math.abs(A),Math.abs(A-r)),o=Math.min(Math.abs(e),Math.abs(e-n)));break;case 2:if(t.shape===0)i=o=Math.min(Fe(A,e),Fe(A,e-n),Fe(A-r,e),Fe(A-r,e-n));else if(t.shape===1){var s=Math.min(Math.abs(e),Math.abs(e-n))/Math.min(Math.abs(A),Math.abs(A-r)),a=Ol(r,n,A,e,!0),c=a[0],l=a[1];i=Fe(c-A,(l-e)/s),o=s*i}break;case 1:t.shape===0?i=o=Math.max(Math.abs(A),Math.abs(A-r),Math.abs(e),Math.abs(e-n)):t.shape===1&&(i=Math.max(Math.abs(A),Math.abs(A-r)),o=Math.max(Math.abs(e),Math.abs(e-n)));break;case 3:if(t.shape===0)i=o=Math.max(Fe(A,e),Fe(A,e-n),Fe(A-r,e),Fe(A-r,e-n));else if(t.shape===1){var s=Math.max(Math.abs(e),Math.abs(e-n))/Math.max(Math.abs(A),Math.abs(A-r)),u=Ol(r,n,A,e,!1),c=u[0],l=u[1];i=Fe(c-A,(l-e)/s),o=s*i}break}return Array.isArray(t.size)&&(i=_A(t.size[0],r),o=t.size.length===2?_A(t.size[1],n):i),[i,o]},$y=function(t,A){var e=Ce(180),r=[];return $e(A).forEach(function(n,i){if(i===0){var o=n[0];if(o.type===20&&o.value==="to"){e=Sf(n);return}else if(Ff(o)){e=wo.parse(t,o);return}}var s=Co(t,n);r.push(s)}),{angle:e,stops:r,type:1}},ui=function(t,A){var e=Ce(180),r=[];return $e(A).forEach(function(n,i){if(i===0){var o=n[0];if(o.type===20&&["top","left","right","bottom"].indexOf(o.value)!==-1){e=Sf(n);return}else if(Ff(o)){e=(wo.parse(t,o)+Ce(270))%Ce(360);return}}var s=Co(t,n);r.push(s)}),{angle:e,stops:r,type:1}},Wy=function(t,A){var e=Ce(180),r=[],n=1,i=0,o=3,s=[];return $e(A).forEach(function(a,c){var l=a[0];if(c===0){if(UA(l)&&l.value==="linear"){n=1;return}else if(UA(l)&&l.value==="radial"){n=2;return}}if(l.type===18){if(l.name==="from"){var u=ht.parse(t,l.values[0]);r.push({stop:YA,color:u})}else if(l.name==="to"){var u=ht.parse(t,l.values[0]);r.push({stop:lt,color:u})}else if(l.name==="color-stop"){var f=l.values.filter(ar);if(f.length===2){var u=ht.parse(t,f[1]),E=f[0];Er(E)&&r.push({stop:{type:16,number:E.number*100,flags:E.flags},color:u})}}}}),n===1?{angle:(e+Ce(180))%Ce(360),stops:r,type:n}:{size:o,shape:i,stops:r,position:s,type:n}},If="closest-side",_f="farthest-side",Of="closest-corner",xf="farthest-corner",Tf="circle",Hf="ellipse",Lf="cover",Rf="contain",Xy=function(t,A){var e=0,r=3,n=[],i=[];return $e(A).forEach(function(o,s){var a=!0;if(s===0){var c=!1;a=o.reduce(function(u,f){if(c)if(UA(f))switch(f.value){case"center":return i.push(Ga),u;case"top":case"left":return i.push(YA),u;case"right":case"bottom":return i.push(lt),u}else(MA(f)||vt(f))&&i.push(f);else if(UA(f))switch(f.value){case Tf:return e=0,!1;case Hf:return e=1,!1;case"at":return c=!0,!1;case If:return r=0,!1;case Lf:case _f:return r=1,!1;case Rf:case Of:return r=2,!1;case xf:return r=3,!1}else if(vt(f)||MA(f))return Array.isArray(r)||(r=[]),r.push(f),!1;return u},a)}if(a){var l=Co(t,o);n.push(l)}}),{size:r,shape:e,stops:n,position:i,type:2}},di=function(t,A){var e=0,r=3,n=[],i=[];return $e(A).forEach(function(o,s){var a=!0;if(s===0?a=o.reduce(function(l,u){if(UA(u))switch(u.value){case"center":return i.push(Ga),!1;case"top":case"left":return i.push(YA),!1;case"right":case"bottom":return i.push(lt),!1}else if(MA(u)||vt(u))return i.push(u),!1;return l},a):s===1&&(a=o.reduce(function(l,u){if(UA(u))switch(u.value){case Tf:return e=0,!1;case Hf:return e=1,!1;case Rf:case If:return r=0,!1;case _f:return r=1,!1;case Of:return r=2,!1;case Lf:case xf:return r=3,!1}else if(vt(u)||MA(u))return Array.isArray(r)||(r=[]),r.push(u),!1;return l},a)),a){var c=Co(t,o);n.push(c)}}),{size:r,shape:e,stops:n,position:i,type:2}},jy=function(t){return t.type===1},Jy=function(t){return t.type===2},$a={name:"image",parse:function(t,A){if(A.type===22){var e={url:A.value,type:0};return t.cache.addImage(A.value),e}if(A.type===18){var r=Df[A.name];if(typeof r>"u")throw new Error('Attempting to parse an unsupported image function "'+A.name+'"');return r(t,A.values)}throw new Error("Unsupported image type "+A.type)}};function Yy(t){return!(t.type===20&&t.value==="none")&&(t.type!==18||!!Df[t.name])}var Df={"linear-gradient":$y,"-moz-linear-gradient":ui,"-ms-linear-gradient":ui,"-o-linear-gradient":ui,"-webkit-linear-gradient":ui,"radial-gradient":Xy,"-moz-radial-gradient":di,"-ms-radial-gradient":di,"-o-radial-gradient":di,"-webkit-radial-gradient":di,"-webkit-gradient":Wy},qy={name:"background-image",initialValue:"none",type:1,prefix:!1,parse:function(t,A){if(A.length===0)return[];var e=A[0];return e.type===20&&e.value==="none"?[]:A.filter(function(r){return ar(r)&&Yy(r)}).map(function(r){return $a.parse(t,r)})}},Zy={name:"background-origin",initialValue:"border-box",prefix:!1,type:1,parse:function(t,A){return A.map(function(e){if(UA(e))switch(e.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},zy={name:"background-position",initialValue:"0% 0%",type:1,prefix:!1,parse:function(t,A){return $e(A).map(function(e){return e.filter(MA)}).map(Ef)}},Ab={name:"background-repeat",initialValue:"repeat",prefix:!1,type:1,parse:function(t,A){return $e(A).map(function(e){return e.filter(UA).map(function(r){return r.value}).join(" ")}).map(eb)}},eb=function(t){switch(t){case"no-repeat":return 1;case"repeat-x":case"repeat no-repeat":return 2;case"repeat-y":case"no-repeat repeat":return 3;case"repeat":default:return 0}},sr;(function(t){t.AUTO="auto",t.CONTAIN="contain",t.COVER="cover"})(sr||(sr={}));var tb={name:"background-size",initialValue:"0",prefix:!1,type:1,parse:function(t,A){return $e(A).map(function(e){return e.filter(rb)})}},rb=function(t){return UA(t)||MA(t)},Eo=function(t){return{name:"border-"+t+"-color",initialValue:"transparent",prefix:!1,type:3,format:"color"}},nb=Eo("top"),ib=Eo("right"),ob=Eo("bottom"),sb=Eo("left"),yo=function(t){return{name:"border-radius-"+t,initialValue:"0 0",prefix:!1,type:1,parse:function(A,e){return Ef(e.filter(MA))}}},ab=yo("top-left"),cb=yo("top-right"),lb=yo("bottom-right"),ub=yo("bottom-left"),bo=function(t){return{name:"border-"+t+"-style",initialValue:"solid",prefix:!1,type:2,parse:function(A,e){switch(e){case"none":return 0;case"dashed":return 2;case"dotted":return 3;case"double":return 4}return 1}}},db=bo("top"),fb=bo("right"),hb=bo("bottom"),pb=bo("left"),Qo=function(t){return{name:"border-"+t+"-width",initialValue:"0",type:0,prefix:!1,parse:function(A,e){return xn(e)?e.number:0}}},gb=Qo("top"),Bb=Qo("right"),vb=Qo("bottom"),mb=Qo("left"),wb={name:"color",initialValue:"transparent",prefix:!1,type:3,format:"color"},Cb={name:"direction",initialValue:"ltr",prefix:!1,type:2,parse:function(t,A){switch(A){case"rtl":return 1;case"ltr":default:return 0}}},Eb={name:"display",initialValue:"inline-block",prefix:!1,type:1,parse:function(t,A){return A.filter(UA).reduce(function(e,r){return e|yb(r.value)},0)}},yb=function(t){switch(t){case"block":case"-webkit-box":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0},bb={name:"float",initialValue:"none",prefix:!1,type:2,parse:function(t,A){switch(A){case"left":return 1;case"right":return 2;case"inline-start":return 3;case"inline-end":return 4}return 0}},Qb={name:"letter-spacing",initialValue:"0",prefix:!1,type:0,parse:function(t,A){return A.type===20&&A.value==="normal"?0:A.type===17||A.type===15?A.number:0}},Ti;(function(t){t.NORMAL="normal",t.STRICT="strict"})(Ti||(Ti={}));var Ub={name:"line-break",initialValue:"normal",prefix:!1,type:2,parse:function(t,A){switch(A){case"strict":return Ti.STRICT;case"normal":default:return Ti.NORMAL}}},Fb={name:"line-height",initialValue:"normal",prefix:!1,type:4},xl=function(t,A){return UA(t)&&t.value==="normal"?1.2*A:t.type===17?A*t.number:MA(t)?_A(t,A):A},Sb={name:"list-style-image",initialValue:"none",type:0,prefix:!1,parse:function(t,A){return A.type===20&&A.value==="none"?null:$a.parse(t,A)}},Ib={name:"list-style-position",initialValue:"outside",prefix:!1,type:2,parse:function(t,A){switch(A){case"inside":return 0;case"outside":default:return 1}}},ia={name:"list-style-type",initialValue:"none",prefix:!1,type:2,parse:function(t,A){switch(A){case"disc":return 0;case"circle":return 1;case"square":return 2;case"decimal":return 3;case"cjk-decimal":return 4;case"decimal-leading-zero":return 5;case"lower-roman":return 6;case"upper-roman":return 7;case"lower-greek":return 8;case"lower-alpha":return 9;case"upper-alpha":return 10;case"arabic-indic":return 11;case"armenian":return 12;case"bengali":return 13;case"cambodian":return 14;case"cjk-earthly-branch":return 15;case"cjk-heavenly-stem":return 16;case"cjk-ideographic":return 17;case"devanagari":return 18;case"ethiopic-numeric":return 19;case"georgian":return 20;case"gujarati":return 21;case"gurmukhi":return 22;case"hebrew":return 22;case"hiragana":return 23;case"hiragana-iroha":return 24;case"japanese-formal":return 25;case"japanese-informal":return 26;case"kannada":return 27;case"katakana":return 28;case"katakana-iroha":return 29;case"khmer":return 30;case"korean-hangul-formal":return 31;case"korean-hanja-formal":return 32;case"korean-hanja-informal":return 33;case"lao":return 34;case"lower-armenian":return 35;case"malayalam":return 36;case"mongolian":return 37;case"myanmar":return 38;case"oriya":return 39;case"persian":return 40;case"simp-chinese-formal":return 41;case"simp-chinese-informal":return 42;case"tamil":return 43;case"telugu":return 44;case"thai":return 45;case"tibetan":return 46;case"trad-chinese-formal":return 47;case"trad-chinese-informal":return 48;case"upper-armenian":return 49;case"disclosure-open":return 50;case"disclosure-closed":return 51;case"none":default:return-1}}},Uo=function(t){return{name:"margin-"+t,initialValue:"0",prefix:!1,type:4}},_b=Uo("top"),Ob=Uo("right"),xb=Uo("bottom"),Tb=Uo("left"),Hb={name:"overflow",initialValue:"visible",prefix:!1,type:1,parse:function(t,A){return A.filter(UA).map(function(e){switch(e.value){case"hidden":return 1;case"scroll":return 2;case"clip":return 3;case"auto":return 4;case"visible":default:return 0}})}},Lb={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:2,parse:function(t,A){switch(A){case"break-word":return"break-word";case"normal":default:return"normal"}}},Fo=function(t){return{name:"padding-"+t,initialValue:"0",prefix:!1,type:3,format:"length-percentage"}},Rb=Fo("top"),Db=Fo("right"),kb=Fo("bottom"),Nb=Fo("left"),Mb={name:"text-align",initialValue:"left",prefix:!1,type:2,parse:function(t,A){switch(A){case"right":return 2;case"center":case"justify":return 1;case"left":default:return 0}}},Pb={name:"position",initialValue:"static",prefix:!1,type:2,parse:function(t,A){switch(A){case"relative":return 1;case"absolute":return 2;case"fixed":return 3;case"sticky":return 4}return 0}},Vb={name:"text-shadow",initialValue:"none",type:1,prefix:!1,parse:function(t,A){return A.length===1&&na(A[0],"none")?[]:$e(A).map(function(e){for(var r={color:Ze.TRANSPARENT,offsetX:YA,offsetY:YA,blur:YA},n=0,i=0;i<e.length;i++){var o=e[i];vt(o)?(n===0?r.offsetX=o:n===1?r.offsetY=o:r.blur=o,n++):r.color=ht.parse(t,o)}return r})}},Kb={name:"text-transform",initialValue:"none",prefix:!1,type:2,parse:function(t,A){switch(A){case"uppercase":return 2;case"lowercase":return 1;case"capitalize":return 3}return 0}},Gb={name:"transform",initialValue:"none",prefix:!0,type:0,parse:function(t,A){if(A.type===20&&A.value==="none")return null;if(A.type===18){var e=Xb[A.name];if(typeof e>"u")throw new Error('Attempting to parse an unsupported transform function "'+A.name+'"');return e(A.values)}return null}},$b=function(t){var A=t.filter(function(e){return e.type===17}).map(function(e){return e.number});return A.length===6?A:null},Wb=function(t){var A=t.filter(function(a){return a.type===17}).map(function(a){return a.number}),e=A[0],r=A[1];A[2],A[3];var n=A[4],i=A[5];A[6],A[7],A[8],A[9],A[10],A[11];var o=A[12],s=A[13];return A[14],A[15],A.length===16?[e,r,n,i,o,s]:null},Xb={matrix:$b,matrix3d:Wb},Tl={type:16,number:50,flags:On},jb=[Tl,Tl],Jb={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:1,parse:function(t,A){var e=A.filter(MA);return e.length!==2?jb:[e[0],e[1]]}},Yb={name:"visible",initialValue:"none",prefix:!1,type:2,parse:function(t,A){switch(A){case"hidden":return 1;case"collapse":return 2;case"visible":default:return 0}}},Yr;(function(t){t.NORMAL="normal",t.BREAK_ALL="break-all",t.KEEP_ALL="keep-all"})(Yr||(Yr={}));var qb={name:"word-break",initialValue:"normal",prefix:!1,type:2,parse:function(t,A){switch(A){case"break-all":return Yr.BREAK_ALL;case"keep-all":return Yr.KEEP_ALL;case"normal":default:return Yr.NORMAL}}},Zb={name:"z-index",initialValue:"auto",prefix:!1,type:0,parse:function(t,A){if(A.type===20)return{auto:!0,order:0};if(Er(A))return{auto:!1,order:A.number};throw new Error("Invalid z-index number parsed")}},kf={name:"time",parse:function(t,A){if(A.type===15)switch(A.unit.toLowerCase()){case"s":return 1e3*A.number;case"ms":return A.number}throw new Error("Unsupported time type")}},zb={name:"opacity",initialValue:"1",type:0,prefix:!1,parse:function(t,A){return Er(A)?A.number:1}},AQ={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},eQ={name:"text-decoration-line",initialValue:"none",prefix:!1,type:1,parse:function(t,A){return A.filter(UA).map(function(e){switch(e.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0}).filter(function(e){return e!==0})}},tQ={name:"font-family",initialValue:"",prefix:!1,type:1,parse:function(t,A){var e=[],r=[];return A.forEach(function(n){switch(n.type){case 20:case 0:e.push(n.value);break;case 17:e.push(n.number.toString());break;case 4:r.push(e.join(" ")),e.length=0;break}}),e.length&&r.push(e.join(" ")),r.map(function(n){return n.indexOf(" ")===-1?n:"'"+n+"'"})}},rQ={name:"font-size",initialValue:"0",prefix:!1,type:3,format:"length"},nQ={name:"font-weight",initialValue:"normal",type:0,prefix:!1,parse:function(t,A){if(Er(A))return A.number;if(UA(A))switch(A.value){case"bold":return 700;case"normal":default:return 400}return 400}},iQ={name:"font-variant",initialValue:"none",type:1,prefix:!1,parse:function(t,A){return A.filter(UA).map(function(e){return e.value})}},oQ={name:"font-style",initialValue:"normal",prefix:!1,type:2,parse:function(t,A){switch(A){case"oblique":return"oblique";case"italic":return"italic";case"normal":default:return"normal"}}},PA=function(t,A){return(t&A)!==0},sQ={name:"content",initialValue:"none",type:1,prefix:!1,parse:function(t,A){if(A.length===0)return[];var e=A[0];return e.type===20&&e.value==="none"?[]:A}},aQ={name:"counter-increment",initialValue:"none",prefix:!0,type:1,parse:function(t,A){if(A.length===0)return null;var e=A[0];if(e.type===20&&e.value==="none")return null;for(var r=[],n=A.filter(Cf),i=0;i<n.length;i++){var o=n[i],s=n[i+1];if(o.type===20){var a=s&&Er(s)?s.number:1;r.push({counter:o.value,increment:a})}}return r}},cQ={name:"counter-reset",initialValue:"none",prefix:!0,type:1,parse:function(t,A){if(A.length===0)return[];for(var e=[],r=A.filter(Cf),n=0;n<r.length;n++){var i=r[n],o=r[n+1];if(UA(i)&&i.value!=="none"){var s=o&&Er(o)?o.number:0;e.push({counter:i.value,reset:s})}}return e}},lQ={name:"duration",initialValue:"0s",prefix:!1,type:1,parse:function(t,A){return A.filter(xn).map(function(e){return kf.parse(t,e)})}},uQ={name:"quotes",initialValue:"none",prefix:!0,type:1,parse:function(t,A){if(A.length===0)return null;var e=A[0];if(e.type===20&&e.value==="none")return null;var r=[],n=A.filter(Dy);if(n.length%2!==0)return null;for(var i=0;i<n.length;i+=2){var o=n[i].value,s=n[i+1].value;r.push({open:o,close:s})}return r}},Hl=function(t,A,e){if(!t)return"";var r=t[Math.min(A,t.length-1)];return r?e?r.open:r.close:""},dQ={name:"box-shadow",initialValue:"none",type:1,prefix:!1,parse:function(t,A){return A.length===1&&na(A[0],"none")?[]:$e(A).map(function(e){for(var r={color:255,offsetX:YA,offsetY:YA,blur:YA,spread:YA,inset:!1},n=0,i=0;i<e.length;i++){var o=e[i];na(o,"inset")?r.inset=!0:vt(o)?(n===0?r.offsetX=o:n===1?r.offsetY=o:n===2?r.blur=o:r.spread=o,n++):r.color=ht.parse(t,o)}return r})}},fQ={name:"paint-order",initialValue:"normal",prefix:!1,type:1,parse:function(t,A){var e=[0,1,2],r=[];return A.filter(UA).forEach(function(n){switch(n.value){case"stroke":r.push(1);break;case"fill":r.push(0);break;case"markers":r.push(2);break}}),e.forEach(function(n){r.indexOf(n)===-1&&r.push(n)}),r}},hQ={name:"-webkit-text-stroke-color",initialValue:"currentcolor",prefix:!1,type:3,format:"color"},pQ={name:"-webkit-text-stroke-width",initialValue:"0",type:0,prefix:!1,parse:function(t,A){return xn(A)?A.number:0}},gQ=function(){function t(A,e){var r,n;this.animationDuration=nA(A,lQ,e.animationDuration),this.backgroundClip=nA(A,My,e.backgroundClip),this.backgroundColor=nA(A,Py,e.backgroundColor),this.backgroundImage=nA(A,qy,e.backgroundImage),this.backgroundOrigin=nA(A,Zy,e.backgroundOrigin),this.backgroundPosition=nA(A,zy,e.backgroundPosition),this.backgroundRepeat=nA(A,Ab,e.backgroundRepeat),this.backgroundSize=nA(A,tb,e.backgroundSize),this.borderTopColor=nA(A,nb,e.borderTopColor),this.borderRightColor=nA(A,ib,e.borderRightColor),this.borderBottomColor=nA(A,ob,e.borderBottomColor),this.borderLeftColor=nA(A,sb,e.borderLeftColor),this.borderTopLeftRadius=nA(A,ab,e.borderTopLeftRadius),this.borderTopRightRadius=nA(A,cb,e.borderTopRightRadius),this.borderBottomRightRadius=nA(A,lb,e.borderBottomRightRadius),this.borderBottomLeftRadius=nA(A,ub,e.borderBottomLeftRadius),this.borderTopStyle=nA(A,db,e.borderTopStyle),this.borderRightStyle=nA(A,fb,e.borderRightStyle),this.borderBottomStyle=nA(A,hb,e.borderBottomStyle),this.borderLeftStyle=nA(A,pb,e.borderLeftStyle),this.borderTopWidth=nA(A,gb,e.borderTopWidth),this.borderRightWidth=nA(A,Bb,e.borderRightWidth),this.borderBottomWidth=nA(A,vb,e.borderBottomWidth),this.borderLeftWidth=nA(A,mb,e.borderLeftWidth),this.boxShadow=nA(A,dQ,e.boxShadow),this.color=nA(A,wb,e.color),this.direction=nA(A,Cb,e.direction),this.display=nA(A,Eb,e.display),this.float=nA(A,bb,e.cssFloat),this.fontFamily=nA(A,tQ,e.fontFamily),this.fontSize=nA(A,rQ,e.fontSize),this.fontStyle=nA(A,oQ,e.fontStyle),this.fontVariant=nA(A,iQ,e.fontVariant),this.fontWeight=nA(A,nQ,e.fontWeight),this.letterSpacing=nA(A,Qb,e.letterSpacing),this.lineBreak=nA(A,Ub,e.lineBreak),this.lineHeight=nA(A,Fb,e.lineHeight),this.listStyleImage=nA(A,Sb,e.listStyleImage),this.listStylePosition=nA(A,Ib,e.listStylePosition),this.listStyleType=nA(A,ia,e.listStyleType),this.marginTop=nA(A,_b,e.marginTop),this.marginRight=nA(A,Ob,e.marginRight),this.marginBottom=nA(A,xb,e.marginBottom),this.marginLeft=nA(A,Tb,e.marginLeft),this.opacity=nA(A,zb,e.opacity);var i=nA(A,Hb,e.overflow);this.overflowX=i[0],this.overflowY=i[i.length>1?1:0],this.overflowWrap=nA(A,Lb,e.overflowWrap),this.paddingTop=nA(A,Rb,e.paddingTop),this.paddingRight=nA(A,Db,e.paddingRight),this.paddingBottom=nA(A,kb,e.paddingBottom),this.paddingLeft=nA(A,Nb,e.paddingLeft),this.paintOrder=nA(A,fQ,e.paintOrder),this.position=nA(A,Pb,e.position),this.textAlign=nA(A,Mb,e.textAlign),this.textDecorationColor=nA(A,AQ,(r=e.textDecorationColor)!==null&&r!==void 0?r:e.color),this.textDecorationLine=nA(A,eQ,(n=e.textDecorationLine)!==null&&n!==void 0?n:e.textDecoration),this.textShadow=nA(A,Vb,e.textShadow),this.textTransform=nA(A,Kb,e.textTransform),this.transform=nA(A,Gb,e.transform),this.transformOrigin=nA(A,Jb,e.transformOrigin),this.visibility=nA(A,Yb,e.visibility),this.webkitTextStrokeColor=nA(A,hQ,e.webkitTextStrokeColor),this.webkitTextStrokeWidth=nA(A,pQ,e.webkitTextStrokeWidth),this.wordBreak=nA(A,qb,e.wordBreak),this.zIndex=nA(A,Zb,e.zIndex)}return t.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&this.visibility===0},t.prototype.isTransparent=function(){return pt(this.backgroundColor)},t.prototype.isTransformed=function(){return this.transform!==null},t.prototype.isPositioned=function(){return this.position!==0},t.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},t.prototype.isFloating=function(){return this.float!==0},t.prototype.isInlineLevel=function(){return PA(this.display,4)||PA(this.display,33554432)||PA(this.display,268435456)||PA(this.display,536870912)||PA(this.display,67108864)||PA(this.display,134217728)},t}(),BQ=function(){function t(A,e){this.content=nA(A,sQ,e.content),this.quotes=nA(A,uQ,e.quotes)}return t}(),Ll=function(){function t(A,e){this.counterIncrement=nA(A,aQ,e.counterIncrement),this.counterReset=nA(A,cQ,e.counterReset)}return t}(),nA=function(t,A,e){var r=new mf,n=e!==null&&typeof e<"u"?e.toString():A.initialValue;r.write(n);var i=new wf(r.read());switch(A.type){case 2:var o=i.parseComponentValue();return A.parse(t,UA(o)?o.value:A.initialValue);case 0:return A.parse(t,i.parseComponentValue());case 1:return A.parse(t,i.parseComponentValues());case 4:return i.parseComponentValue();case 3:switch(A.format){case"angle":return wo.parse(t,i.parseComponentValue());case"color":return ht.parse(t,i.parseComponentValue());case"image":return $a.parse(t,i.parseComponentValue());case"length":var s=i.parseComponentValue();return vt(s)?s:YA;case"length-percentage":var a=i.parseComponentValue();return MA(a)?a:YA;case"time":return kf.parse(t,i.parseComponentValue())}break}},vQ="data-html2canvas-debug",mQ=function(t){var A=t.getAttribute(vQ);switch(A){case"all":return 1;case"clone":return 2;case"parse":return 3;case"render":return 4;default:return 0}},oa=function(t,A){var e=mQ(t);return e===1||A===e},We=function(){function t(A,e){if(this.context=A,this.textNodes=[],this.elements=[],this.flags=0,oa(e,3))debugger;this.styles=new gQ(A,window.getComputedStyle(e,null)),ca(e)&&(this.styles.animationDuration.some(function(r){return r>0})&&(e.style.animationDuration="0s"),this.styles.transform!==null&&(e.style.transform="none")),this.bounds=vo(this.context,e),oa(e,4)&&(this.flags|=16)}return t}(),wQ="AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA=",Rl="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Gr=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var fi=0;fi<Rl.length;fi++)Gr[Rl.charCodeAt(fi)]=fi;var CQ=function(t){var A=t.length*.75,e=t.length,r,n=0,i,o,s,a;t[t.length-1]==="="&&(A--,t[t.length-2]==="="&&A--);var c=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(A):new Array(A),l=Array.isArray(c)?c:new Uint8Array(c);for(r=0;r<e;r+=4)i=Gr[t.charCodeAt(r)],o=Gr[t.charCodeAt(r+1)],s=Gr[t.charCodeAt(r+2)],a=Gr[t.charCodeAt(r+3)],l[n++]=i<<2|o>>4,l[n++]=(o&15)<<4|s>>2,l[n++]=(s&3)<<6|a&63;return c},EQ=function(t){for(var A=t.length,e=[],r=0;r<A;r+=2)e.push(t[r+1]<<8|t[r]);return e},yQ=function(t){for(var A=t.length,e=[],r=0;r<A;r+=4)e.push(t[r+3]<<24|t[r+2]<<16|t[r+1]<<8|t[r]);return e},Ot=5,Wa=11,vs=2,bQ=Wa-Ot,Nf=65536>>Ot,QQ=1<<Ot,ms=QQ-1,UQ=1024>>Ot,FQ=Nf+UQ,SQ=FQ,IQ=32,_Q=SQ+IQ,OQ=65536>>Wa,xQ=1<<bQ,TQ=xQ-1,Dl=function(t,A,e){return t.slice?t.slice(A,e):new Uint16Array(Array.prototype.slice.call(t,A,e))},HQ=function(t,A,e){return t.slice?t.slice(A,e):new Uint32Array(Array.prototype.slice.call(t,A,e))},LQ=function(t,A){var e=CQ(t),r=Array.isArray(e)?yQ(e):new Uint32Array(e),n=Array.isArray(e)?EQ(e):new Uint16Array(e),i=24,o=Dl(n,i/2,r[4]/2),s=r[5]===2?Dl(n,(i+r[4])/2):HQ(r,Math.ceil((i+r[4])/4));return new RQ(r[0],r[1],r[2],r[3],o,s)},RQ=function(){function t(A,e,r,n,i,o){this.initialValue=A,this.errorValue=e,this.highStart=r,this.highValueIndex=n,this.index=i,this.data=o}return t.prototype.get=function(A){var e;if(A>=0){if(A<55296||A>56319&&A<=65535)return e=this.index[A>>Ot],e=(e<<vs)+(A&ms),this.data[e];if(A<=65535)return e=this.index[Nf+(A-55296>>Ot)],e=(e<<vs)+(A&ms),this.data[e];if(A<this.highStart)return e=_Q-OQ+(A>>Wa),e=this.index[e],e+=A>>Ot&TQ,e=this.index[e],e=(e<<vs)+(A&ms),this.data[e];if(A<=1114111)return this.data[this.highValueIndex]}return this.errorValue},t}(),kl="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",DQ=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var hi=0;hi<kl.length;hi++)DQ[kl.charCodeAt(hi)]=hi;var kQ=1,ws=2,Cs=3,Nl=4,Ml=5,NQ=7,Pl=8,Es=9,ys=10,Vl=11,Kl=12,Gl=13,$l=14,bs=15,MQ=function(t){for(var A=[],e=0,r=t.length;e<r;){var n=t.charCodeAt(e++);if(n>=55296&&n<=56319&&e<r){var i=t.charCodeAt(e++);(i&64512)===56320?A.push(((n&1023)<<10)+(i&1023)+65536):(A.push(n),e--)}else A.push(n)}return A},PQ=function(){for(var t=[],A=0;A<arguments.length;A++)t[A]=arguments[A];if(String.fromCodePoint)return String.fromCodePoint.apply(String,t);var e=t.length;if(!e)return"";for(var r=[],n=-1,i="";++n<e;){var o=t[n];o<=65535?r.push(o):(o-=65536,r.push((o>>10)+55296,o%1024+56320)),(n+1===e||r.length>16384)&&(i+=String.fromCharCode.apply(String,r),r.length=0)}return i},VQ=LQ(wQ),me="×",Qs="÷",KQ=function(t){return VQ.get(t)},GQ=function(t,A,e){var r=e-2,n=A[r],i=A[e-1],o=A[e];if(i===ws&&o===Cs)return me;if(i===ws||i===Cs||i===Nl||o===ws||o===Cs||o===Nl)return Qs;if(i===Pl&&[Pl,Es,Vl,Kl].indexOf(o)!==-1||(i===Vl||i===Es)&&(o===Es||o===ys)||(i===Kl||i===ys)&&o===ys||o===Gl||o===Ml||o===NQ||i===kQ)return me;if(i===Gl&&o===$l){for(;n===Ml;)n=A[--r];if(n===$l)return me}if(i===bs&&o===bs){for(var s=0;n===bs;)s++,n=A[--r];if(s%2===0)return me}return Qs},$Q=function(t){var A=MQ(t),e=A.length,r=0,n=0,i=A.map(KQ);return{next:function(){if(r>=e)return{done:!0,value:null};for(var o=me;r<e&&(o=GQ(A,i,++r))===me;);if(o!==me||r===e){var s=PQ.apply(null,A.slice(n,r));return n=r,{value:s,done:!1}}return{done:!0,value:null}}}},WQ=function(t){for(var A=$Q(t),e=[],r;!(r=A.next()).done;)r.value&&e.push(r.value.slice());return e},XQ=function(t){var A=123;if(t.createRange){var e=t.createRange();if(e.getBoundingClientRect){var r=t.createElement("boundtest");r.style.height=A+"px",r.style.display="block",t.body.appendChild(r),e.selectNode(r);var n=e.getBoundingClientRect(),i=Math.round(n.height);if(t.body.removeChild(r),i===A)return!0}}return!1},jQ=function(t){var A=t.createElement("boundtest");A.style.width="50px",A.style.display="block",A.style.fontSize="12px",A.style.letterSpacing="0px",A.style.wordSpacing="0px",t.body.appendChild(A);var e=t.createRange();A.innerHTML=typeof"".repeat=="function"?"&#128104;".repeat(10):"";var r=A.firstChild,n=mo(r.data).map(function(a){return DA(a)}),i=0,o={},s=n.every(function(a,c){e.setStart(r,i),e.setEnd(r,i+a.length);var l=e.getBoundingClientRect();i+=a.length;var u=l.x>o.x||l.y>o.y;return o=l,c===0?!0:u});return t.body.removeChild(A),s},JQ=function(){return typeof new Image().crossOrigin<"u"},YQ=function(){return typeof new XMLHttpRequest().responseType=="string"},qQ=function(t){var A=new Image,e=t.createElement("canvas"),r=e.getContext("2d");if(!r)return!1;A.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{r.drawImage(A,0,0),e.toDataURL()}catch{return!1}return!0},Wl=function(t){return t[0]===0&&t[1]===255&&t[2]===0&&t[3]===255},ZQ=function(t){var A=t.createElement("canvas"),e=100;A.width=e,A.height=e;var r=A.getContext("2d");if(!r)return Promise.reject(!1);r.fillStyle="rgb(0, 255, 0)",r.fillRect(0,0,e,e);var n=new Image,i=A.toDataURL();n.src=i;var o=sa(e,e,0,0,n);return r.fillStyle="red",r.fillRect(0,0,e,e),Xl(o).then(function(s){r.drawImage(s,0,0);var a=r.getImageData(0,0,e,e).data;r.fillStyle="red",r.fillRect(0,0,e,e);var c=t.createElement("div");return c.style.backgroundImage="url("+i+")",c.style.height=e+"px",Wl(a)?Xl(sa(e,e,0,0,c)):Promise.reject(!1)}).then(function(s){return r.drawImage(s,0,0),Wl(r.getImageData(0,0,e,e).data)}).catch(function(){return!1})},sa=function(t,A,e,r,n){var i="http://www.w3.org/2000/svg",o=document.createElementNS(i,"svg"),s=document.createElementNS(i,"foreignObject");return o.setAttributeNS(null,"width",t.toString()),o.setAttributeNS(null,"height",A.toString()),s.setAttributeNS(null,"width","100%"),s.setAttributeNS(null,"height","100%"),s.setAttributeNS(null,"x",e.toString()),s.setAttributeNS(null,"y",r.toString()),s.setAttributeNS(null,"externalResourcesRequired","true"),o.appendChild(s),s.appendChild(n),o},Xl=function(t){return new Promise(function(A,e){var r=new Image;r.onload=function(){return A(r)},r.onerror=e,r.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(t))})},JA={get SUPPORT_RANGE_BOUNDS(){var t=XQ(document);return Object.defineProperty(JA,"SUPPORT_RANGE_BOUNDS",{value:t}),t},get SUPPORT_WORD_BREAKING(){var t=JA.SUPPORT_RANGE_BOUNDS&&jQ(document);return Object.defineProperty(JA,"SUPPORT_WORD_BREAKING",{value:t}),t},get SUPPORT_SVG_DRAWING(){var t=qQ(document);return Object.defineProperty(JA,"SUPPORT_SVG_DRAWING",{value:t}),t},get SUPPORT_FOREIGNOBJECT_DRAWING(){var t=typeof Array.from=="function"&&typeof window.fetch=="function"?ZQ(document):Promise.resolve(!1);return Object.defineProperty(JA,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:t}),t},get SUPPORT_CORS_IMAGES(){var t=JQ();return Object.defineProperty(JA,"SUPPORT_CORS_IMAGES",{value:t}),t},get SUPPORT_RESPONSE_TYPE(){var t=YQ();return Object.defineProperty(JA,"SUPPORT_RESPONSE_TYPE",{value:t}),t},get SUPPORT_CORS_XHR(){var t="withCredentials"in new XMLHttpRequest;return Object.defineProperty(JA,"SUPPORT_CORS_XHR",{value:t}),t},get SUPPORT_NATIVE_TEXT_SEGMENTATION(){var t=!!(typeof Intl<"u"&&Intl.Segmenter);return Object.defineProperty(JA,"SUPPORT_NATIVE_TEXT_SEGMENTATION",{value:t}),t}},qr=function(){function t(A,e){this.text=A,this.bounds=e}return t}(),zQ=function(t,A,e,r){var n=tU(A,e),i=[],o=0;return n.forEach(function(s){if(e.textDecorationLine.length||s.trim().length>0)if(JA.SUPPORT_RANGE_BOUNDS){var a=jl(r,o,s.length).getClientRects();if(a.length>1){var c=Xa(s),l=0;c.forEach(function(f){i.push(new qr(f,ze.fromDOMRectList(t,jl(r,l+o,f.length).getClientRects()))),l+=f.length})}else i.push(new qr(s,ze.fromDOMRectList(t,a)))}else{var u=r.splitText(s.length);i.push(new qr(s,AU(t,r))),r=u}else JA.SUPPORT_RANGE_BOUNDS||(r=r.splitText(s.length));o+=s.length}),i},AU=function(t,A){var e=A.ownerDocument;if(e){var r=e.createElement("html2canvaswrapper");r.appendChild(A.cloneNode(!0));var n=A.parentNode;if(n){n.replaceChild(r,A);var i=vo(t,r);return r.firstChild&&n.replaceChild(r.firstChild,r),i}}return ze.EMPTY},jl=function(t,A,e){var r=t.ownerDocument;if(!r)throw new Error("Node has no owner document");var n=r.createRange();return n.setStart(t,A),n.setEnd(t,A+e),n},Xa=function(t){if(JA.SUPPORT_NATIVE_TEXT_SEGMENTATION){var A=new Intl.Segmenter(void 0,{granularity:"grapheme"});return Array.from(A.segment(t)).map(function(e){return e.segment})}return WQ(t)},eU=function(t,A){if(JA.SUPPORT_NATIVE_TEXT_SEGMENTATION){var e=new Intl.Segmenter(void 0,{granularity:"word"});return Array.from(e.segment(t)).map(function(r){return r.segment})}return nU(t,A)},tU=function(t,A){return A.letterSpacing!==0?Xa(t):eU(t,A)},rU=[32,160,4961,65792,65793,4153,4241],nU=function(t,A){for(var e=O0(t,{lineBreak:A.lineBreak,wordBreak:A.overflowWrap==="break-word"?"break-word":A.wordBreak}),r=[],n,i=function(){if(n.value){var o=n.value.slice(),s=mo(o),a="";s.forEach(function(c){rU.indexOf(c)===-1?a+=DA(c):(a.length&&r.push(a),r.push(DA(c)),a="")}),a.length&&r.push(a)}};!(n=e.next()).done;)i();return r},iU=function(){function t(A,e,r){this.text=oU(e.data,r.textTransform),this.textBounds=zQ(A,this.text,r,e)}return t}(),oU=function(t,A){switch(A){case 1:return t.toLowerCase();case 3:return t.replace(sU,aU);case 2:return t.toUpperCase();default:return t}},sU=/(^|\s|:|-|\(|\))([a-z])/g,aU=function(t,A,e){return t.length>0?A+e.toUpperCase():t},Mf=function(t){Oe(A,t);function A(e,r){var n=t.call(this,e,r)||this;return n.src=r.currentSrc||r.src,n.intrinsicWidth=r.naturalWidth,n.intrinsicHeight=r.naturalHeight,n.context.cache.addImage(n.src),n}return A}(We),Pf=function(t){Oe(A,t);function A(e,r){var n=t.call(this,e,r)||this;return n.canvas=r,n.intrinsicWidth=r.width,n.intrinsicHeight=r.height,n}return A}(We),Vf=function(t){Oe(A,t);function A(e,r){var n=t.call(this,e,r)||this,i=new XMLSerializer,o=vo(e,r);return r.setAttribute("width",o.width+"px"),r.setAttribute("height",o.height+"px"),n.svg="data:image/svg+xml,"+encodeURIComponent(i.serializeToString(r)),n.intrinsicWidth=r.width.baseVal.value,n.intrinsicHeight=r.height.baseVal.value,n.context.cache.addImage(n.svg),n}return A}(We),Kf=function(t){Oe(A,t);function A(e,r){var n=t.call(this,e,r)||this;return n.value=r.value,n}return A}(We),aa=function(t){Oe(A,t);function A(e,r){var n=t.call(this,e,r)||this;return n.start=r.start,n.reversed=typeof r.reversed=="boolean"&&r.reversed===!0,n}return A}(We),cU=[{type:15,flags:0,unit:"px",number:3}],lU=[{type:16,flags:0,number:50}],uU=function(t){return t.width>t.height?new ze(t.left+(t.width-t.height)/2,t.top,t.height,t.height):t.width<t.height?new ze(t.left,t.top+(t.height-t.width)/2,t.width,t.width):t},dU=function(t){var A=t.type===fU?new Array(t.value.length+1).join("•"):t.value;return A.length===0?t.placeholder||"":A},Hi="checkbox",Li="radio",fU="password",Jl=707406591,ja=function(t){Oe(A,t);function A(e,r){var n=t.call(this,e,r)||this;switch(n.type=r.type.toLowerCase(),n.checked=r.checked,n.value=dU(r),(n.type===Hi||n.type===Li)&&(n.styles.backgroundColor=3739148031,n.styles.borderTopColor=n.styles.borderRightColor=n.styles.borderBottomColor=n.styles.borderLeftColor=2779096575,n.styles.borderTopWidth=n.styles.borderRightWidth=n.styles.borderBottomWidth=n.styles.borderLeftWidth=1,n.styles.borderTopStyle=n.styles.borderRightStyle=n.styles.borderBottomStyle=n.styles.borderLeftStyle=1,n.styles.backgroundClip=[0],n.styles.backgroundOrigin=[0],n.bounds=uU(n.bounds)),n.type){case Hi:n.styles.borderTopRightRadius=n.styles.borderTopLeftRadius=n.styles.borderBottomRightRadius=n.styles.borderBottomLeftRadius=cU;break;case Li:n.styles.borderTopRightRadius=n.styles.borderTopLeftRadius=n.styles.borderBottomRightRadius=n.styles.borderBottomLeftRadius=lU;break}return n}return A}(We),Gf=function(t){Oe(A,t);function A(e,r){var n=t.call(this,e,r)||this,i=r.options[r.selectedIndex||0];return n.value=i&&i.text||"",n}return A}(We),$f=function(t){Oe(A,t);function A(e,r){var n=t.call(this,e,r)||this;return n.value=r.value,n}return A}(We),Wf=function(t){Oe(A,t);function A(e,r){var n=t.call(this,e,r)||this;n.src=r.src,n.width=parseInt(r.width,10)||0,n.height=parseInt(r.height,10)||0,n.backgroundColor=n.styles.backgroundColor;try{if(r.contentWindow&&r.contentWindow.document&&r.contentWindow.document.documentElement){n.tree=jf(e,r.contentWindow.document.documentElement);var i=r.contentWindow.document.documentElement?Jr(e,getComputedStyle(r.contentWindow.document.documentElement).backgroundColor):Ze.TRANSPARENT,o=r.contentWindow.document.body?Jr(e,getComputedStyle(r.contentWindow.document.body).backgroundColor):Ze.TRANSPARENT;n.backgroundColor=pt(i)?pt(o)?n.styles.backgroundColor:o:i}}catch{}return n}return A}(We),hU=["OL","UL","MENU"],yi=function(t,A,e,r){for(var n=A.firstChild,i=void 0;n;n=i)if(i=n.nextSibling,Jf(n)&&n.data.trim().length>0)e.textNodes.push(new iU(t,n,e.styles));else if(ir(n))if(zf(n)&&n.assignedNodes)n.assignedNodes().forEach(function(s){return yi(t,s,e,r)});else{var o=Xf(t,n);o.styles.isVisible()&&(pU(n,o,r)?o.flags|=4:gU(o.styles)&&(o.flags|=2),hU.indexOf(n.tagName)!==-1&&(o.flags|=8),e.elements.push(o),n.slot,n.shadowRoot?yi(t,n.shadowRoot,o,r):!Ri(n)&&!Yf(n)&&!Di(n)&&yi(t,n,o,r))}},Xf=function(t,A){return la(A)?new Mf(t,A):qf(A)?new Pf(t,A):Yf(A)?new Vf(t,A):BU(A)?new Kf(t,A):vU(A)?new aa(t,A):mU(A)?new ja(t,A):Di(A)?new Gf(t,A):Ri(A)?new $f(t,A):Zf(A)?new Wf(t,A):new We(t,A)},jf=function(t,A){var e=Xf(t,A);return e.flags|=4,yi(t,A,e,e),e},pU=function(t,A,e){return A.styles.isPositionedWithZIndex()||A.styles.opacity<1||A.styles.isTransformed()||Ja(t)&&e.styles.isTransparent()},gU=function(t){return t.isPositioned()||t.isFloating()},Jf=function(t){return t.nodeType===Node.TEXT_NODE},ir=function(t){return t.nodeType===Node.ELEMENT_NODE},ca=function(t){return ir(t)&&typeof t.style<"u"&&!bi(t)},bi=function(t){return typeof t.className=="object"},BU=function(t){return t.tagName==="LI"},vU=function(t){return t.tagName==="OL"},mU=function(t){return t.tagName==="INPUT"},wU=function(t){return t.tagName==="HTML"},Yf=function(t){return t.tagName==="svg"},Ja=function(t){return t.tagName==="BODY"},qf=function(t){return t.tagName==="CANVAS"},Yl=function(t){return t.tagName==="VIDEO"},la=function(t){return t.tagName==="IMG"},Zf=function(t){return t.tagName==="IFRAME"},ql=function(t){return t.tagName==="STYLE"},CU=function(t){return t.tagName==="SCRIPT"},Ri=function(t){return t.tagName==="TEXTAREA"},Di=function(t){return t.tagName==="SELECT"},zf=function(t){return t.tagName==="SLOT"},Zl=function(t){return t.tagName.indexOf("-")>0},EU=function(){function t(){this.counters={}}return t.prototype.getCounterValue=function(A){var e=this.counters[A];return e&&e.length?e[e.length-1]:1},t.prototype.getCounterValues=function(A){var e=this.counters[A];return e||[]},t.prototype.pop=function(A){var e=this;A.forEach(function(r){return e.counters[r].pop()})},t.prototype.parse=function(A){var e=this,r=A.counterIncrement,n=A.counterReset,i=!0;r!==null&&r.forEach(function(s){var a=e.counters[s.counter];a&&s.increment!==0&&(i=!1,a.length||a.push(1),a[Math.max(0,a.length-1)]+=s.increment)});var o=[];return i&&n.forEach(function(s){var a=e.counters[s.counter];o.push(s.counter),a||(a=e.counters[s.counter]=[]),a.push(s.reset)}),o},t}(),zl={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},Au={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["Ք","Փ","Ւ","Ց","Ր","Տ","Վ","Ս","Ռ","Ջ","Պ","Չ","Ո","Շ","Ն","Յ","Մ","Ճ","Ղ","Ձ","Հ","Կ","Ծ","Խ","Լ","Ի","Ժ","Թ","Ը","Է","Զ","Ե","Դ","Գ","Բ","Ա"]},yU={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["י׳","ט׳","ח׳","ז׳","ו׳","ה׳","ד׳","ג׳","ב׳","א׳","ת","ש","ר","ק","צ","פ","ע","ס","נ","מ","ל","כ","יט","יח","יז","טז","טו","י","ט","ח","ז","ו","ה","ד","ג","ב","א"]},bU={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["ჵ","ჰ","ჯ","ჴ","ხ","ჭ","წ","ძ","ც","ჩ","შ","ყ","ღ","ქ","ფ","ჳ","ტ","ს","რ","ჟ","პ","ო","ჲ","ნ","მ","ლ","კ","ი","თ","ჱ","ზ","ვ","ე","დ","გ","ბ","ა"]},zt=function(t,A,e,r,n,i){return t<A||t>e?on(t,n,i.length>0):r.integers.reduce(function(o,s,a){for(;t>=s;)t-=s,o+=r.values[a];return o},"")+i},Ah=function(t,A,e,r){var n="";do e||t--,n=r(t)+n,t/=A;while(t*A>=A);return n},RA=function(t,A,e,r,n){var i=e-A+1;return(t<0?"-":"")+(Ah(Math.abs(t),i,r,function(o){return DA(Math.floor(o%i)+A)})+n)},Qt=function(t,A,e){e===void 0&&(e=". ");var r=A.length;return Ah(Math.abs(t),r,!1,function(n){return A[Math.floor(n%r)]})+e},tr=1,it=2,ot=4,$r=8,Ye=function(t,A,e,r,n,i){if(t<-9999||t>9999)return on(t,4,n.length>0);var o=Math.abs(t),s=n;if(o===0)return A[0]+s;for(var a=0;o>0&&a<=4;a++){var c=o%10;c===0&&PA(i,tr)&&s!==""?s=A[c]+s:c>1||c===1&&a===0||c===1&&a===1&&PA(i,it)||c===1&&a===1&&PA(i,ot)&&t>100||c===1&&a>1&&PA(i,$r)?s=A[c]+(a>0?e[a-1]:"")+s:c===1&&a>0&&(s=e[a-1]+s),o=Math.floor(o/10)}return(t<0?r:"")+s},eu="十百千萬",tu="拾佰仟萬",ru="マイナス",Us="마이너스",on=function(t,A,e){var r=e?". ":"",n=e?"、":"",i=e?", ":"",o=e?" ":"";switch(A){case 0:return"•"+o;case 1:return"◦"+o;case 2:return"◾"+o;case 5:var s=RA(t,48,57,!0,r);return s.length<4?"0"+s:s;case 4:return Qt(t,"〇一二三四五六七八九",n);case 6:return zt(t,1,3999,zl,3,r).toLowerCase();case 7:return zt(t,1,3999,zl,3,r);case 8:return RA(t,945,969,!1,r);case 9:return RA(t,97,122,!1,r);case 10:return RA(t,65,90,!1,r);case 11:return RA(t,1632,1641,!0,r);case 12:case 49:return zt(t,1,9999,Au,3,r);case 35:return zt(t,1,9999,Au,3,r).toLowerCase();case 13:return RA(t,2534,2543,!0,r);case 14:case 30:return RA(t,6112,6121,!0,r);case 15:return Qt(t,"子丑寅卯辰巳午未申酉戌亥",n);case 16:return Qt(t,"甲乙丙丁戊己庚辛壬癸",n);case 17:case 48:return Ye(t,"零一二三四五六七八九",eu,"負",n,it|ot|$r);case 47:return Ye(t,"零壹貳參肆伍陸柒捌玖",tu,"負",n,tr|it|ot|$r);case 42:return Ye(t,"零一二三四五六七八九",eu,"负",n,it|ot|$r);case 41:return Ye(t,"零壹贰叁肆伍陆柒捌玖",tu,"负",n,tr|it|ot|$r);case 26:return Ye(t,"〇一二三四五六七八九","十百千万",ru,n,0);case 25:return Ye(t,"零壱弐参四伍六七八九","拾百千万",ru,n,tr|it|ot);case 31:return Ye(t,"영일이삼사오육칠팔구","십백천만",Us,i,tr|it|ot);case 33:return Ye(t,"零一二三四五六七八九","十百千萬",Us,i,0);case 32:return Ye(t,"零壹貳參四五六七八九","拾百千",Us,i,tr|it|ot);case 18:return RA(t,2406,2415,!0,r);case 20:return zt(t,1,19999,bU,3,r);case 21:return RA(t,2790,2799,!0,r);case 22:return RA(t,2662,2671,!0,r);case 22:return zt(t,1,10999,yU,3,r);case 23:return Qt(t,"あいうえおかきくけこさしすせそたちつてとなにぬねのはひふへほまみむめもやゆよらりるれろわゐゑをん");case 24:return Qt(t,"いろはにほへとちりぬるをわかよたれそつねならむうゐのおくやまけふこえてあさきゆめみしゑひもせす");case 27:return RA(t,3302,3311,!0,r);case 28:return Qt(t,"アイウエオカキクケコサシスセソタチツテトナニヌネノハヒフヘホマミムメモヤユヨラリルレロワヰヱヲン",n);case 29:return Qt(t,"イロハニホヘトチリヌルヲワカヨタレソツネナラムウヰノオクヤマケフコエテアサキユメミシヱヒモセス",n);case 34:return RA(t,3792,3801,!0,r);case 37:return RA(t,6160,6169,!0,r);case 38:return RA(t,4160,4169,!0,r);case 39:return RA(t,2918,2927,!0,r);case 40:return RA(t,1776,1785,!0,r);case 43:return RA(t,3046,3055,!0,r);case 44:return RA(t,3174,3183,!0,r);case 45:return RA(t,3664,3673,!0,r);case 46:return RA(t,3872,3881,!0,r);case 3:default:return RA(t,48,57,!0,r)}},eh="data-html2canvas-ignore",nu=function(){function t(A,e,r){if(this.context=A,this.options=r,this.scrolledElements=[],this.referenceElement=e,this.counters=new EU,this.quoteDepth=0,!e.ownerDocument)throw new Error("Cloned element does not have an owner document");this.documentElement=this.cloneNode(e.ownerDocument.documentElement,!1)}return t.prototype.toIFrame=function(A,e){var r=this,n=QU(A,e);if(!n.contentWindow)return Promise.reject("Unable to find iframe window");var i=A.defaultView.pageXOffset,o=A.defaultView.pageYOffset,s=n.contentWindow,a=s.document,c=SU(n).then(function(){return ae(r,void 0,void 0,function(){var l,u;return te(this,function(f){switch(f.label){case 0:return this.scrolledElements.forEach(xU),s&&(s.scrollTo(e.left,e.top),/(iPad|iPhone|iPod)/g.test(navigator.userAgent)&&(s.scrollY!==e.top||s.scrollX!==e.left)&&(this.context.logger.warn("Unable to restore scroll position for cloned document"),this.context.windowBounds=this.context.windowBounds.add(s.scrollX-e.left,s.scrollY-e.top,0,0))),l=this.options.onclone,u=this.clonedReferenceElement,typeof u>"u"?[2,Promise.reject("Error finding the "+this.referenceElement.nodeName+" in the cloned document")]:a.fonts&&a.fonts.ready?[4,a.fonts.ready]:[3,2];case 1:f.sent(),f.label=2;case 2:return/(AppleWebKit)/g.test(navigator.userAgent)?[4,FU(a)]:[3,4];case 3:f.sent(),f.label=4;case 4:return typeof l=="function"?[2,Promise.resolve().then(function(){return l(a,u)}).then(function(){return n})]:[2,n]}})})});return a.open(),a.write(_U(document.doctype)+"<html></html>"),OU(this.referenceElement.ownerDocument,i,o),a.replaceChild(a.adoptNode(this.documentElement),a.documentElement),a.close(),c},t.prototype.createElementClone=function(A){if(oa(A,2))debugger;if(qf(A))return this.createCanvasClone(A);if(Yl(A))return this.createVideoClone(A);if(ql(A))return this.createStyleClone(A);var e=A.cloneNode(!1);return la(e)&&(la(A)&&A.currentSrc&&A.currentSrc!==A.src&&(e.src=A.currentSrc,e.srcset=""),e.loading==="lazy"&&(e.loading="eager")),Zl(e)?this.createCustomElementClone(e):e},t.prototype.createCustomElementClone=function(A){var e=document.createElement("html2canvascustomelement");return Fs(A.style,e),e},t.prototype.createStyleClone=function(A){try{var e=A.sheet;if(e&&e.cssRules){var r=[].slice.call(e.cssRules,0).reduce(function(i,o){return o&&typeof o.cssText=="string"?i+o.cssText:i},""),n=A.cloneNode(!1);return n.textContent=r,n}}catch(i){if(this.context.logger.error("Unable to access cssRules property",i),i.name!=="SecurityError")throw i}return A.cloneNode(!1)},t.prototype.createCanvasClone=function(A){var e;if(this.options.inlineImages&&A.ownerDocument){var r=A.ownerDocument.createElement("img");try{return r.src=A.toDataURL(),r}catch{this.context.logger.info("Unable to inline canvas contents, canvas is tainted",A)}}var n=A.cloneNode(!1);try{n.width=A.width,n.height=A.height;var i=A.getContext("2d"),o=n.getContext("2d");if(o)if(!this.options.allowTaint&&i)o.putImageData(i.getImageData(0,0,A.width,A.height),0,0);else{var s=(e=A.getContext("webgl2"))!==null&&e!==void 0?e:A.getContext("webgl");if(s){var a=s.getContextAttributes();(a==null?void 0:a.preserveDrawingBuffer)===!1&&this.context.logger.warn("Unable to clone WebGL context as it has preserveDrawingBuffer=false",A)}o.drawImage(A,0,0)}return n}catch{this.context.logger.info("Unable to clone canvas as it is tainted",A)}return n},t.prototype.createVideoClone=function(A){var e=A.ownerDocument.createElement("canvas");e.width=A.offsetWidth,e.height=A.offsetHeight;var r=e.getContext("2d");try{return r&&(r.drawImage(A,0,0,e.width,e.height),this.options.allowTaint||r.getImageData(0,0,e.width,e.height)),e}catch{this.context.logger.info("Unable to clone video as it is tainted",A)}var n=A.ownerDocument.createElement("canvas");return n.width=A.offsetWidth,n.height=A.offsetHeight,n},t.prototype.appendChildNode=function(A,e,r){(!ir(e)||!CU(e)&&!e.hasAttribute(eh)&&(typeof this.options.ignoreElements!="function"||!this.options.ignoreElements(e)))&&(!this.options.copyStyles||!ir(e)||!ql(e))&&A.appendChild(this.cloneNode(e,r))},t.prototype.cloneChildNodes=function(A,e,r){for(var n=this,i=A.shadowRoot?A.shadowRoot.firstChild:A.firstChild;i;i=i.nextSibling)if(ir(i)&&zf(i)&&typeof i.assignedNodes=="function"){var o=i.assignedNodes();o.length&&o.forEach(function(s){return n.appendChildNode(e,s,r)})}else this.appendChildNode(e,i,r)},t.prototype.cloneNode=function(A,e){if(Jf(A))return document.createTextNode(A.data);if(!A.ownerDocument)return A.cloneNode(!1);var r=A.ownerDocument.defaultView;if(r&&ir(A)&&(ca(A)||bi(A))){var n=this.createElementClone(A);n.style.transitionProperty="none";var i=r.getComputedStyle(A),o=r.getComputedStyle(A,":before"),s=r.getComputedStyle(A,":after");this.referenceElement===A&&ca(n)&&(this.clonedReferenceElement=n),Ja(n)&&LU(n);var a=this.counters.parse(new Ll(this.context,i)),c=this.resolvePseudoContent(A,n,o,Zr.BEFORE);Zl(A)&&(e=!0),Yl(A)||this.cloneChildNodes(A,n,e),c&&n.insertBefore(c,n.firstChild);var l=this.resolvePseudoContent(A,n,s,Zr.AFTER);return l&&n.appendChild(l),this.counters.pop(a),(i&&(this.options.copyStyles||bi(A))&&!Zf(A)||e)&&Fs(i,n),(A.scrollTop!==0||A.scrollLeft!==0)&&this.scrolledElements.push([n,A.scrollLeft,A.scrollTop]),(Ri(A)||Di(A))&&(Ri(n)||Di(n))&&(n.value=A.value),n}return A.cloneNode(!1)},t.prototype.resolvePseudoContent=function(A,e,r,n){var i=this;if(r){var o=r.content,s=e.ownerDocument;if(!(!s||!o||o==="none"||o==="-moz-alt-content"||r.display==="none")){this.counters.parse(new Ll(this.context,r));var a=new BQ(this.context,r),c=s.createElement("html2canvaspseudoelement");Fs(r,c),a.content.forEach(function(u){if(u.type===0)c.appendChild(s.createTextNode(u.value));else if(u.type===22){var f=s.createElement("img");f.src=u.value,f.style.opacity="1",c.appendChild(f)}else if(u.type===18){if(u.name==="attr"){var E=u.values.filter(UA);E.length&&c.appendChild(s.createTextNode(A.getAttribute(E[0].value)||""))}else if(u.name==="counter"){var C=u.values.filter(ar),I=C[0],y=C[1];if(I&&UA(I)){var p=i.counters.getCounterValue(I.value),U=y&&UA(y)?ia.parse(i.context,y.value):3;c.appendChild(s.createTextNode(on(p,U,!1)))}}else if(u.name==="counters"){var O=u.values.filter(ar),I=O[0],B=O[1],y=O[2];if(I&&UA(I)){var b=i.counters.getCounterValues(I.value),Q=y&&UA(y)?ia.parse(i.context,y.value):3,R=B&&B.type===0?B.value:"",g=b.map(function(M){return on(M,Q,!1)}).join(R);c.appendChild(s.createTextNode(g))}}}else if(u.type===20)switch(u.value){case"open-quote":c.appendChild(s.createTextNode(Hl(a.quotes,i.quoteDepth++,!0)));break;case"close-quote":c.appendChild(s.createTextNode(Hl(a.quotes,--i.quoteDepth,!1)));break;default:c.appendChild(s.createTextNode(u.value))}}),c.className=ua+" "+da;var l=n===Zr.BEFORE?" "+ua:" "+da;return bi(e)?e.className.baseValue+=l:e.className+=l,c}}},t.destroy=function(A){return A.parentNode?(A.parentNode.removeChild(A),!0):!1},t}(),Zr;(function(t){t[t.BEFORE=0]="BEFORE",t[t.AFTER=1]="AFTER"})(Zr||(Zr={}));var QU=function(t,A){var e=t.createElement("iframe");return e.className="html2canvas-container",e.style.visibility="hidden",e.style.position="fixed",e.style.left="-10000px",e.style.top="0px",e.style.border="0",e.width=A.width.toString(),e.height=A.height.toString(),e.scrolling="no",e.setAttribute(eh,"true"),t.body.appendChild(e),e},UU=function(t){return new Promise(function(A){if(t.complete){A();return}if(!t.src){A();return}t.onload=A,t.onerror=A})},FU=function(t){return Promise.all([].slice.call(t.images,0).map(UU))},SU=function(t){return new Promise(function(A,e){var r=t.contentWindow;if(!r)return e("No window assigned for iframe");var n=r.document;r.onload=t.onload=function(){r.onload=t.onload=null;var i=setInterval(function(){n.body.childNodes.length>0&&n.readyState==="complete"&&(clearInterval(i),A(t))},50)}})},IU=["all","d","content"],Fs=function(t,A){for(var e=t.length-1;e>=0;e--){var r=t.item(e);IU.indexOf(r)===-1&&A.style.setProperty(r,t.getPropertyValue(r))}return A},_U=function(t){var A="";return t&&(A+="<!DOCTYPE ",t.name&&(A+=t.name),t.internalSubset&&(A+=t.internalSubset),t.publicId&&(A+='"'+t.publicId+'"'),t.systemId&&(A+='"'+t.systemId+'"'),A+=">"),A},OU=function(t,A,e){t&&t.defaultView&&(A!==t.defaultView.pageXOffset||e!==t.defaultView.pageYOffset)&&t.defaultView.scrollTo(A,e)},xU=function(t){var A=t[0],e=t[1],r=t[2];A.scrollLeft=e,A.scrollTop=r},TU=":before",HU=":after",ua="___html2canvas___pseudoelement_before",da="___html2canvas___pseudoelement_after",iu=`{
    content: "" !important;
    display: none !important;
}`,LU=function(t){RU(t,"."+ua+TU+iu+`
         .`+da+HU+iu)},RU=function(t,A){var e=t.ownerDocument;if(e){var r=e.createElement("style");r.textContent=A,t.appendChild(r)}},th=function(){function t(){}return t.getOrigin=function(A){var e=t._link;return e?(e.href=A,e.href=e.href,e.protocol+e.hostname+e.port):"about:blank"},t.isSameOrigin=function(A){return t.getOrigin(A)===t._origin},t.setContext=function(A){t._link=A.document.createElement("a"),t._origin=t.getOrigin(A.location.href)},t._origin="about:blank",t}(),DU=function(){function t(A,e){this.context=A,this._options=e,this._cache={}}return t.prototype.addImage=function(A){var e=Promise.resolve();return this.has(A)||(Is(A)||PU(A))&&(this._cache[A]=this.loadImage(A)).catch(function(){}),e},t.prototype.match=function(A){return this._cache[A]},t.prototype.loadImage=function(A){return ae(this,void 0,void 0,function(){var e,r,n,i,o=this;return te(this,function(s){switch(s.label){case 0:return e=th.isSameOrigin(A),r=!Ss(A)&&this._options.useCORS===!0&&JA.SUPPORT_CORS_IMAGES&&!e,n=!Ss(A)&&!e&&!Is(A)&&typeof this._options.proxy=="string"&&JA.SUPPORT_CORS_XHR&&!r,!e&&this._options.allowTaint===!1&&!Ss(A)&&!Is(A)&&!n&&!r?[2]:(i=A,n?[4,this.proxy(i)]:[3,2]);case 1:i=s.sent(),s.label=2;case 2:return this.context.logger.debug("Added image "+A.substring(0,256)),[4,new Promise(function(a,c){var l=new Image;l.onload=function(){return a(l)},l.onerror=c,(VU(i)||r)&&(l.crossOrigin="anonymous"),l.src=i,l.complete===!0&&setTimeout(function(){return a(l)},500),o._options.imageTimeout>0&&setTimeout(function(){return c("Timed out ("+o._options.imageTimeout+"ms) loading image")},o._options.imageTimeout)})];case 3:return[2,s.sent()]}})})},t.prototype.has=function(A){return typeof this._cache[A]<"u"},t.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},t.prototype.proxy=function(A){var e=this,r=this._options.proxy;if(!r)throw new Error("No proxy defined");var n=A.substring(0,256);return new Promise(function(i,o){var s=JA.SUPPORT_RESPONSE_TYPE?"blob":"text",a=new XMLHttpRequest;a.onload=function(){if(a.status===200)if(s==="text")i(a.response);else{var u=new FileReader;u.addEventListener("load",function(){return i(u.result)},!1),u.addEventListener("error",function(f){return o(f)},!1),u.readAsDataURL(a.response)}else o("Failed to proxy resource "+n+" with status code "+a.status)},a.onerror=o;var c=r.indexOf("?")>-1?"&":"?";if(a.open("GET",""+r+c+"url="+encodeURIComponent(A)+"&responseType="+s),s!=="text"&&a instanceof XMLHttpRequest&&(a.responseType=s),e._options.imageTimeout){var l=e._options.imageTimeout;a.timeout=l,a.ontimeout=function(){return o("Timed out ("+l+"ms) proxying "+n)}}a.send()})},t}(),kU=/^data:image\/svg\+xml/i,NU=/^data:image\/.*;base64,/i,MU=/^data:image\/.*/i,PU=function(t){return JA.SUPPORT_SVG_DRAWING||!KU(t)},Ss=function(t){return MU.test(t)},VU=function(t){return NU.test(t)},Is=function(t){return t.substr(0,4)==="blob"},KU=function(t){return t.substr(-3).toLowerCase()==="svg"||kU.test(t)},eA=function(){function t(A,e){this.type=0,this.x=A,this.y=e}return t.prototype.add=function(A,e){return new t(this.x+A,this.y+e)},t}(),Ar=function(t,A,e){return new eA(t.x+(A.x-t.x)*e,t.y+(A.y-t.y)*e)},pi=function(){function t(A,e,r,n){this.type=1,this.start=A,this.startControl=e,this.endControl=r,this.end=n}return t.prototype.subdivide=function(A,e){var r=Ar(this.start,this.startControl,A),n=Ar(this.startControl,this.endControl,A),i=Ar(this.endControl,this.end,A),o=Ar(r,n,A),s=Ar(n,i,A),a=Ar(o,s,A);return e?new t(this.start,r,o,a):new t(a,s,i,this.end)},t.prototype.add=function(A,e){return new t(this.start.add(A,e),this.startControl.add(A,e),this.endControl.add(A,e),this.end.add(A,e))},t.prototype.reverse=function(){return new t(this.end,this.endControl,this.startControl,this.start)},t}(),we=function(t){return t.type===1},GU=function(){function t(A){var e=A.styles,r=A.bounds,n=Kr(e.borderTopLeftRadius,r.width,r.height),i=n[0],o=n[1],s=Kr(e.borderTopRightRadius,r.width,r.height),a=s[0],c=s[1],l=Kr(e.borderBottomRightRadius,r.width,r.height),u=l[0],f=l[1],E=Kr(e.borderBottomLeftRadius,r.width,r.height),C=E[0],I=E[1],y=[];y.push((i+a)/r.width),y.push((C+u)/r.width),y.push((o+I)/r.height),y.push((c+f)/r.height);var p=Math.max.apply(Math,y);p>1&&(i/=p,o/=p,a/=p,c/=p,u/=p,f/=p,C/=p,I/=p);var U=r.width-a,O=r.height-f,B=r.width-u,b=r.height-I,Q=e.borderTopWidth,R=e.borderRightWidth,g=e.borderBottomWidth,T=e.borderLeftWidth,V=_A(e.paddingTop,A.bounds.width),M=_A(e.paddingRight,A.bounds.width),k=_A(e.paddingBottom,A.bounds.width),d=_A(e.paddingLeft,A.bounds.width);this.topLeftBorderDoubleOuterBox=i>0||o>0?xA(r.left+T/3,r.top+Q/3,i-T/3,o-Q/3,yA.TOP_LEFT):new eA(r.left+T/3,r.top+Q/3),this.topRightBorderDoubleOuterBox=i>0||o>0?xA(r.left+U,r.top+Q/3,a-R/3,c-Q/3,yA.TOP_RIGHT):new eA(r.left+r.width-R/3,r.top+Q/3),this.bottomRightBorderDoubleOuterBox=u>0||f>0?xA(r.left+B,r.top+O,u-R/3,f-g/3,yA.BOTTOM_RIGHT):new eA(r.left+r.width-R/3,r.top+r.height-g/3),this.bottomLeftBorderDoubleOuterBox=C>0||I>0?xA(r.left+T/3,r.top+b,C-T/3,I-g/3,yA.BOTTOM_LEFT):new eA(r.left+T/3,r.top+r.height-g/3),this.topLeftBorderDoubleInnerBox=i>0||o>0?xA(r.left+T*2/3,r.top+Q*2/3,i-T*2/3,o-Q*2/3,yA.TOP_LEFT):new eA(r.left+T*2/3,r.top+Q*2/3),this.topRightBorderDoubleInnerBox=i>0||o>0?xA(r.left+U,r.top+Q*2/3,a-R*2/3,c-Q*2/3,yA.TOP_RIGHT):new eA(r.left+r.width-R*2/3,r.top+Q*2/3),this.bottomRightBorderDoubleInnerBox=u>0||f>0?xA(r.left+B,r.top+O,u-R*2/3,f-g*2/3,yA.BOTTOM_RIGHT):new eA(r.left+r.width-R*2/3,r.top+r.height-g*2/3),this.bottomLeftBorderDoubleInnerBox=C>0||I>0?xA(r.left+T*2/3,r.top+b,C-T*2/3,I-g*2/3,yA.BOTTOM_LEFT):new eA(r.left+T*2/3,r.top+r.height-g*2/3),this.topLeftBorderStroke=i>0||o>0?xA(r.left+T/2,r.top+Q/2,i-T/2,o-Q/2,yA.TOP_LEFT):new eA(r.left+T/2,r.top+Q/2),this.topRightBorderStroke=i>0||o>0?xA(r.left+U,r.top+Q/2,a-R/2,c-Q/2,yA.TOP_RIGHT):new eA(r.left+r.width-R/2,r.top+Q/2),this.bottomRightBorderStroke=u>0||f>0?xA(r.left+B,r.top+O,u-R/2,f-g/2,yA.BOTTOM_RIGHT):new eA(r.left+r.width-R/2,r.top+r.height-g/2),this.bottomLeftBorderStroke=C>0||I>0?xA(r.left+T/2,r.top+b,C-T/2,I-g/2,yA.BOTTOM_LEFT):new eA(r.left+T/2,r.top+r.height-g/2),this.topLeftBorderBox=i>0||o>0?xA(r.left,r.top,i,o,yA.TOP_LEFT):new eA(r.left,r.top),this.topRightBorderBox=a>0||c>0?xA(r.left+U,r.top,a,c,yA.TOP_RIGHT):new eA(r.left+r.width,r.top),this.bottomRightBorderBox=u>0||f>0?xA(r.left+B,r.top+O,u,f,yA.BOTTOM_RIGHT):new eA(r.left+r.width,r.top+r.height),this.bottomLeftBorderBox=C>0||I>0?xA(r.left,r.top+b,C,I,yA.BOTTOM_LEFT):new eA(r.left,r.top+r.height),this.topLeftPaddingBox=i>0||o>0?xA(r.left+T,r.top+Q,Math.max(0,i-T),Math.max(0,o-Q),yA.TOP_LEFT):new eA(r.left+T,r.top+Q),this.topRightPaddingBox=a>0||c>0?xA(r.left+Math.min(U,r.width-R),r.top+Q,U>r.width+R?0:Math.max(0,a-R),Math.max(0,c-Q),yA.TOP_RIGHT):new eA(r.left+r.width-R,r.top+Q),this.bottomRightPaddingBox=u>0||f>0?xA(r.left+Math.min(B,r.width-T),r.top+Math.min(O,r.height-g),Math.max(0,u-R),Math.max(0,f-g),yA.BOTTOM_RIGHT):new eA(r.left+r.width-R,r.top+r.height-g),this.bottomLeftPaddingBox=C>0||I>0?xA(r.left+T,r.top+Math.min(b,r.height-g),Math.max(0,C-T),Math.max(0,I-g),yA.BOTTOM_LEFT):new eA(r.left+T,r.top+r.height-g),this.topLeftContentBox=i>0||o>0?xA(r.left+T+d,r.top+Q+V,Math.max(0,i-(T+d)),Math.max(0,o-(Q+V)),yA.TOP_LEFT):new eA(r.left+T+d,r.top+Q+V),this.topRightContentBox=a>0||c>0?xA(r.left+Math.min(U,r.width+T+d),r.top+Q+V,U>r.width+T+d?0:a-T+d,c-(Q+V),yA.TOP_RIGHT):new eA(r.left+r.width-(R+M),r.top+Q+V),this.bottomRightContentBox=u>0||f>0?xA(r.left+Math.min(B,r.width-(T+d)),r.top+Math.min(O,r.height+Q+V),Math.max(0,u-(R+M)),f-(g+k),yA.BOTTOM_RIGHT):new eA(r.left+r.width-(R+M),r.top+r.height-(g+k)),this.bottomLeftContentBox=C>0||I>0?xA(r.left+T+d,r.top+b,Math.max(0,C-(T+d)),I-(g+k),yA.BOTTOM_LEFT):new eA(r.left+T+d,r.top+r.height-(g+k))}return t}(),yA;(function(t){t[t.TOP_LEFT=0]="TOP_LEFT",t[t.TOP_RIGHT=1]="TOP_RIGHT",t[t.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",t[t.BOTTOM_LEFT=3]="BOTTOM_LEFT"})(yA||(yA={}));var xA=function(t,A,e,r,n){var i=4*((Math.sqrt(2)-1)/3),o=e*i,s=r*i,a=t+e,c=A+r;switch(n){case yA.TOP_LEFT:return new pi(new eA(t,c),new eA(t,c-s),new eA(a-o,A),new eA(a,A));case yA.TOP_RIGHT:return new pi(new eA(t,A),new eA(t+o,A),new eA(a,c-s),new eA(a,c));case yA.BOTTOM_RIGHT:return new pi(new eA(a,A),new eA(a,A+s),new eA(t+o,c),new eA(t,c));case yA.BOTTOM_LEFT:default:return new pi(new eA(a,c),new eA(a-o,c),new eA(t,A+s),new eA(t,A))}},ki=function(t){return[t.topLeftBorderBox,t.topRightBorderBox,t.bottomRightBorderBox,t.bottomLeftBorderBox]},$U=function(t){return[t.topLeftContentBox,t.topRightContentBox,t.bottomRightContentBox,t.bottomLeftContentBox]},Ni=function(t){return[t.topLeftPaddingBox,t.topRightPaddingBox,t.bottomRightPaddingBox,t.bottomLeftPaddingBox]},WU=function(){function t(A,e,r){this.offsetX=A,this.offsetY=e,this.matrix=r,this.type=0,this.target=6}return t}(),gi=function(){function t(A,e){this.path=A,this.target=e,this.type=1}return t}(),XU=function(){function t(A){this.opacity=A,this.type=2,this.target=6}return t}(),jU=function(t){return t.type===0},rh=function(t){return t.type===1},JU=function(t){return t.type===2},ou=function(t,A){return t.length===A.length?t.some(function(e,r){return e===A[r]}):!1},YU=function(t,A,e,r,n){return t.map(function(i,o){switch(o){case 0:return i.add(A,e);case 1:return i.add(A+r,e);case 2:return i.add(A+r,e+n);case 3:return i.add(A,e+n)}return i})},nh=function(){function t(A){this.element=A,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]}return t}(),ih=function(){function t(A,e){if(this.container=A,this.parent=e,this.effects=[],this.curves=new GU(this.container),this.container.styles.opacity<1&&this.effects.push(new XU(this.container.styles.opacity)),this.container.styles.transform!==null){var r=this.container.bounds.left+this.container.styles.transformOrigin[0].number,n=this.container.bounds.top+this.container.styles.transformOrigin[1].number,i=this.container.styles.transform;this.effects.push(new WU(r,n,i))}if(this.container.styles.overflowX!==0){var o=ki(this.curves),s=Ni(this.curves);ou(o,s)?this.effects.push(new gi(o,6)):(this.effects.push(new gi(o,2)),this.effects.push(new gi(s,4)))}}return t.prototype.getEffects=function(A){for(var e=[2,3].indexOf(this.container.styles.position)===-1,r=this.parent,n=this.effects.slice(0);r;){var i=r.effects.filter(function(a){return!rh(a)});if(e||r.container.styles.position!==0||!r.parent){if(n.unshift.apply(n,i),e=[2,3].indexOf(r.container.styles.position)===-1,r.container.styles.overflowX!==0){var o=ki(r.curves),s=Ni(r.curves);ou(o,s)||n.unshift(new gi(s,6))}}else n.unshift.apply(n,i);r=r.parent}return n.filter(function(a){return PA(a.target,A)})},t}(),fa=function(t,A,e,r){t.container.elements.forEach(function(n){var i=PA(n.flags,4),o=PA(n.flags,2),s=new ih(n,t);PA(n.styles.display,2048)&&r.push(s);var a=PA(n.flags,8)?[]:r;if(i||o){var c=i||n.styles.isPositioned()?e:A,l=new nh(s);if(n.styles.isPositioned()||n.styles.opacity<1||n.styles.isTransformed()){var u=n.styles.zIndex.order;if(u<0){var f=0;c.negativeZIndex.some(function(C,I){return u>C.element.container.styles.zIndex.order?(f=I,!1):f>0}),c.negativeZIndex.splice(f,0,l)}else if(u>0){var E=0;c.positiveZIndex.some(function(C,I){return u>=C.element.container.styles.zIndex.order?(E=I+1,!1):E>0}),c.positiveZIndex.splice(E,0,l)}else c.zeroOrAutoZIndexOrTransformedOrOpacity.push(l)}else n.styles.isFloating()?c.nonPositionedFloats.push(l):c.nonPositionedInlineLevel.push(l);fa(s,l,i?l:e,a)}else n.styles.isInlineLevel()?A.inlineLevel.push(s):A.nonInlineLevel.push(s),fa(s,A,e,a);PA(n.flags,8)&&oh(n,a)})},oh=function(t,A){for(var e=t instanceof aa?t.start:1,r=t instanceof aa?t.reversed:!1,n=0;n<A.length;n++){var i=A[n];i.container instanceof Kf&&typeof i.container.value=="number"&&i.container.value!==0&&(e=i.container.value),i.listValue=on(e,i.container.styles.listStyleType,!0),e+=r?-1:1}},qU=function(t){var A=new ih(t,null),e=new nh(A),r=[];return fa(A,e,e,r),oh(A.container,r),e},su=function(t,A){switch(A){case 0:return Ee(t.topLeftBorderBox,t.topLeftPaddingBox,t.topRightBorderBox,t.topRightPaddingBox);case 1:return Ee(t.topRightBorderBox,t.topRightPaddingBox,t.bottomRightBorderBox,t.bottomRightPaddingBox);case 2:return Ee(t.bottomRightBorderBox,t.bottomRightPaddingBox,t.bottomLeftBorderBox,t.bottomLeftPaddingBox);case 3:default:return Ee(t.bottomLeftBorderBox,t.bottomLeftPaddingBox,t.topLeftBorderBox,t.topLeftPaddingBox)}},ZU=function(t,A){switch(A){case 0:return Ee(t.topLeftBorderBox,t.topLeftBorderDoubleOuterBox,t.topRightBorderBox,t.topRightBorderDoubleOuterBox);case 1:return Ee(t.topRightBorderBox,t.topRightBorderDoubleOuterBox,t.bottomRightBorderBox,t.bottomRightBorderDoubleOuterBox);case 2:return Ee(t.bottomRightBorderBox,t.bottomRightBorderDoubleOuterBox,t.bottomLeftBorderBox,t.bottomLeftBorderDoubleOuterBox);case 3:default:return Ee(t.bottomLeftBorderBox,t.bottomLeftBorderDoubleOuterBox,t.topLeftBorderBox,t.topLeftBorderDoubleOuterBox)}},zU=function(t,A){switch(A){case 0:return Ee(t.topLeftBorderDoubleInnerBox,t.topLeftPaddingBox,t.topRightBorderDoubleInnerBox,t.topRightPaddingBox);case 1:return Ee(t.topRightBorderDoubleInnerBox,t.topRightPaddingBox,t.bottomRightBorderDoubleInnerBox,t.bottomRightPaddingBox);case 2:return Ee(t.bottomRightBorderDoubleInnerBox,t.bottomRightPaddingBox,t.bottomLeftBorderDoubleInnerBox,t.bottomLeftPaddingBox);case 3:default:return Ee(t.bottomLeftBorderDoubleInnerBox,t.bottomLeftPaddingBox,t.topLeftBorderDoubleInnerBox,t.topLeftPaddingBox)}},AF=function(t,A){switch(A){case 0:return Bi(t.topLeftBorderStroke,t.topRightBorderStroke);case 1:return Bi(t.topRightBorderStroke,t.bottomRightBorderStroke);case 2:return Bi(t.bottomRightBorderStroke,t.bottomLeftBorderStroke);case 3:default:return Bi(t.bottomLeftBorderStroke,t.topLeftBorderStroke)}},Bi=function(t,A){var e=[];return we(t)?e.push(t.subdivide(.5,!1)):e.push(t),we(A)?e.push(A.subdivide(.5,!0)):e.push(A),e},Ee=function(t,A,e,r){var n=[];return we(t)?n.push(t.subdivide(.5,!1)):n.push(t),we(e)?n.push(e.subdivide(.5,!0)):n.push(e),we(r)?n.push(r.subdivide(.5,!0).reverse()):n.push(r),we(A)?n.push(A.subdivide(.5,!1).reverse()):n.push(A),n},sh=function(t){var A=t.bounds,e=t.styles;return A.add(e.borderLeftWidth,e.borderTopWidth,-(e.borderRightWidth+e.borderLeftWidth),-(e.borderTopWidth+e.borderBottomWidth))},Mi=function(t){var A=t.styles,e=t.bounds,r=_A(A.paddingLeft,e.width),n=_A(A.paddingRight,e.width),i=_A(A.paddingTop,e.width),o=_A(A.paddingBottom,e.width);return e.add(r+A.borderLeftWidth,i+A.borderTopWidth,-(A.borderRightWidth+A.borderLeftWidth+r+n),-(A.borderTopWidth+A.borderBottomWidth+i+o))},eF=function(t,A){return t===0?A.bounds:t===2?Mi(A):sh(A)},tF=function(t,A){return t===0?A.bounds:t===2?Mi(A):sh(A)},_s=function(t,A,e){var r=eF(rr(t.styles.backgroundOrigin,A),t),n=tF(rr(t.styles.backgroundClip,A),t),i=rF(rr(t.styles.backgroundSize,A),e,r),o=i[0],s=i[1],a=Kr(rr(t.styles.backgroundPosition,A),r.width-o,r.height-s),c=nF(rr(t.styles.backgroundRepeat,A),a,i,r,n),l=Math.round(r.left+a[0]),u=Math.round(r.top+a[1]);return[c,l,u,o,s]},er=function(t){return UA(t)&&t.value===sr.AUTO},vi=function(t){return typeof t=="number"},rF=function(t,A,e){var r=A[0],n=A[1],i=A[2],o=t[0],s=t[1];if(!o)return[0,0];if(MA(o)&&s&&MA(s))return[_A(o,e.width),_A(s,e.height)];var a=vi(i);if(UA(o)&&(o.value===sr.CONTAIN||o.value===sr.COVER)){if(vi(i)){var c=e.width/e.height;return c<i!=(o.value===sr.COVER)?[e.width,e.width/i]:[e.height*i,e.height]}return[e.width,e.height]}var l=vi(r),u=vi(n),f=l||u;if(er(o)&&(!s||er(s))){if(l&&u)return[r,n];if(!a&&!f)return[e.width,e.height];if(f&&a){var E=l?r:n*i,C=u?n:r/i;return[E,C]}var I=l?r:e.width,y=u?n:e.height;return[I,y]}if(a){var p=0,U=0;return MA(o)?p=_A(o,e.width):MA(s)&&(U=_A(s,e.height)),er(o)?p=U*i:(!s||er(s))&&(U=p/i),[p,U]}var O=null,B=null;if(MA(o)?O=_A(o,e.width):s&&MA(s)&&(B=_A(s,e.height)),O!==null&&(!s||er(s))&&(B=l&&u?O/r*n:e.height),B!==null&&er(o)&&(O=l&&u?B/n*r:e.width),O!==null&&B!==null)return[O,B];throw new Error("Unable to calculate background-size for element")},rr=function(t,A){var e=t[A];return typeof e>"u"?t[0]:e},nF=function(t,A,e,r,n){var i=A[0],o=A[1],s=e[0],a=e[1];switch(t){case 2:return[new eA(Math.round(r.left),Math.round(r.top+o)),new eA(Math.round(r.left+r.width),Math.round(r.top+o)),new eA(Math.round(r.left+r.width),Math.round(a+r.top+o)),new eA(Math.round(r.left),Math.round(a+r.top+o))];case 3:return[new eA(Math.round(r.left+i),Math.round(r.top)),new eA(Math.round(r.left+i+s),Math.round(r.top)),new eA(Math.round(r.left+i+s),Math.round(r.height+r.top)),new eA(Math.round(r.left+i),Math.round(r.height+r.top))];case 1:return[new eA(Math.round(r.left+i),Math.round(r.top+o)),new eA(Math.round(r.left+i+s),Math.round(r.top+o)),new eA(Math.round(r.left+i+s),Math.round(r.top+o+a)),new eA(Math.round(r.left+i),Math.round(r.top+o+a))];default:return[new eA(Math.round(n.left),Math.round(n.top)),new eA(Math.round(n.left+n.width),Math.round(n.top)),new eA(Math.round(n.left+n.width),Math.round(n.height+n.top)),new eA(Math.round(n.left),Math.round(n.height+n.top))]}},iF="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",au="Hidden Text",oF=function(){function t(A){this._data={},this._document=A}return t.prototype.parseMetrics=function(A,e){var r=this._document.createElement("div"),n=this._document.createElement("img"),i=this._document.createElement("span"),o=this._document.body;r.style.visibility="hidden",r.style.fontFamily=A,r.style.fontSize=e,r.style.margin="0",r.style.padding="0",r.style.whiteSpace="nowrap",o.appendChild(r),n.src=iF,n.width=1,n.height=1,n.style.margin="0",n.style.padding="0",n.style.verticalAlign="baseline",i.style.fontFamily=A,i.style.fontSize=e,i.style.margin="0",i.style.padding="0",i.appendChild(this._document.createTextNode(au)),r.appendChild(i),r.appendChild(n);var s=n.offsetTop-i.offsetTop+2;r.removeChild(i),r.appendChild(this._document.createTextNode(au)),r.style.lineHeight="normal",n.style.verticalAlign="super";var a=n.offsetTop-r.offsetTop+2;return o.removeChild(r),{baseline:s,middle:a}},t.prototype.getMetrics=function(A,e){var r=A+" "+e;return typeof this._data[r]>"u"&&(this._data[r]=this.parseMetrics(A,e)),this._data[r]},t}(),ah=function(){function t(A,e){this.context=A,this.options=e}return t}(),sF=1e4,aF=function(t){Oe(A,t);function A(e,r){var n=t.call(this,e,r)||this;return n._activeEffects=[],n.canvas=r.canvas?r.canvas:document.createElement("canvas"),n.ctx=n.canvas.getContext("2d"),r.canvas||(n.canvas.width=Math.floor(r.width*r.scale),n.canvas.height=Math.floor(r.height*r.scale),n.canvas.style.width=r.width+"px",n.canvas.style.height=r.height+"px"),n.fontMetrics=new oF(document),n.ctx.scale(n.options.scale,n.options.scale),n.ctx.translate(-r.x,-r.y),n.ctx.textBaseline="bottom",n._activeEffects=[],n.context.logger.debug("Canvas renderer initialized ("+r.width+"x"+r.height+") with scale "+r.scale),n}return A.prototype.applyEffects=function(e){for(var r=this;this._activeEffects.length;)this.popEffect();e.forEach(function(n){return r.applyEffect(n)})},A.prototype.applyEffect=function(e){this.ctx.save(),JU(e)&&(this.ctx.globalAlpha=e.opacity),jU(e)&&(this.ctx.translate(e.offsetX,e.offsetY),this.ctx.transform(e.matrix[0],e.matrix[1],e.matrix[2],e.matrix[3],e.matrix[4],e.matrix[5]),this.ctx.translate(-e.offsetX,-e.offsetY)),rh(e)&&(this.path(e.path),this.ctx.clip()),this._activeEffects.push(e)},A.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},A.prototype.renderStack=function(e){return ae(this,void 0,void 0,function(){var r;return te(this,function(n){switch(n.label){case 0:return r=e.element.container.styles,r.isVisible()?[4,this.renderStackContent(e)]:[3,2];case 1:n.sent(),n.label=2;case 2:return[2]}})})},A.prototype.renderNode=function(e){return ae(this,void 0,void 0,function(){return te(this,function(r){switch(r.label){case 0:if(PA(e.container.flags,16))debugger;return e.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(e)]:[3,3];case 1:return r.sent(),[4,this.renderNodeContent(e)];case 2:r.sent(),r.label=3;case 3:return[2]}})})},A.prototype.renderTextWithLetterSpacing=function(e,r,n){var i=this;if(r===0)this.ctx.fillText(e.text,e.bounds.left,e.bounds.top+n);else{var o=Xa(e.text);o.reduce(function(s,a){return i.ctx.fillText(a,s,e.bounds.top+n),s+i.ctx.measureText(a).width},e.bounds.left)}},A.prototype.createFontStyle=function(e){var r=e.fontVariant.filter(function(o){return o==="normal"||o==="small-caps"}).join(""),n=fF(e.fontFamily).join(", "),i=xn(e.fontSize)?""+e.fontSize.number+e.fontSize.unit:e.fontSize.number+"px";return[[e.fontStyle,r,e.fontWeight,i,n].join(" "),n,i]},A.prototype.renderTextNode=function(e,r){return ae(this,void 0,void 0,function(){var n,i,o,s,a,c,l,u,f=this;return te(this,function(E){return n=this.createFontStyle(r),i=n[0],o=n[1],s=n[2],this.ctx.font=i,this.ctx.direction=r.direction===1?"rtl":"ltr",this.ctx.textAlign="left",this.ctx.textBaseline="alphabetic",a=this.fontMetrics.getMetrics(o,s),c=a.baseline,l=a.middle,u=r.paintOrder,e.textBounds.forEach(function(C){u.forEach(function(I){switch(I){case 0:f.ctx.fillStyle=GA(r.color),f.renderTextWithLetterSpacing(C,r.letterSpacing,c);var y=r.textShadow;y.length&&C.text.trim().length&&(y.slice(0).reverse().forEach(function(p){f.ctx.shadowColor=GA(p.color),f.ctx.shadowOffsetX=p.offsetX.number*f.options.scale,f.ctx.shadowOffsetY=p.offsetY.number*f.options.scale,f.ctx.shadowBlur=p.blur.number,f.renderTextWithLetterSpacing(C,r.letterSpacing,c)}),f.ctx.shadowColor="",f.ctx.shadowOffsetX=0,f.ctx.shadowOffsetY=0,f.ctx.shadowBlur=0),r.textDecorationLine.length&&(f.ctx.fillStyle=GA(r.textDecorationColor||r.color),r.textDecorationLine.forEach(function(p){switch(p){case 1:f.ctx.fillRect(C.bounds.left,Math.round(C.bounds.top+c),C.bounds.width,1);break;case 2:f.ctx.fillRect(C.bounds.left,Math.round(C.bounds.top),C.bounds.width,1);break;case 3:f.ctx.fillRect(C.bounds.left,Math.ceil(C.bounds.top+l),C.bounds.width,1);break}}));break;case 1:r.webkitTextStrokeWidth&&C.text.trim().length&&(f.ctx.strokeStyle=GA(r.webkitTextStrokeColor),f.ctx.lineWidth=r.webkitTextStrokeWidth,f.ctx.lineJoin=window.chrome?"miter":"round",f.ctx.strokeText(C.text,C.bounds.left,C.bounds.top+c)),f.ctx.strokeStyle="",f.ctx.lineWidth=0,f.ctx.lineJoin="miter";break}})}),[2]})})},A.prototype.renderReplacedElement=function(e,r,n){if(n&&e.intrinsicWidth>0&&e.intrinsicHeight>0){var i=Mi(e),o=Ni(r);this.path(o),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(n,0,0,e.intrinsicWidth,e.intrinsicHeight,i.left,i.top,i.width,i.height),this.ctx.restore()}},A.prototype.renderNodeContent=function(e){return ae(this,void 0,void 0,function(){var r,n,i,o,s,a,U,U,c,l,u,f,B,E,C,b,I,y,p,U,O,B,b;return te(this,function(Q){switch(Q.label){case 0:this.applyEffects(e.getEffects(4)),r=e.container,n=e.curves,i=r.styles,o=0,s=r.textNodes,Q.label=1;case 1:return o<s.length?(a=s[o],[4,this.renderTextNode(a,i)]):[3,4];case 2:Q.sent(),Q.label=3;case 3:return o++,[3,1];case 4:if(!(r instanceof Mf))return[3,8];Q.label=5;case 5:return Q.trys.push([5,7,,8]),[4,this.context.cache.match(r.src)];case 6:return U=Q.sent(),this.renderReplacedElement(r,n,U),[3,8];case 7:return Q.sent(),this.context.logger.error("Error loading image "+r.src),[3,8];case 8:if(r instanceof Pf&&this.renderReplacedElement(r,n,r.canvas),!(r instanceof Vf))return[3,12];Q.label=9;case 9:return Q.trys.push([9,11,,12]),[4,this.context.cache.match(r.svg)];case 10:return U=Q.sent(),this.renderReplacedElement(r,n,U),[3,12];case 11:return Q.sent(),this.context.logger.error("Error loading svg "+r.svg.substring(0,255)),[3,12];case 12:return r instanceof Wf&&r.tree?(c=new A(this.context,{scale:this.options.scale,backgroundColor:r.backgroundColor,x:0,y:0,width:r.width,height:r.height}),[4,c.render(r.tree)]):[3,14];case 13:l=Q.sent(),r.width&&r.height&&this.ctx.drawImage(l,0,0,r.width,r.height,r.bounds.left,r.bounds.top,r.bounds.width,r.bounds.height),Q.label=14;case 14:if(r instanceof ja&&(u=Math.min(r.bounds.width,r.bounds.height),r.type===Hi?r.checked&&(this.ctx.save(),this.path([new eA(r.bounds.left+u*.39363,r.bounds.top+u*.79),new eA(r.bounds.left+u*.16,r.bounds.top+u*.5549),new eA(r.bounds.left+u*.27347,r.bounds.top+u*.44071),new eA(r.bounds.left+u*.39694,r.bounds.top+u*.5649),new eA(r.bounds.left+u*.72983,r.bounds.top+u*.23),new eA(r.bounds.left+u*.84,r.bounds.top+u*.34085),new eA(r.bounds.left+u*.39363,r.bounds.top+u*.79)]),this.ctx.fillStyle=GA(Jl),this.ctx.fill(),this.ctx.restore()):r.type===Li&&r.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(r.bounds.left+u/2,r.bounds.top+u/2,u/4,0,Math.PI*2,!0),this.ctx.fillStyle=GA(Jl),this.ctx.fill(),this.ctx.restore())),cF(r)&&r.value.length){switch(f=this.createFontStyle(i),B=f[0],E=f[1],C=this.fontMetrics.getMetrics(B,E).baseline,this.ctx.font=B,this.ctx.fillStyle=GA(i.color),this.ctx.textBaseline="alphabetic",this.ctx.textAlign=uF(r.styles.textAlign),b=Mi(r),I=0,r.styles.textAlign){case 1:I+=b.width/2;break;case 2:I+=b.width;break}y=b.add(I,0,0,-b.height/2+1),this.ctx.save(),this.path([new eA(b.left,b.top),new eA(b.left+b.width,b.top),new eA(b.left+b.width,b.top+b.height),new eA(b.left,b.top+b.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new qr(r.value,y),i.letterSpacing,C),this.ctx.restore(),this.ctx.textBaseline="alphabetic",this.ctx.textAlign="left"}if(!PA(r.styles.display,2048))return[3,20];if(r.styles.listStyleImage===null)return[3,19];if(p=r.styles.listStyleImage,p.type!==0)return[3,18];U=void 0,O=p.url,Q.label=15;case 15:return Q.trys.push([15,17,,18]),[4,this.context.cache.match(O)];case 16:return U=Q.sent(),this.ctx.drawImage(U,r.bounds.left-(U.width+10),r.bounds.top),[3,18];case 17:return Q.sent(),this.context.logger.error("Error loading list-style-image "+O),[3,18];case 18:return[3,20];case 19:e.listValue&&r.styles.listStyleType!==-1&&(B=this.createFontStyle(i)[0],this.ctx.font=B,this.ctx.fillStyle=GA(i.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",b=new ze(r.bounds.left,r.bounds.top+_A(r.styles.paddingTop,r.bounds.width),r.bounds.width,xl(i.lineHeight,i.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new qr(e.listValue,b),i.letterSpacing,xl(i.lineHeight,i.fontSize.number)/2+2),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),Q.label=20;case 20:return[2]}})})},A.prototype.renderStackContent=function(e){return ae(this,void 0,void 0,function(){var r,n,p,i,o,p,s,a,p,c,l,p,u,f,p,E,C,p,I,y,p;return te(this,function(U){switch(U.label){case 0:if(PA(e.element.container.flags,16))debugger;return[4,this.renderNodeBackgroundAndBorders(e.element)];case 1:U.sent(),r=0,n=e.negativeZIndex,U.label=2;case 2:return r<n.length?(p=n[r],[4,this.renderStack(p)]):[3,5];case 3:U.sent(),U.label=4;case 4:return r++,[3,2];case 5:return[4,this.renderNodeContent(e.element)];case 6:U.sent(),i=0,o=e.nonInlineLevel,U.label=7;case 7:return i<o.length?(p=o[i],[4,this.renderNode(p)]):[3,10];case 8:U.sent(),U.label=9;case 9:return i++,[3,7];case 10:s=0,a=e.nonPositionedFloats,U.label=11;case 11:return s<a.length?(p=a[s],[4,this.renderStack(p)]):[3,14];case 12:U.sent(),U.label=13;case 13:return s++,[3,11];case 14:c=0,l=e.nonPositionedInlineLevel,U.label=15;case 15:return c<l.length?(p=l[c],[4,this.renderStack(p)]):[3,18];case 16:U.sent(),U.label=17;case 17:return c++,[3,15];case 18:u=0,f=e.inlineLevel,U.label=19;case 19:return u<f.length?(p=f[u],[4,this.renderNode(p)]):[3,22];case 20:U.sent(),U.label=21;case 21:return u++,[3,19];case 22:E=0,C=e.zeroOrAutoZIndexOrTransformedOrOpacity,U.label=23;case 23:return E<C.length?(p=C[E],[4,this.renderStack(p)]):[3,26];case 24:U.sent(),U.label=25;case 25:return E++,[3,23];case 26:I=0,y=e.positiveZIndex,U.label=27;case 27:return I<y.length?(p=y[I],[4,this.renderStack(p)]):[3,30];case 28:U.sent(),U.label=29;case 29:return I++,[3,27];case 30:return[2]}})})},A.prototype.mask=function(e){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(e.slice(0).reverse()),this.ctx.closePath()},A.prototype.path=function(e){this.ctx.beginPath(),this.formatPath(e),this.ctx.closePath()},A.prototype.formatPath=function(e){var r=this;e.forEach(function(n,i){var o=we(n)?n.start:n;i===0?r.ctx.moveTo(o.x,o.y):r.ctx.lineTo(o.x,o.y),we(n)&&r.ctx.bezierCurveTo(n.startControl.x,n.startControl.y,n.endControl.x,n.endControl.y,n.end.x,n.end.y)})},A.prototype.renderRepeat=function(e,r,n,i){this.path(e),this.ctx.fillStyle=r,this.ctx.translate(n,i),this.ctx.fill(),this.ctx.translate(-n,-i)},A.prototype.resizeImage=function(e,r,n){var i;if(e.width===r&&e.height===n)return e;var o=(i=this.canvas.ownerDocument)!==null&&i!==void 0?i:document,s=o.createElement("canvas");s.width=Math.max(1,r),s.height=Math.max(1,n);var a=s.getContext("2d");return a.drawImage(e,0,0,e.width,e.height,0,0,r,n),s},A.prototype.renderBackgroundImage=function(e){return ae(this,void 0,void 0,function(){var r,n,i,o,s,a;return te(this,function(c){switch(c.label){case 0:r=e.styles.backgroundImage.length-1,n=function(l){var u,f,E,V,m,h,d,v,g,C,V,m,h,d,v,I,y,p,U,O,B,b,Q,R,g,T,V,M,k,d,v,L,m,h,w,_,x,N,P,Z,X,oA;return te(this,function(H){switch(H.label){case 0:if(l.type!==0)return[3,5];u=void 0,f=l.url,H.label=1;case 1:return H.trys.push([1,3,,4]),[4,i.context.cache.match(f)];case 2:return u=H.sent(),[3,4];case 3:return H.sent(),i.context.logger.error("Error loading background-image "+f),[3,4];case 4:return u&&(E=_s(e,r,[u.width,u.height,u.width/u.height]),V=E[0],m=E[1],h=E[2],d=E[3],v=E[4],g=i.ctx.createPattern(i.resizeImage(u,d,v),"repeat"),i.renderRepeat(V,g,m,h)),[3,6];case 5:jy(l)?(C=_s(e,r,[null,null,null]),V=C[0],m=C[1],h=C[2],d=C[3],v=C[4],I=Ky(l.angle,d,v),y=I[0],p=I[1],U=I[2],O=I[3],B=I[4],b=document.createElement("canvas"),b.width=d,b.height=v,Q=b.getContext("2d"),R=Q.createLinearGradient(p,O,U,B),_l(l.stops,y).forEach(function(sA){return R.addColorStop(sA.stop,GA(sA.color))}),Q.fillStyle=R,Q.fillRect(0,0,d,v),d>0&&v>0&&(g=i.ctx.createPattern(b,"repeat"),i.renderRepeat(V,g,m,h))):Jy(l)&&(T=_s(e,r,[null,null,null]),V=T[0],M=T[1],k=T[2],d=T[3],v=T[4],L=l.position.length===0?[Ga]:l.position,m=_A(L[0],d),h=_A(L[L.length-1],v),w=Gy(l,m,h,d,v),_=w[0],x=w[1],_>0&&x>0&&(N=i.ctx.createRadialGradient(M+m,k+h,0,M+m,k+h,_),_l(l.stops,_*2).forEach(function(sA){return N.addColorStop(sA.stop,GA(sA.color))}),i.path(V),i.ctx.fillStyle=N,_!==x?(P=e.bounds.left+.5*e.bounds.width,Z=e.bounds.top+.5*e.bounds.height,X=x/_,oA=1/X,i.ctx.save(),i.ctx.translate(P,Z),i.ctx.transform(1,0,0,X,0,0),i.ctx.translate(-P,-Z),i.ctx.fillRect(M,oA*(k-Z)+Z,d,v*oA),i.ctx.restore()):i.ctx.fill())),H.label=6;case 6:return r--,[2]}})},i=this,o=0,s=e.styles.backgroundImage.slice(0).reverse(),c.label=1;case 1:return o<s.length?(a=s[o],[5,n(a)]):[3,4];case 2:c.sent(),c.label=3;case 3:return o++,[3,1];case 4:return[2]}})})},A.prototype.renderSolidBorder=function(e,r,n){return ae(this,void 0,void 0,function(){return te(this,function(i){return this.path(su(n,r)),this.ctx.fillStyle=GA(e),this.ctx.fill(),[2]})})},A.prototype.renderDoubleBorder=function(e,r,n,i){return ae(this,void 0,void 0,function(){var o,s;return te(this,function(a){switch(a.label){case 0:return r<3?[4,this.renderSolidBorder(e,n,i)]:[3,2];case 1:return a.sent(),[2];case 2:return o=ZU(i,n),this.path(o),this.ctx.fillStyle=GA(e),this.ctx.fill(),s=zU(i,n),this.path(s),this.ctx.fill(),[2]}})})},A.prototype.renderNodeBackgroundAndBorders=function(e){return ae(this,void 0,void 0,function(){var r,n,i,o,s,a,c,l,u=this;return te(this,function(f){switch(f.label){case 0:return this.applyEffects(e.getEffects(2)),r=e.container.styles,n=!pt(r.backgroundColor)||r.backgroundImage.length,i=[{style:r.borderTopStyle,color:r.borderTopColor,width:r.borderTopWidth},{style:r.borderRightStyle,color:r.borderRightColor,width:r.borderRightWidth},{style:r.borderBottomStyle,color:r.borderBottomColor,width:r.borderBottomWidth},{style:r.borderLeftStyle,color:r.borderLeftColor,width:r.borderLeftWidth}],o=lF(rr(r.backgroundClip,0),e.curves),n||r.boxShadow.length?(this.ctx.save(),this.path(o),this.ctx.clip(),pt(r.backgroundColor)||(this.ctx.fillStyle=GA(r.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(e.container)]):[3,2];case 1:f.sent(),this.ctx.restore(),r.boxShadow.slice(0).reverse().forEach(function(E){u.ctx.save();var C=ki(e.curves),I=E.inset?0:sF,y=YU(C,-I+(E.inset?1:-1)*E.spread.number,(E.inset?1:-1)*E.spread.number,E.spread.number*(E.inset?-2:2),E.spread.number*(E.inset?-2:2));E.inset?(u.path(C),u.ctx.clip(),u.mask(y)):(u.mask(C),u.ctx.clip(),u.path(y)),u.ctx.shadowOffsetX=E.offsetX.number+I,u.ctx.shadowOffsetY=E.offsetY.number,u.ctx.shadowColor=GA(E.color),u.ctx.shadowBlur=E.blur.number,u.ctx.fillStyle=E.inset?GA(E.color):"rgba(0,0,0,1)",u.ctx.fill(),u.ctx.restore()}),f.label=2;case 2:s=0,a=0,c=i,f.label=3;case 3:return a<c.length?(l=c[a],l.style!==0&&!pt(l.color)&&l.width>0?l.style!==2?[3,5]:[4,this.renderDashedDottedBorder(l.color,l.width,s,e.curves,2)]:[3,11]):[3,13];case 4:return f.sent(),[3,11];case 5:return l.style!==3?[3,7]:[4,this.renderDashedDottedBorder(l.color,l.width,s,e.curves,3)];case 6:return f.sent(),[3,11];case 7:return l.style!==4?[3,9]:[4,this.renderDoubleBorder(l.color,l.width,s,e.curves)];case 8:return f.sent(),[3,11];case 9:return[4,this.renderSolidBorder(l.color,s,e.curves)];case 10:f.sent(),f.label=11;case 11:s++,f.label=12;case 12:return a++,[3,3];case 13:return[2]}})})},A.prototype.renderDashedDottedBorder=function(e,r,n,i,o){return ae(this,void 0,void 0,function(){var s,a,c,l,u,f,E,C,I,y,p,U,O,B,b,Q,b,Q;return te(this,function(R){return this.ctx.save(),s=AF(i,n),a=su(i,n),o===2&&(this.path(a),this.ctx.clip()),we(a[0])?(c=a[0].start.x,l=a[0].start.y):(c=a[0].x,l=a[0].y),we(a[1])?(u=a[1].end.x,f=a[1].end.y):(u=a[1].x,f=a[1].y),n===0||n===2?E=Math.abs(c-u):E=Math.abs(l-f),this.ctx.beginPath(),o===3?this.formatPath(s):this.formatPath(a.slice(0,2)),C=r<3?r*3:r*2,I=r<3?r*2:r,o===3&&(C=r,I=r),y=!0,E<=C*2?y=!1:E<=C*2+I?(p=E/(2*C+I),C*=p,I*=p):(U=Math.floor((E+I)/(C+I)),O=(E-U*C)/(U-1),B=(E-(U+1)*C)/U,I=B<=0||Math.abs(I-O)<Math.abs(I-B)?O:B),y&&(o===3?this.ctx.setLineDash([0,C+I]):this.ctx.setLineDash([C,I])),o===3?(this.ctx.lineCap="round",this.ctx.lineWidth=r):this.ctx.lineWidth=r*2+1.1,this.ctx.strokeStyle=GA(e),this.ctx.stroke(),this.ctx.setLineDash([]),o===2&&(we(a[0])&&(b=a[3],Q=a[0],this.ctx.beginPath(),this.formatPath([new eA(b.end.x,b.end.y),new eA(Q.start.x,Q.start.y)]),this.ctx.stroke()),we(a[1])&&(b=a[1],Q=a[2],this.ctx.beginPath(),this.formatPath([new eA(b.end.x,b.end.y),new eA(Q.start.x,Q.start.y)]),this.ctx.stroke())),this.ctx.restore(),[2]})})},A.prototype.render=function(e){return ae(this,void 0,void 0,function(){var r;return te(this,function(n){switch(n.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=GA(this.options.backgroundColor),this.ctx.fillRect(this.options.x,this.options.y,this.options.width,this.options.height)),r=qU(e),[4,this.renderStack(r)];case 1:return n.sent(),this.applyEffects([]),[2,this.canvas]}})})},A}(ah),cF=function(t){return t instanceof $f||t instanceof Gf?!0:t instanceof ja&&t.type!==Li&&t.type!==Hi},lF=function(t,A){switch(t){case 0:return ki(A);case 2:return $U(A);case 1:default:return Ni(A)}},uF=function(t){switch(t){case 1:return"center";case 2:return"right";case 0:default:return"left"}},dF=["-apple-system","system-ui"],fF=function(t){return/iPhone OS 15_(0|1)/.test(window.navigator.userAgent)?t.filter(function(A){return dF.indexOf(A)===-1}):t},hF=function(t){Oe(A,t);function A(e,r){var n=t.call(this,e,r)||this;return n.canvas=r.canvas?r.canvas:document.createElement("canvas"),n.ctx=n.canvas.getContext("2d"),n.options=r,n.canvas.width=Math.floor(r.width*r.scale),n.canvas.height=Math.floor(r.height*r.scale),n.canvas.style.width=r.width+"px",n.canvas.style.height=r.height+"px",n.ctx.scale(n.options.scale,n.options.scale),n.ctx.translate(-r.x,-r.y),n.context.logger.debug("EXPERIMENTAL ForeignObject renderer initialized ("+r.width+"x"+r.height+" at "+r.x+","+r.y+") with scale "+r.scale),n}return A.prototype.render=function(e){return ae(this,void 0,void 0,function(){var r,n;return te(this,function(i){switch(i.label){case 0:return r=sa(this.options.width*this.options.scale,this.options.height*this.options.scale,this.options.scale,this.options.scale,e),[4,pF(r)];case 1:return n=i.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=GA(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(n,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}})})},A}(ah),pF=function(t){return new Promise(function(A,e){var r=new Image;r.onload=function(){A(r)},r.onerror=e,r.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(t))})},gF=function(){function t(A){var e=A.id,r=A.enabled;this.id=e,this.enabled=r,this.start=Date.now()}return t.prototype.debug=function(){for(var A=[],e=0;e<arguments.length;e++)A[e]=arguments[e];this.enabled&&(typeof window<"u"&&window.console&&typeof console.debug=="function"?console.debug.apply(console,Yn([this.id,this.getTime()+"ms"],A)):this.info.apply(this,A))},t.prototype.getTime=function(){return Date.now()-this.start},t.prototype.info=function(){for(var A=[],e=0;e<arguments.length;e++)A[e]=arguments[e];this.enabled&&typeof window<"u"&&window.console&&typeof console.info=="function"&&console.info.apply(console,Yn([this.id,this.getTime()+"ms"],A))},t.prototype.warn=function(){for(var A=[],e=0;e<arguments.length;e++)A[e]=arguments[e];this.enabled&&(typeof window<"u"&&window.console&&typeof console.warn=="function"?console.warn.apply(console,Yn([this.id,this.getTime()+"ms"],A)):this.info.apply(this,A))},t.prototype.error=function(){for(var A=[],e=0;e<arguments.length;e++)A[e]=arguments[e];this.enabled&&(typeof window<"u"&&window.console&&typeof console.error=="function"?console.error.apply(console,Yn([this.id,this.getTime()+"ms"],A)):this.info.apply(this,A))},t.instances={},t}(),BF=function(){function t(A,e){var r;this.windowBounds=e,this.instanceName="#"+t.instanceCount++,this.logger=new gF({id:this.instanceName,enabled:A.logging}),this.cache=(r=A.cache)!==null&&r!==void 0?r:new DU(this,A)}return t.instanceCount=1,t}(),vF=function(t,A){return A===void 0&&(A={}),mF(t,A)};typeof window<"u"&&th.setContext(window);var mF=function(t,A){return ae(void 0,void 0,void 0,function(){var e,r,n,i,o,s,a,c,l,u,f,E,C,I,y,p,U,O,B,b,R,Q,R,g,T,V,M,k,d,v,L,m,h,w,_,x,N,P,Z,X;return te(this,function(oA){switch(oA.label){case 0:if(!t||typeof t!="object")return[2,Promise.reject("Invalid element provided as first argument")];if(e=t.ownerDocument,!e)throw new Error("Element is not attached to a Document");if(r=e.defaultView,!r)throw new Error("Document is not attached to a Window");return n={allowTaint:(g=A.allowTaint)!==null&&g!==void 0?g:!1,imageTimeout:(T=A.imageTimeout)!==null&&T!==void 0?T:15e3,proxy:A.proxy,useCORS:(V=A.useCORS)!==null&&V!==void 0?V:!1},i=Ws({logging:(M=A.logging)!==null&&M!==void 0?M:!0,cache:A.cache},n),o={windowWidth:(k=A.windowWidth)!==null&&k!==void 0?k:r.innerWidth,windowHeight:(d=A.windowHeight)!==null&&d!==void 0?d:r.innerHeight,scrollX:(v=A.scrollX)!==null&&v!==void 0?v:r.pageXOffset,scrollY:(L=A.scrollY)!==null&&L!==void 0?L:r.pageYOffset},s=new ze(o.scrollX,o.scrollY,o.windowWidth,o.windowHeight),a=new BF(i,s),c=(m=A.foreignObjectRendering)!==null&&m!==void 0?m:!1,l={allowTaint:(h=A.allowTaint)!==null&&h!==void 0?h:!1,onclone:A.onclone,ignoreElements:A.ignoreElements,inlineImages:c,copyStyles:c},a.logger.debug("Starting document clone with size "+s.width+"x"+s.height+" scrolled to "+-s.left+","+-s.top),u=new nu(a,t,l),f=u.clonedReferenceElement,f?[4,u.toIFrame(e,s)]:[2,Promise.reject("Unable to find element in cloned iframe")];case 1:return E=oA.sent(),C=Ja(f)||wU(f)?YE(f.ownerDocument):vo(a,f),I=C.width,y=C.height,p=C.left,U=C.top,O=wF(a,f,A.backgroundColor),B={canvas:A.canvas,backgroundColor:O,scale:(_=(w=A.scale)!==null&&w!==void 0?w:r.devicePixelRatio)!==null&&_!==void 0?_:1,x:((x=A.x)!==null&&x!==void 0?x:0)+p,y:((N=A.y)!==null&&N!==void 0?N:0)+U,width:(P=A.width)!==null&&P!==void 0?P:Math.ceil(I),height:(Z=A.height)!==null&&Z!==void 0?Z:Math.ceil(y)},c?(a.logger.debug("Document cloned, using foreign object rendering"),R=new hF(a,B),[4,R.render(f)]):[3,3];case 2:return b=oA.sent(),[3,5];case 3:return a.logger.debug("Document cloned, element located at "+p+","+U+" with size "+I+"x"+y+" using computed rendering"),a.logger.debug("Starting DOM parsing"),Q=jf(a,f),O===Q.styles.backgroundColor&&(Q.styles.backgroundColor=Ze.TRANSPARENT),a.logger.debug("Starting renderer for element at "+B.x+","+B.y+" with size "+B.width+"x"+B.height),R=new aF(a,B),[4,R.render(Q)];case 4:b=oA.sent(),oA.label=5;case 5:return(!((X=A.removeContainer)!==null&&X!==void 0)||X)&&(nu.destroy(E)||a.logger.error("Cannot detach cloned iframe as it is not in the DOM anymore")),a.logger.debug("Finished rendering"),[2,b]}})})},wF=function(t,A,e){var r=A.ownerDocument,n=r.documentElement?Jr(t,getComputedStyle(r.documentElement).backgroundColor):Ze.TRANSPARENT,i=r.body?Jr(t,getComputedStyle(r.body).backgroundColor):Ze.TRANSPARENT,o=typeof e=="string"?Jr(t,e):e===null?Ze.TRANSPARENT:4294967295;return A===r.documentElement?pt(n)?pt(i)?o:i:n:o};const ch=t=>(xt("data-v-6ce48f58"),t=t(),Tt(),t),CF={style:{"font-size":"50px",color:"white"}},EF={style:{"font-size":"30px",color:"white"}},yF=["src"],bF=ch(()=>q("br",null,null,-1)),QF={key:0},UF={key:1},FF={key:0},SF={key:1},IF=ch(()=>q("span",null,"친구를 초대해 보세요!",-1)),_F={class:"chat-content"},OF={key:1},xF=["src"],TF=6,HF={__name:"PartyView",setup(t){const A=Pi();uu();const e=cr(),r=Nh(),n=Mh(),i=$v(),o=Ji(),{getMatchWatchable:s,findTeamIdsByFixtureId:a}=e,{getPartyMemberList:c,putPartyInfo:l,deletePartyInfo:u,postPartyMember:f,getPartyParticipant:E,deletePartyMember:C,postStartRecording:I,postStopRecording:y}=r,{createArchive:p}=n,{deleteFile:U}=i,O=G("https://www.youtube.com/embed/IMq_dbhxwAY?si=hgpV4dB_yymFN2Uu"),B=G(!1),b=G(!1),Q=G({});HA(()=>o.currentFinishedVote,j=>{let tA="";const dA=j.penalty.content;if(Pt.value.forEach(EA=>{const tt=EA.stream.connection.data,Xe=tt.substr(5,tt.length);console.log(j.penaltyUsers),j.penaltyUsers.forEach(ie=>{ie.userId===Xe&&(tA+=ie.name+", ",console.log(`페널티 대상자 ID : ${ie.userId}, 닉네임 : ${ie.name}, 페널티 ${dA}`),Eh(EA,dA))})}),j.penaltyUsers.forEach(EA=>{EA.userId===localStorage.getItem("id")&&(tA+=EA.name+", ",yh(dA))}),tA=="")Q.value.penalty="아무도 페널티를 받지 않았어요!!";else{const EA=tA.substr(0,tA.length-2);Q.value.penalty=EA}Ch()});const R=G(null);HA(()=>r.partyInfo,j=>{(j==null?void 0:j.fixtureUrl)!=null?(O.value=j.fixtureUrl,B.value=!0):(O.value="https://www.youtube.com/embed/IMq_dbhxwAY?si=hgpV4dB_yymFN2Uu",B.value=!1),R.value=j.title},{immediate:!0,deep:!0});const g=A.params.clubId,T=A.params.partyId,V=G(c(g,T)),M=G(!1);let k=!1;HA(()=>r.partyMemberList,j=>{console.log("newPartyMembers",j),V.value=j,V.value.map(tA=>{tA.memberId==localStorage.getItem("id")&&fh(tA.openviduToken,tA.nickName)})},{immediate:!0,deep:!0});const d=G(null);HA(()=>r.myParticipantId,j=>{d.value=j},{immediate:!0});function v(j){return h(),j.preventDefault(),j.returnValue="정말로 페이지를 나가시겠습니까?",message}zr(()=>{f(g,T),window.addEventListener("beforeunload",v)}),Dh(()=>{window.removeEventListener("beforeunload",v)}),window.confirm("쿠팡 플레이 로그인이 필요합니다. 로그인 페이지로 이동하시겠습니까?")&&window.open("https://www.coupangplay.com/login","_blank");const m=localStorage.getItem("id"),h=()=>{d.value=r.partyMemberList.find(j=>j.memberId==m),d.value!==void 0&&(console.warn("delPartyMem",g,T,d.value.participantId),C(g,T,d.value.participantId))};tc(()=>{r.deletePartyMember(g,T,r.myParticipantId),console.log("#######",r.partyMemberList),console.warn(m),d.value=r.partyMemberList.find(j=>j.memberId==m),console.log("##########",d.value),C(g,T,d.value.participantId)});const w=()=>{alert("기능 준비 중입니다.")},_=G(!1);function x(){_.value=!_.value}const N=G("300px"),P=G(300),Z=G(!1),X=()=>{const j=document.querySelector(".chatting-section"),tA=document.querySelector(".button-section");if(j&&tA){const dA=j.offsetHeight-2*tA.offsetHeight;P.value=dA,N.value=`${dA}px`}};setTimeout(()=>{X()},200),zr(()=>{X(),window.addEventListener("resize",X)}),tc(()=>{window.removeEventListener("resize",X)});const oA=G(null),H=()=>{alert("친구와 함께 파티를 즐겨보세요!")},sA=()=>{confirm("파티를 나가시겠습니까?")&&(Z.value=!0,h(),setTimeout(()=>{window.location.href=`/club/${g}`},100))};function iA(j){QA.value=j,K.value=j,$.value=j,gA.value=j,j||(l(g,T,R.value,W.value,rA.value),he.value.signal({data:R.value,to:[],type:"titleChanged"}).then(()=>{}).catch(tA=>{console.error(tA)}),he.value.signal({data:rA.value,to:[],type:"matchChanged"}).then(()=>{}).catch(tA=>{console.error(tA)}))}function bA(j){hA.value=!1,j&&(j=!1,iA(j))}const QA=G(!1),$=G(!1),gA=G(!1),W=G(null),K=G(!1),rA=G(null),hA=G(!1),z=G([]),Tn=G([]);HA(()=>e.matchWatchable,j=>{Tn.value=j},{immediate:!0});const Hn=G(new Date),So=G(rc(nc(Hn.value,-1),"yyyy-MM-dd")),Io=G(rc(nc(Hn.value,1),"yyyy-MM-dd")),Ln=j=>{const tA=G(""),dA=j.status.toLowerCase();return dA==="not started"?tA.value="예정":dA==="match finished"?tA.value="경기 종료":dA==="time to be defined"?tA.value="시간 미정":tA.value="진행중",z.value.push({fixtureId:j.fixtureId,text:`${j.homeTeam.nameKr} vs ${j.awayTeam.nameKr}`}),`${j.league.nameKr} ${j.round} / ${j.homeTeam.nameKr} vs ${j.awayTeam.nameKr} / ${tA.value}`},Rn=G({home:null,homeName:null,away:null,awayName:null}),_o=()=>{oA.value=rA.value,e.fixtureIdForParty=rA.value,rA.value!==null&&(Rn.value=a(rA.value))};s(So.value,Io.value);const kA=G(!1),NA=G(""),SA=G(null);function vA(){const j=document.getElementById("cam-section");j&&vF(j,{scale:1}).then(tA=>{NA.value=tA.toDataURL("image/png"),kA.value=!0,tA.toBlob(dA=>{SA.value=new File([dA],"screenshot.png",{type:"image/png"})},"image/png")})}function fe(){const j=document.createElement("a");j.href=NA.value,j.download="screenshot.png",document.body.appendChild(j),j.click(),document.body.removeChild(j)}async function lh(){const j=new FormData;j.append("files",SA.value);const tA=await i.uploadFile(j);p({memberId:localStorage.getItem("id"),clubId:g,partyTitle:R.value?R.value:"",fixtureTitle:rA.value?rA.value:"",fileId:null,thumbnailId:tA.data.data[0].id})}const Dn=G(void 0),he=G(void 0),Qe=G(void 0),Pt=G([]),yr=G(!0),br=G(!0),uh=()=>{yr.value=!yr.value,Qe.value.publishVideo(yr.value)},dh=()=>{br.value=!br.value,Qe.value.publishAudio(br.value)},fh=(j,tA)=>{k||(k=!0,Dn.value=new _d.OpenVidu,he.value=Dn.value.initSession(),he.value.on("streamCreated",({stream:dA})=>{const EA=he.value.subscribe(dA);Pt.value.push(EA)}),he.value.on("streamDestroyed",({stream:dA})=>{const EA=Pt.value.indexOf(dA.streamManager,0);EA>=0&&Pt.value.splice(EA,1)}),he.value.on("exception",({exception:dA})=>{console.log("exception occured"),console.warn(dA)}),he.value.on("signal",dA=>{dA.type=="titleChanged"?R.value=dA.data:dA.type=="matchChanged"&&(rA.value=dA.data)}),he.value.connect(j,{clientData:tA}).then(()=>{let dA=Dn.value.initPublisher(void 0,{audioSource:void 0,videoSource:void 0,publishAudio:!0,publishVideo:!0,resolution:"640x480",frameRate:30,insertMode:"APPEND",mirror:!0});Qe.value=dA,he.value.publish(Qe.value)}).catch(dA=>{console.log("There was an error connecting to the session:",dA.code,dA.message)}),window.addEventListener("beforeunload",Ya))},Ya=()=>{he.value&&he.value.disconnect(),he.value=void 0,Qe.value=void 0,Pt.value=[],Dn.value=void 0,window.removeEventListener("beforeunload",Ya)},Qr=G(!1),kn=G({}),Vt=G({}),Kt=G(!1),Ur=G(!1),Gt=G(0);let Oo;const Nn=G("00:00");let qa,Za;const hh=()=>{Kt.value?gh():ph(),Kt.value=!Kt.value},ph=()=>{g!==void 0&&(Ur.value=!0,I(g,{session:g,outputMode:"COMPOSED",hasAudio:!0,hasVideo:!0},j=>{j.status===ke.OK&&(kn.value=j.data.data,Ur.value=!1,Oo=setInterval(()=>{Gt.value++,Nn.value=vh(),Gt.value>=60&&(Gt.value=0,Kt.value=!Kt.value,Nn.value="00:00",clearInterval(Oo))},1e3))},j=>{console.error(j),j.response.status===ke.NOTFOUND&&console.error(j)}))},gh=()=>{g!==void 0&&kn.value.id!==void 0&&(Ur.value=!0,y(g,{recording:kn.value.id},j=>{j.status===ke.OK&&(Vt.value=j.data.data,Ur.value=!1,clearInterval(Oo),Gt.value=0,Nn.value="00:00",Bh(Vt.value.url),kn.value={},Qr.value=!0)},j=>{console.error(j),j.response.status,ke.NOTFOUND}))},Bh=async j=>{const dA=await(await fetch(j)).blob(),EA=window.URL.createObjectURL(dA),tt=document.createElement("a");tt.href=EA,tt.download="video.mp4",tt.click()},vh=()=>(qa=parseInt(String(Gt.value/60)),Za=Gt.value%60,String(qa).padStart(2,"0")+":"+String(Za).padStart(2,"0")),mh=()=>{p({memberId:localStorage.getItem("id"),clubId:g,partyTitle:R.value?R.value:"",fixtureTitle:rA.value?rA.value:"",fileId:Vt.value.id,thumbnailId:Vt.value.thumbnailId}),Qr.value=!1},wh=()=>{Qr.value=!1,U(Vt.value.id)},Ch=()=>{if(b.value=!b.value,b.value){const j=setInterval(()=>{b.value=!1,clearInterval(j)},2e3)}},Eh=(j,tA)=>{if(Q.value.content=tA,tA=="음소거"){j.subscribeToAudio(!1),Q.value.description="5초간 음소거 됩니다!!!";const dA=setInterval(()=>{j.subscribeToAudio(!0),clearInterval(dA)},5e3)}else if(tA=="음성변조")Q.value.description="5초간 음성변조 됩니다!!!";else if(tA=="흑백화면"){j.subscribeToVideo(!1),Q.value.description="5초간 화면이 보이지 않습니다!!!";const dA=setInterval(()=>{j.subscribeToVideo(!0),clearInterval(dA)},5e3)}else Q.value.description=`${tA}에 당첨되었어요!!!`},yh=j=>{if(Q.value.content=j,j=="음소거"){Qe.value.publishAudio(!1),Q.value.description="당신은 5초간 음소거 됩니다!!!";const tA=setInterval(()=>{Qe.value.publishAudio(!0),clearInterval(tA)},5e3)}else if(j=="음성변조")Q.value.description="당신은 5초간 음성변조 됩니다!!!";else if(j=="흑백화면"){Qe.value.publishVideo(!1),Q.value.description="당신은 5초간 화면이 보이지 않습니다!!!";const tA=setInterval(()=>{Qe.value.publishVideo(!0),clearInterval(tA)},5e3)}else Q.value.description=`당신은 ${j}에 당첨되었어요!!!`};return(j,tA)=>{const dA=J("v-img"),EA=J("v-col"),tt=J("v-slide-x-transition"),Xe=J("v-row"),ie=J("v-icon"),xo=J("v-slide-x-reverse-transition"),za=J("v-text-field"),oe=J("v-btn"),bh=J("v-card-title"),Qh=J("v-autocomplete"),Uh=J("v-card-text"),To=J("v-card-actions"),Ho=J("v-card"),Fh=J("v-dialog"),Ct=J("v-tooltip"),Sh=J("v-list"),Ih=J("v-menu"),Ac=J("v-spacer"),_h=J("v-expansion-panels"),ec=J("v-overlay"),Oh=J("v-container");return Y(),cA(Oh,{fluid:"",class:"px-4 py-2"},{default:F(()=>[S(tt,null,{default:F(()=>[b.value?(Y(),cA(EA,{key:0,justify:"center",align:"center",style:{position:"absolute"}},{default:F(()=>[q("div",CF,aA(Q.value.penalty)+" 페널티를 받아라!!! ",1),q("div",EF,aA(Q.value.description),1),S(dA,{src:"/penalty-soccer.gif",width:"25%",height:"25%"})]),_:1})):$A("",!0)]),_:1}),S(Xe,{class:"party-section mb-6"},{default:F(()=>[S(EA,{class:"match-section",cols:"9"},{default:F(()=>[S(Xe,{class:"match-video"},{default:F(()=>[O.value?(Y(),uA("iframe",{key:0,class:"coupang-play",width:"100%",height:"100%",src:O.value,allow:"autoplay",frameborder:"0",allowfullscreen:"",title:"쿠팡플레이","overflow:hidden":""},null,8,yF)):(Y(),cA(dA,{key:1,src:"/soccer-screen.png","aspect-ratio":"16/9",contain:""}))]),_:1}),S(Xe,{class:"selector"},{default:F(()=>[S(EA,{cols:"7",class:"party pa-2"},{default:F(()=>[S(za,{modelValue:R.value,"onUpdate:modelValue":tA[1]||(tA[1]=OA=>R.value=OA),class:"select-field",clearable:$.value,variant:"outlined",hint:$.value?"Click the icon to SAVE":"Click the icon to EDIT",readonly:!$.value,"persistent-hint":"","hide-details":"auto",label:`타이틀  — ${$.value?"Editable":"Readonly"}`},{append:F(()=>[S(xo,{mode:"out-in"},{default:F(()=>[(Y(),cA(ie,{size:"large",key:`icon-${$.value}`,color:$.value?"info":"success",class:"lock-icon",icon:$.value?"mdi-lock-open-variant-outline":"mdi-lock-outline",onClick:tA[0]||(tA[0]=OA=>[$.value=!$.value,iA($.value)])},null,8,["color","icon"]))]),_:1})]),_:1},8,["modelValue","clearable","hint","readonly","label"])]),_:1}),S(EA,{cols:"5",class:"match pa-2"},{default:F(()=>[S(oe,{onClick:tA[2]||(tA[2]=OA=>[hA.value=!0,$.value=!0,K.value=!0,gA.value=!0]),block:"",variant:"outlined",size:"x-large",class:"select-match-btn"},{default:F(()=>{var OA;return[AA(aA(((OA=z.value.find(Fr=>Fr.fixtureId===rA.value))==null?void 0:OA.text)||"경기 선택"),1)]}),_:1}),S(Fh,{modelValue:hA.value,"onUpdate:modelValue":tA[8]||(tA[8]=OA=>hA.value=OA),"max-width":"600"},{default:F(()=>[S(Ho,null,{default:F(()=>[S(bh,null,{default:F(()=>[AA("경기 선택")]),_:1}),S(Uh,null,{default:F(()=>[S(Qh,{modelValue:rA.value,"onUpdate:modelValue":tA[4]||(tA[4]=OA=>rA.value=OA),class:"select-field",hint:K.value?"Click the icon to SAVE":"Click the icon to EDIT",items:Tn.value,"item-title":Ln,"item-value":"fixtureId",readonly:!K.value,clearable:$.value,label:`경기  — ${K.value?"Editable":"Readonly"}`,"auto-select-first":"",variant:"outlined","persistent-hint":"","prepend-icon":"mdi-soccer","onUpdate:menu":_o},{append:F(()=>[S(xo,{mode:"out-in"},{default:F(()=>[(Y(),cA(ie,{size:"large",key:`icon-${K.value}`,color:K.value?"info":"success",class:"lock-icon",icon:K.value?"mdi-lock-open-variant-outline":"mdi-lock-outline",onClick:tA[3]||(tA[3]=OA=>[K.value=!K.value,iA(K.value)])},null,8,["color","icon"]))]),_:1})]),_:1},8,["modelValue","hint","items","readonly","clearable","label"]),bF,S(za,{modelValue:W.value,"onUpdate:modelValue":tA[6]||(tA[6]=OA=>W.value=OA),class:"select-field",clearable:gA.value,variant:"outlined",hint:gA.value?"Click the icon to SAVE":"Click the icon to EDIT",readonly:!gA.value,"persistent-hint":"","hide-details":"auto",label:`URL  — ${gA.value?"Editable":"Readonly"}`},{append:F(()=>[S(xo,{mode:"out-in"},{default:F(()=>[(Y(),cA(ie,{size:"large",key:`icon-${gA.value}`,color:gA.value?"info":"success",class:"lock-icon",icon:gA.value?"mdi-lock-open-variant-outline":"mdi-lock-outline",onClick:tA[5]||(tA[5]=OA=>[gA.value=!gA.value,iA(gA.value)])},null,8,["color","icon"]))]),_:1})]),_:1},8,["modelValue","clearable","hint","readonly","label"])]),_:1}),S(To,null,{default:F(()=>[S(oe,{color:"blue darken-1",text:"",block:"",onClick:tA[7]||(tA[7]=OA=>bA(gA.value))},{default:F(()=>[AA("확인")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1}),S(EA,{class:"chatting-section",cols:"3"},{default:F(()=>[S(Xe,{class:"cam-section",id:"cam-section"},{default:F(()=>{var OA;return[S(EA,{cols:"6",class:"cam-video"},{default:F(()=>[S(cl,{"stream-manager":Qe.value,onClick:tA[9]||(tA[9]=Fr=>j.updateMainVideoStreamManager(Qe.value))},null,8,["stream-manager"]),S(Ih,{location:"center",activator:"parent","open-on-hover":"","close-delay":"300"},{default:F(()=>[S(Sh,null,{default:F(()=>[S(oe,{class:"ma-2",icon:"",variant:"outlined",onClick:uh},{default:F(()=>[yr.value?(Y(),cA(ie,{key:0},{default:F(()=>[AA("mdi-video-box")]),_:1})):(Y(),cA(ie,{key:1},{default:F(()=>[AA("mdi-video-box-off")]),_:1})),S(Ct,{activator:"parent",location:"center"},{default:F(()=>[yr.value?(Y(),uA("p",QF,"캠 끄기")):(Y(),uA("p",UF,"캠 켜기"))]),_:1})]),_:1}),S(oe,{class:"ma-2",icon:"",variant:"outlined",onClick:dh},{default:F(()=>[br.value?(Y(),cA(ie,{key:0},{default:F(()=>[AA("mdi-volume-high")]),_:1})):(Y(),cA(ie,{key:1},{default:F(()=>[AA("mdi-volume-off")]),_:1})),S(Ct,{activator:"parent",location:"center"},{default:F(()=>[br.value?(Y(),uA("p",FF,"마이크 끄기")):(Y(),uA("p",SF,"마이크 켜기"))]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),(Y(!0),uA(jA,null,ce(Pt.value,Fr=>(Y(),cA(EA,{cols:"6",class:"cam-video",key:Fr.stream.connection.connectionId},{default:F(()=>[S(cl,{"stream-manager":Fr},null,8,["stream-manager"])]),_:2},1024))),128)),((OA=V.value)==null?void 0:OA.length)<TF?(Y(),cA(EA,{key:0,cols:"6",class:"cam-video",onClick:H,style:{cursor:"pointer"}},{default:F(()=>[S(dA,{src:"/maruche.jpg",class:"invite-img pt-2",contain:""}),IF]),_:1})):$A("",!0),mi(S(EA,{cols:"12",class:"chat-window",style:Qi({height:N.value})},{default:F(()=>[q("div",_F,[S(lv,{"chat-div-height-prop":P.value,"disconnect-prop":Z.value},null,8,["chat-div-height-prop","disconnect-prop"])])]),_:1},8,["style"]),[[kh,_.value]]),S(Ac)]}),_:1}),S(Ac),S(Xe,{class:"button-section"},{default:F(()=>[S(EA,{cols:"3"},{default:F(()=>[S(oe,{color:"secondary",onClick:vA},{default:F(()=>[S(Ct,{activator:"parent",location:"top",theme:"dark"},{default:F(()=>[AA(" 사진 ")]),_:1}),S(ie,{size:"x-large"},{default:F(()=>[AA("mdi-camera-outline")]),_:1})]),_:1}),S(ec,{modelValue:kA.value,"onUpdate:modelValue":tA[11]||(tA[11]=OA=>kA.value=OA),class:"over"},{default:F(()=>[S(Ho,{class:"overlay-card"},{default:F(()=>[S(dA,{src:NA.value,contain:"",class:"screenshot-preview"},null,8,["src"]),S(To,{class:"justify-end"},{default:F(()=>[S(_h,null,{default:F(()=>[S(oe,{color:"#D3AC2B",onClick:lh,size:"x-large"},{default:F(()=>[S(Ct,{activator:"parent",location:"top",theme:"dark"},{default:F(()=>[AA("아카이브에 사진 저장")]),_:1}),AA(" 업로드 ")]),_:1}),S(oe,{color:"green",onClick:fe,size:"x-large"},{default:F(()=>[S(Ct,{activator:"parent",location:"top",theme:"dark"},{default:F(()=>[AA("내 PC에 사진 저장")]),_:1}),AA(" 다운로드 ")]),_:1}),S(oe,{color:"red pt-1",onClick:tA[10]||(tA[10]=OA=>kA.value=!1),size:"large"},{default:F(()=>[AA("닫기")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1}),S(EA,{cols:"3"},{default:F(()=>[S(oe,{color:"secondary",onClick:hh,disabled:Ur.value},{default:F(()=>[S(Ct,{activator:"parent",location:"top",theme:"dark"},{default:F(()=>[AA(" 동영상 ")]),_:1}),Kt.value?(Y(),uA("div",OF,aA(Nn.value),1)):(Y(),cA(ie,{key:0,size:"x-large"},{default:F(()=>[AA("mdi-video-plus-outline")]),_:1}))]),_:1},8,["disabled"]),S(ec,{modelValue:Qr.value,"onUpdate:modelValue":tA[12]||(tA[12]=OA=>Qr.value=OA),persistent:"",class:"over"},{default:F(()=>[S(Ho,{class:"overlay-card"},{default:F(()=>[q("video",{src:Vt.value.url,autoplay:"",loop:"",type:"video/mp4",class:"video-preview"},null,8,xF),S(To,{class:"justify-end"},{default:F(()=>[S(oe,{color:"green",onClick:mh,size:"x-large"},{default:F(()=>[AA("아카이브 하기")]),_:1}),S(oe,{color:"red",onClick:wh,size:"large"},{default:F(()=>[AA("닫기")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1}),S(EA,{cols:"3"},{default:F(()=>[S(oe,{color:"#D3AC2B",onClick:w},{default:F(()=>[S(Ct,{activator:"parent",location:"top",theme:"dark"},{default:F(()=>[AA(" 효과음 ")]),_:1}),S(ie,{size:"x-large",color:"#333D51"},{default:F(()=>[AA("mdi-bullhorn-outline")]),_:1})]),_:1})]),_:1}),S(EA,{cols:"3"},{default:F(()=>[S(oe,{onClick:tA[13]||(tA[13]=OA=>M.value=!0),color:"#CBD0D8"},{default:F(()=>[AA(" 투표 ")]),_:1}),M.value?(Y(),cA(Mv,{key:0,onVoteClose:tA[14]||(tA[14]=OA=>M.value=!1)})):$A("",!0)]),_:1})]),_:1}),S(Xe,{class:"button-section"},{default:F(()=>[S(EA,{cols:"8"},{default:F(()=>[S(oe,{onClick:x,color:"yellow",class:"chat-button"},{default:F(()=>[AA("채팅창")]),_:1})]),_:1}),S(EA,{cols:"4"},{default:F(()=>[S(oe,{color:"error",onClick:sA,class:"exit-btn"},{default:F(()=>[AA("파티 나가기")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),S(Xe,{class:"contents-section pa-3"},{default:F(()=>[S(EA,{cols:"12"},{default:F(()=>[S(Rp)]),_:1})]),_:1})]),_:1})}}},NF=Ie(HF,[["__scopeId","data-v-6ce48f58"]]);export{NF as default};
