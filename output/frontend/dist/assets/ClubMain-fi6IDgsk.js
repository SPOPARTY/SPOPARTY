import{_ as Y,j as W,r as i,w as q,p as ee,b as o,o as a,d as h,e,f as t,g as n,i as O,F as z,l as oe,t as L,k as se,s as E,L as K,z as te,A as le,h as l,u as ue,c as ae,m as ke,n as Ce}from"./index-w_VBQHr5.js";import{u as fe}from"./archives-FApP3BGQ.js";import{u as pe}from"./TextEditor-0PeRoz14.js";import{f as he}from"./tools-kf-cGsju.js";import{A as ye}from"./ArchiveDetail-gIPktjmS.js";import{u as Ie}from"./party-6cCvqDIs.js";import{B as $e}from"./BoardDetail-ZxVJUbNg.js";import"./EditBoard-BzRmpG6r.js";const Ve={__name:"ArchivePreview",setup(_){const V=fe(),B=W(),w=i(B.params.clubId),x=i([]);q(()=>V.archiveList,s=>{x.value=s},{immediate:!0}),q(()=>B.params.clubId,s=>{w.value=s,V.getArchiveList(w.value)});const T=i(!1),r=i(null),b=s=>{r.value=s,T.value=!0};return ee(()=>{V.getArchiveList(w.value)}),(s,c)=>{const M=o("v-toolbar-title"),p=o("v-spacer"),N=o("v-icon"),g=o("v-btn"),m=o("RouterLink"),S=o("v-toolbar-items"),P=o("v-toolbar"),k=o("v-card-title"),A=o("v-card-subtitle"),Q=o("v-card-text"),y=o("v-img"),I=o("v-card"),v=o("v-col"),d=o("v-row"),$=o("v-container");return a(),h($,null,{default:e(()=>[t(P,{flat:"",class:"preview-toolbar"},{default:e(()=>[t(M,null,{default:e(()=>[n("추억 아카이브")]),_:1}),t(p),t(S,null,{default:e(()=>[t(m,{to:`/club/${w.value}/archive`},{default:e(()=>[t(g,{icon:""},{default:e(()=>[t(N,{class:"plus-btn"},{default:e(()=>[n("mdi-plus")]),_:1})]),_:1})]),_:1},8,["to"])]),_:1})]),_:1}),t(d,null,{default:e(()=>[(a(!0),O(z,null,oe(x.value.slice(0,2),(C,U)=>(a(),h(v,{cols:"12",sm:"6",md:"6",lg:"6",key:U},{default:e(()=>[t(I,{class:"thumbnail",onClick:X=>b(C)},{default:e(()=>[C.fixtureTitle?(a(),h(k,{key:0,class:"text-center"},{default:e(()=>[n(L(C.fixtureTitle),1)]),_:2},1024)):(a(),h(k,{key:1,class:"text-center"},{default:e(()=>[n(" 이름없는 추억 하나")]),_:1})),C.partyTitle?(a(),h(A,{key:2,class:"text-right"},{default:e(()=>[n(L(C.partyTitle),1)]),_:2},1024)):(a(),h(A,{key:3,class:"text-right"},{default:e(()=>[n("수많은 파티 그 중 하나")]),_:1})),t(Q,{class:"text-right"},{default:e(()=>[n(L(C.member.nickname),1)]),_:2},1024),t(Q,{class:"text-right"},{default:e(()=>[n(L(se(he)(C.createdTime)),1)]),_:2},1024),t(y,{src:C.thumbnail.url,alt:C.thumbnail.url,class:"thumb_img",cover:"",height:"200px"},null,8,["src","alt"])]),_:2},1032,["onClick"]),T.value&&r.value.id===C.id?(a(),h(ye,{key:0,detail:r.value,onDetailClose:c[0]||(c[0]=X=>T.value=!1)},null,8,["detail"])):E("",!0)]),_:2},1024))),128))]),_:1})]),_:1})}}},we=Y(Ve,[["__scopeId","data-v-95b758e5"]]),Me=_=>(te("data-v-5d4df5ab"),_=_(),le(),_),Le=Me(()=>l("br",null,null,-1)),Ne={__name:"ChangeClubName",emits:["change-club-name-close"],setup(_,{emit:V}){const B=W(),w=V,x=K(),{updateClub:T}=x,r=B.params.clubId,b=localStorage.getItem("id"),s=i(null),c=i(!0),M=()=>{if(s.value===null){alert("그룹명이 공란이어서는 안됩니다!");return}if(s.value.length>20){alert("클럽 이름은 20자 이상을 넘기면 안됩니다!"),s.value=s.value.substring(0,20);return}let g={memberId:b,name:s.value};console.log(g);try{T(r,g)?(c.value=!1,p.value=!0):console.error("그룹 정보 수정 실패!")}catch(m){console.error(m)}},p=i(!1);function N(){c.value=!1,w("change-club-name-close")}return(g,m)=>{const S=o("v-card-title"),P=o("v-card-text"),k=o("v-text-field"),A=o("v-btn"),Q=o("v-card-actions"),y=o("v-card"),I=o("v-container"),v=o("v-dialog");return a(),O(z,null,[t(v,{modelValue:c.value,"onUpdate:modelValue":m[1]||(m[1]=d=>c.value=d),"max-width":"400px","onClick:outside":N,persistent:""},{default:e(()=>[t(I,null,{default:e(()=>[t(y,null,{default:e(()=>[Le,t(S,null,{default:e(()=>[n("그룹명 바꾸기")]),_:1}),t(P,null,{default:e(()=>[n("변경하고자 하는 그룹 이름을 작성하세요!")]),_:1}),t(k,{modelValue:s.value,"onUpdate:modelValue":m[0]||(m[0]=d=>s.value=d)},null,8,["modelValue"]),t(Q,null,{default:e(()=>[t(A,{class:"button",color:"#292646",text:"",onClick:M},{default:e(()=>[n("변경")]),_:1}),t(A,{class:"button",color:"red darken -1",text:"",onClick:N},{default:e(()=>[n("취소")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),t(v,{modelValue:p.value,"onUpdate:modelValue":m[2]||(m[2]=d=>p.value=d),"max-width":"400px","max-height":"600px","onClick:outside":N,persistent:""},{default:e(()=>[t(y,{class:"confirm-change"},{default:e(()=>[t(P,null,{default:e(()=>[n("변경이 완료되었습니다!")]),_:1}),t(A,{color:"blue lighten-1",text:"",onClick:N,width:"200px",style:{"margin-top":"20px","margin-bottom":"20px"}},{default:e(()=>[n("확인")]),_:1})]),_:1})]),_:1},8,["modelValue"])],64)}}},Se=Y(Ne,[["__scopeId","data-v-5d4df5ab"]]),u=_=>(te("data-v-a7f8f123"),_=_(),le(),_),De=u(()=>l("br",null,null,-1)),Be=u(()=>l("h1",null,"잠깐!",-1)),Pe=u(()=>l("br",null,null,-1)),Te=u(()=>l("b",null,[l("u",null,"그룹장")],-1)),Ue=u(()=>l("br",null,null,-1)),Ae=u(()=>l("b",null,[l("i",null,"헌신짝")],-1)),Qe=u(()=>l("br",null,null,-1)),Fe=u(()=>l("br",null,null,-1)),Oe=u(()=>l("br",null,null,-1)),Re=u(()=>l("br",null,null,-1)),je=u(()=>l("b",null,[l("h3",null,"다시 생각해주세요!")],-1)),Ee=u(()=>l("br",null,null,-1)),Xe=u(()=>l("br",null,null,-1)),qe=u(()=>l("h3",null,"다시 생각해보자",-1)),ze=u(()=>l("h2",null,"정말로 탈퇴하시겠습니까?",-1)),He=u(()=>l("br",null,null,-1)),We=u(()=>l("b",null,"추억",-1)),Ge=u(()=>l("br",null,null,-1)),Je=u(()=>l("b",null,"추억",-1)),Ke=u(()=>l("br",null,null,-1)),Ye=u(()=>l("br",null,null,-1)),Ze=u(()=>l("br",null,null,-1)),et=u(()=>l("h3",null,"다시 생각해보자",-1)),tt=u(()=>l("h1",null,"그룹원 명단",-1)),lt=u(()=>l("br",null,null,-1)),ot={key:0},nt=u(()=>l("b",null,"차세대 리더",-1)),st=u(()=>l("br",null,null,-1)),at=u(()=>l("h3",null,"진짜 다시 생각해보자",-1)),ut=u(()=>l("h1",null,"마지막 인사",-1)),ct=u(()=>l("br",null,null,-1)),rt=u(()=>l("br",null,null,-1)),it=u(()=>l("br",null,null,-1)),_t=u(()=>l("br",null,null,-1)),dt=u(()=>l("br",null,null,-1)),mt=u(()=>l("br",null,null,-1)),vt=u(()=>l("br",null,null,-1)),bt=u(()=>l("br",null,null,-1)),ft=u(()=>l("h3",null,"돌이킬 수 있는 마지막 기회",-1)),pt=u(()=>l("br",null,null,-1)),ht=u(()=>l("h2",null,"함께해서 더러웠고",-1)),xt=u(()=>l("br",null,null,-1)),gt=u(()=>l("br",null,null,-1)),kt=u(()=>l("h2",null,"다시는 만나지 말자",-1)),Ct=u(()=>l("br",null,null,-1)),yt=u(()=>l("h2",null,"확인",-1)),It={__name:"QuitClub",props:{clubMemberList:Object},emits:["quit-club-close"],setup(_,{emit:V}){ue();const B=W(),w=_,x=V,T=K(),r=ae(()=>w.clubMemberList),b=B.params.clubId,s=localStorage.getItem("id"),c=w.clubMemberList.find(I=>I.memberId==s).role==="host",M=i(!0),p=i(!1);function N(){S.value=!1,p.value=!0}const g=i({memberId:"",memberNickName:"",role:"",clubMemberId:""});function m(I){I.role!=="host"&&(g.value.memberId=I.memberId,g.value.memberNickName=I.memberNickName,g.value.role=I.role,g.value.clubMemberId=I.clubMemberId)}const S=i(!1);function P(){c&&g.value.name===""||(S.value=!0,p.value=!1)}const k=i(!1);async function A(){try{let I=g.value.clubMemberId;if(c&&r.value.length!==1&&!await T.updateClubLeader(b,I)){alert("그룹장 넘겨주기를 실패하였습니다.");return}await T.leaveClub(b)&&(alert("그룹에서 나가게 되었습니다!"),k.value=!0)}catch(I){console.error(I),alert("그룹 나가기에 실패하였습니다!"),y()}}function Q(){k.value=!1,window.location.replace("/")}function y(){M.value=!1,x("quit-club-close")}return(I,v)=>{const d=o("v-card-text"),$=o("v-spacer"),C=o("v-btn"),U=o("v-card-actions"),X=o("v-card"),f=o("v-container"),j=o("v-dialog"),J=o("v-card-title");return a(),O(z,null,[t(j,{modelValue:M.value,"onUpdate:modelValue":v[0]||(v[0]=R=>M.value=R),"max-width":"400px","max-height":"600px","onClick:outside":y,persistent:""},{default:e(()=>[c?(a(),h(f,{key:0},{default:e(()=>[t(X,null,{default:e(()=>[t(d,{class:"mention"},{default:e(()=>[De,Be,n(),Pe,n(" 당신은 "),Te,n(" 아닙니까?"),Ue,n(" 어떻게 그룹을 "),Ae,Qe,n("처럼 내칠 수가 있습니까?"),Fe,n(" 당신만을 바라보고 있는 그룹원이 많습니다."),Oe,Re,je,Ee,Xe]),_:1}),t(U,{style:{transform:"translateX(-75px)"}},{default:e(()=>[t($),r.value.length==1?(a(),h(C,{key:0,color:"red",onClick:P},{default:e(()=>[n("진행시켜")]),_:1})):(a(),h(C,{key:1,color:"red",onClick:N},{default:e(()=>[n("진행시켜")]),_:1})),t(C,{color:"green",onClick:y},{default:e(()=>[qe]),_:1})]),_:1})]),_:1})]),_:1})):(a(),h(f,{key:1},{default:e(()=>[t(X,null,{default:e(()=>[t(d,{class:"mention"},{default:e(()=>[ze,He,n(" 우리의 "),We,n("이 고작 그 정도 입니까?"),Ge,Je,n("을 되돌아본다면 "),Ke,n(" 생각이 바뀔 수도 있습니다."),Ye,n(" 부디 다시 생각해주세요!"),Ze]),_:1}),t(U,{style:{transform:"translateX(-75px)"}},{default:e(()=>[t($),t(C,{color:"red",onClick:P},{default:e(()=>[n("진행시켜")]),_:1}),t(C,{color:"green",onClick:y},{default:e(()=>[et]),_:1})]),_:1})]),_:1})]),_:1}))]),_:1},8,["modelValue"]),t(j,{modelValue:p.value,"onUpdate:modelValue":v[1]||(v[1]=R=>p.value=R),"max-width":"400px"},{default:e(()=>[t(f,null,{default:e(()=>[t(X,null,{default:e(()=>[t(d,{class:"member-list-title"},{default:e(()=>[tt,n(),lt,g.value.memberNickName!==""?(a(),O("div",ot,[nt,n(" : "),l("b",null,[l("u",null,L(g.value.memberNickName),1)]),n(),st])):E("",!0)]),_:1}),(a(!0),O(z,null,oe(r.value,(R,Z)=>(a(),O("div",{key:Z},[R.role!=="host"?(a(),h(d,{key:0,class:"member text-center",onClick:G=>m(R),hover:{hover:!0}},{default:e(()=>[n(L(R.memberNickName),1)]),_:2},1032,["onClick"])):E("",!0)]))),128)),t(U,{style:{transform:"translateX(-40px)"}},{default:e(()=>[t($),t(C,{color:"red",onClick:P},{default:e(()=>[n("진행시켜")]),_:1}),t(C,{color:"green",onClick:y},{default:e(()=>[at]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),t(j,{modelValue:S.value,"onUpdate:modelValue":v[2]||(v[2]=R=>S.value=R),"max-width":"400px","onClick:outside":y},{default:e(()=>[t(X,null,{default:e(()=>[t(d,{class:"text-center"},{default:e(()=>[ut,ct,n(" 별 하나의 추억과..."),rt,n(" 별 하나의 사랑과..."),it,n(" 별 하나의 그룹..."),_t,n(" 헤아릴 수 없는 별들 만큼이나"),dt,n(" 많은 그룹이 있습니다."),mt,n(" 그 안에서 만들어진 추억은 귀중한 것입니다."),vt,n(" 이대로 홀연히 떠나시겠습니까?"),bt]),_:1}),t(U,{style:{transform:"translateX(-40px)"}},{default:e(()=>[t($),t(C,{color:"red",onClick:A},{default:e(()=>[n("진행시켜")]),_:1}),t(C,{color:"green",onClick:y},{default:e(()=>[ft]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),t(j,{modelValue:k.value,"onUpdate:modelValue":v[3]||(v[3]=R=>k.value=R),"max-width":"600px",persistent:""},{default:e(()=>[t(f,null,{default:e(()=>[t(X,{"align-items":"center",class:"text-center"},{default:e(()=>[pt,t(J,{class:"text-center"},{default:e(()=>[ht,xt,gt,kt]),_:1}),Ct,t(U,null,{default:e(()=>[t(C,{class:"button",color:"red",onClick:Q},{default:e(()=>[yt]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])],64)}}},xe=Y(It,[["__scopeId","data-v-a7f8f123"]]),F=_=>(te("data-v-917efe51"),_=_(),le(),_),$t=F(()=>l("br",null,null,-1)),Vt=F(()=>l("h2",null,"넌 나가라",-1)),wt=F(()=>l("br",null,null,-1)),Mt={key:0,class:"selected"},Lt=F(()=>l("b",null,"강퇴 후보",-1)),Nt=F(()=>l("br",null,null,-1)),St=F(()=>l("h3",null,"기회준다 잘해라",-1)),Dt=F(()=>l("br",null,null,-1)),Bt=F(()=>l("br",null,null,-1)),Pt=F(()=>l("br",null,null,-1)),Tt=F(()=>l("br",null,null,-1)),Ut=F(()=>l("br",null,null,-1)),At=F(()=>l("h2",null,"강퇴 재확인",-1)),Qt=F(()=>l("br",null,null,-1)),Ft=F(()=>l("br",null,null,-1)),Ot=F(()=>l("br",null,null,-1)),Rt=F(()=>l("br",null,null,-1)),jt=F(()=>l("b",null,"리더",-1)),Et=F(()=>l("br",null,null,-1)),Xt=F(()=>l("br",null,null,-1)),qt=F(()=>l("b",null,[l("h3",null,"다시 생각해주세요!")],-1)),zt=F(()=>l("br",null,null,-1)),Ht=F(()=>l("h3",null,"미워도 다시 한 번",-1)),Wt={__name:"BanClubMemeber",props:{clubMemberList:Array},emits:["ban-member-close"],setup(_,{emit:V}){const B=_,w=V,x=K(),r=W().params.clubId,b=i(!0),s=ae(()=>B.clubMemberList),c=i({memberId:"",memberNickName:"",role:"",clubMemberId:""});function M(S){c.value.memberId=S.memberId,c.value.memberNickName=S.memberNickName,c.value.role=S.role,c.value.clubMemberId=S.clubMemberId}const p=i(!1);function N(){c.value.memberId!==""&&(b.value=!1,p.value=!0)}function g(){confirm("해당 그룹원을 강퇴하시겠습니까?")===!0&&x.banClubMember(r,c.value.clubMemberId),m()}function m(){b.value=!1,w("ban-member-close")}return(S,P)=>{const k=o("v-card-title"),A=o("v-card-text"),Q=o("v-spacer"),y=o("v-btn"),I=o("v-card-actions"),v=o("v-card"),d=o("v-dialog");return a(),O(z,null,[t(d,{modelValue:b.value,"onUpdate:modelValue":P[0]||(P[0]=$=>b.value=$),"max-width":"400px","max-height":"600px","onClick:outside":m,persistent:""},{default:e(()=>[s.value.length!==1?(a(),h(v,{key:0},{default:e(()=>[$t,t(k,{class:"member-list-title"},{default:e(()=>[Vt]),_:1}),wt,c.value.memberNickName!==""?(a(),O("div",Mt,[Lt,n(" : "),l("b",null,[l("u",null,L(c.value.memberNickName),1)]),n(),Nt])):E("",!0),(a(!0),O(z,null,oe(s.value,($,C)=>(a(),O("div",{key:C},[$.role!=="host"?(a(),h(A,{key:0,class:"member",onClick:U=>M($),hover:{hover:!0}},{default:e(()=>[n(L($.memberNickName),1)]),_:2},1032,["onClick"])):E("",!0)]))),128)),t(I,{class:"buttons"},{default:e(()=>[t(Q),t(y,{color:"red",onClick:N},{default:e(()=>[n("진행시켜")]),_:1}),t(y,{color:"green",onClick:m},{default:e(()=>[St]),_:1})]),_:1})]),_:1})):(a(),h(v,{key:1},{default:e(()=>[Dt,Bt,t(k,{class:"text-center"},{default:e(()=>[n("아직 멤버가 없습니다!")]),_:1}),Pt,Tt]),_:1}))]),_:1},8,["modelValue"]),t(d,{modelValue:p.value,"onUpdate:modelValue":P[1]||(P[1]=$=>p.value=$),"max-width":"400px","onClick:outside":m,persistent:""},{default:e(()=>[t(v,null,{default:e(()=>[Ut,t(k,{class:"member-list-title"},{default:e(()=>[At]),_:1}),t(A,{class:"mention"},{default:e(()=>[l("h2",null,[l("i",null,[l("b",null,L(c.value.memberNickName)+"...",1)])]),n(),Qt,n(" 이 사람이 그렇게 미웠습니까?"),Ft,l("b",null,L(c.value.memberNickName),1),n("에게 더 기회를 주면 안되겠습니까?"),Ot,n(" 관대함을 베푼다면 "),l("b",null,L(c.value.memberNickName),1),n("도 바뀔 것입니다."),Rt,n(" 자고로 "),jt,n("는 묵직해야합니다."),Et,Xt,qt,zt]),_:1}),t(I,{class:"buttons"},{default:e(()=>[t(Q),t(y,{color:"red",onClick:g},{default:e(()=>[n("진행시켜")]),_:1}),t(y,{color:"green",onClick:m},{default:e(()=>[Ht]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])],64)}}},Gt=Y(Wt,[["__scopeId","data-v-917efe51"]]),D=_=>(te("data-v-b560303b"),_=_(),le(),_),Jt=D(()=>l("br",null,null,-1)),Kt=D(()=>l("h1",null,"잠깐!",-1)),Yt=D(()=>l("br",null,null,-1)),Zt=D(()=>l("b",null,[l("u",null,"그룹장")],-1)),el=D(()=>l("br",null,null,-1)),tl=D(()=>l("b",null,[l("i",null,"산산조각")],-1)),ll=D(()=>l("br",null,null,-1)),ol=D(()=>l("br",null,null,-1)),nl=D(()=>l("u",null,"모름지기 그룹의 리더는 묵직해야 합니다.",-1)),sl=D(()=>l("br",null,null,-1)),al=D(()=>l("br",null,null,-1)),ul=D(()=>l("br",null,null,-1)),cl=D(()=>l("b",null,[l("h3",null,"다시 생각해주세요!")],-1)),rl=D(()=>l("br",null,null,-1)),il=D(()=>l("br",null,null,-1)),_l=D(()=>l("h3",null,"다시 생각해보자",-1)),dl=D(()=>l("br",null,null,-1)),ml=D(()=>l("h1",null,"배신자!",-1)),vl=D(()=>l("br",null,null,-1)),bl=D(()=>l("h1",null,"그룹의 원수!",-1)),fl=D(()=>l("br",null,null,-1)),pl=D(()=>l("h1",null,"당신 때문에",-1)),hl=D(()=>l("h1",null,"이 그룹이 폭파되었어!",-1)),xl=D(()=>l("h3",null,"홈으로",-1)),gl=D(()=>l("br",null,null,-1)),kl={__name:"DeleteClub",emits:["delete-club-close"],setup(_,{emit:V}){const B=W(),w=V,x=K(),T=B.params.clubId,r=i(!0),b=i(!1),s=()=>{try{x.deleteClub(T)&&(r.value=!1,b.value=!0)}catch{alert("그룹 삭제를 실패하였습니다.")}},c=()=>{b.value=!1,window.location.replace("/")},M=()=>{r.value=!1,w("delete-club-close")};return(p,N)=>{const g=o("v-card-text"),m=o("v-spacer"),S=o("v-btn"),P=o("v-card-actions"),k=o("v-card"),A=o("v-dialog");return a(),O(z,null,[t(A,{modelValue:r.value,"onUpdate:modelValue":N[0]||(N[0]=Q=>r.value=Q),"max-width":"400px","max-height":"600px","onClick:outside":M,persistent:""},{default:e(()=>[t(k,null,{default:e(()=>[t(g,{class:"mention"},{default:e(()=>[Jt,Kt,n(),Yt,n(" 당신은 "),Zt,n(" 아닙니까?"),el,n(" 그룹을 "),tl,n("내시겠습니까?"),ll,n(" 그러기 위해 당신 그룹의 리더가 되신겁니까?"),ol,nl,sl,n(" 순간의 선택이 그룹의 운명을 좌우합니다."),al,ul,cl,rl,il]),_:1}),t(P,{style:{transform:"translateX(-75px)"}},{default:e(()=>[t(m),t(S,{color:"red",onClick:s},{default:e(()=>[n("진행시켜")]),_:1}),t(S,{color:"green",onClick:M},{default:e(()=>[_l]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),t(A,{modelValue:b.value,"onUpdate:modelValue":N[1]||(N[1]=Q=>b.value=Q),"max-width":"500px",persistent:""},{default:e(()=>[t(k,null,{default:e(()=>[t(g,{class:"mention"},{default:e(()=>[dl,ml,vl,bl,fl,pl,hl]),_:1}),t(P,{style:{transform:"translateX(-210px)"}},{default:e(()=>[t(m),t(S,{color:"red",onClick:c},{default:e(()=>[xl]),_:1}),gl]),_:1})]),_:1})]),_:1},8,["modelValue"])],64)}}},Cl=Y(kl,[["__scopeId","data-v-b560303b"]]),yl=_=>(te("data-v-451a2c67"),_=_(),le(),_),Il={class:"title-container"},$l={class:"flex-item title"},Vl=yl(()=>l("h3",null,"그룹장 기능",-1)),wl={class:"flex-item icon"},Ml={__name:"ClubLeader",emits:["club-leader-close"],setup(_,{emit:V}){ue();const B=W(),w=V,x=K(),T=B.params.clubId,r=i(!0),b=i([]);q(()=>x.clubMemberList,I=>{b.value=I},{immediate:!0});const s=i(!1);function c(){s.value=!0}function M(){s.value=!1}const p=i(!1);function N(){p.value=!0}function g(){p.value=!1}const m=i(!1);function S(){m.value=!0}function P(){m.value=!1}const k=i(!1);function A(){k.value=!0}function Q(){k.value=!1}function y(){r.value=!1,w("club-leader-close")}return ee(()=>{x.getClubMemberList(T)}),(I,v)=>{const d=o("v-card-title"),$=o("v-icon"),C=o("v-btn"),U=o("v-img"),X=o("v-card-text"),f=o("v-card"),j=o("v-dialog");return a(),O(z,null,[t(j,{modelValue:r.value,"onUpdate:modelValue":v[0]||(v[0]=J=>r.value=J),"max-width":"400px","max-height":"1000px","onClick:outside":y,persistent:""},{default:e(()=>[t(f,null,{default:e(()=>[l("div",Il,[l("div",$l,[t(d,{class:"text-center"},{default:e(()=>[Vl]),_:1})]),l("div",wl,[t(C,{ripple:!1,onClick:y,class:"no-background-hover"},{default:e(()=>[t($,null,{default:e(()=>[n("mdi-close")]),_:1})]),_:1})])]),l("div",{class:"feature-container",onClick:c,hover:{hover:!0}},[t(U,{class:"img",src:"/change_club_name.png",alt:"그룹명 바꾸기"}),t(X,{class:"feature-text"},{default:e(()=>[n("그룹명 바꾸기")]),_:1})]),l("div",{class:"feature-container",onClick:N,hover:{hover:!0}},[t(U,{class:"img",src:"/exit_club.png",alt:"그룹 나가기"}),t(X,{class:"feature-text"},{default:e(()=>[n("그룹 나가기")]),_:1})]),l("div",{class:"feature-container",onClick:S,hover:{hover:!0}},[t(U,{class:"img",src:"/ban_club_member.png",alt:"그룹원 강퇴"}),t(X,{class:"feature-text"},{default:e(()=>[n("그룹원 강퇴")]),_:1})]),l("div",{class:"feature-container",onClick:A,hover:{hover:!0}},[t(U,{class:"img",src:"/building.png",alt:"그룹 없애기"}),t(X,{class:"feature-text"},{default:e(()=>[n("그룹 없애기")]),_:1})])]),_:1})]),_:1},8,["modelValue"]),s.value?(a(),h(Se,{key:0,onChangeClubNameClose:M})):E("",!0),p.value?(a(),h(xe,{key:1,"club-member-list":b.value,onQuitClubClose:g},null,8,["club-member-list"])):E("",!0),m.value?(a(),h(Gt,{key:2,"club-member-list":b.value,onBanMemberClose:P},null,8,["club-member-list"])):E("",!0),k.value?(a(),h(Cl,{key:3,onDeleteClubClose:Q})):E("",!0)],64)}}},Ll=Y(Ml,[["__scopeId","data-v-451a2c67"]]),Nl={class:"title-container"},Sl={class:"flex-item title"},Dl=l("h3",null,"그룹원 기능",-1),Bl={class:"flex-item icon"},Pl={__name:"ClubMember",emits:["club-member-close"],setup(_,{emit:V}){const B=W(),w=V,x=i(!0),T=B.params.clubId,r=K(),b=i([]);q(()=>r.clubMemberList,N=>{b.value=N},{immediate:!0});function s(){x.value=!1,w("club-member-close")}const c=i(!1);function M(){c.value=!0}function p(){c.value=!1}return ee(()=>{r.getClubMemberList(T)}),(N,g)=>{const m=o("v-card-title"),S=o("v-icon"),P=o("v-btn"),k=o("v-img"),A=o("v-card-text"),Q=o("v-card"),y=o("v-dialog");return a(),h(y,{modelValue:x.value,"onUpdate:modelValue":g[0]||(g[0]=I=>x.value=I),"max-width":"400px","max-height":"600px","onClick:outside":s,persistent:""},{default:e(()=>[t(Q,null,{default:e(()=>[l("div",Nl,[l("div",Sl,[t(m,{class:"text-center"},{default:e(()=>[Dl]),_:1})]),l("div",Bl,[t(P,{ripple:!1,onClick:s,class:"no-background-hover"},{default:e(()=>[t(S,null,{default:e(()=>[n("mdi-close")]),_:1})]),_:1})])]),l("div",{class:"feature-container",onClick:M,hover:{hover:!0}},[t(k,{class:"img",src:"/exit_club.png",alt:"그룹 나가기"}),t(A,{class:"feature-text"},{default:e(()=>[n("그룹 나가기")]),_:1})]),c.value?(a(),h(xe,{key:0,"club-member-list":b.value,onQuitClubClose:p},null,8,["club-member-list"])):E("",!0)]),_:1})]),_:1},8,["modelValue"])}}},Tl=_=>(te("data-v-e28a95ff"),_=_(),le(),_),Ul={class:"headline"},Al={class:"club-host-name"},Ql={style:{"padding-left":"50px","padding-right":"50px"}},Fl={key:0},Ol={key:1},Rl={key:2},jl=Tl(()=>l("p",null,"파티 페이지로 이동",-1)),El={class:"text-to-copy"},Xl={__name:"ClubMembersFunc",props:{clubInfo:Object,clubMemberList:Object},setup(_){const V=_,B=K(),w=Ie(),x=ue(),r=W().params.clubId,{getClubInfo:b}=B,s=i([]);b(r),q(()=>B.clubInfo,f=>{s.value=f},{immediate:!0,deep:!0});const c=ae(()=>V.clubMemberList),M=localStorage.getItem("id"),p=i(!1);function N(){p.value=!0}const g=ae(()=>B.clubInviteLink),m=i(!1);async function S(){if(console.log(V.clubMemberList.length),V.clubMemberList.length>=6){alert("그룹인원이 모두 찼습니다!");return}m.value=!0,await B.getClubInviteLink(r)}const P=async()=>{try{await navigator.clipboard.writeText(g.value),alert("초대 url이 복사되었습니다.")}catch(f){console.error("복사 실패 : ",f),alert("초대 url 복사에 실패했습니다.")}},k=i(!1),A=()=>{k.value=!0};function Q(){k.value=!1}const{getPartyInfo:y,postPartyInfo:I}=w,v=i(s.value.partyId),d=i(!1),$=i(y(r,v.value));q(()=>w.partyInfo,f=>{$.value=f,f&&Object.keys(f).length>0?(d.value=!0,v.value=f.partyId):d.value=!1},{immediate:!0,deep:!0}),q(()=>s.value,f=>{const j=f==null?void 0:f.partyId;j?(d.value=!0,v.value=j,y(r,j)):d.value=!1},{immediate:!0,deep:!0}),ee(()=>{s!=null&&s.value.partyId?(d.value=!0,v.value=s.value.partyId):d.value=!1});const C=async()=>{let f=Date.now(),j=100,J=2e3;const R=await b(r);if(R.partyId)v.value=R.partyId,d.value=!0;else{await I(r);const G=await b(r);v.value=G.partyId,d.value=!0}function Z(){let G=Date.now()-f;v.value?U(v.value):G>J?console.error("파티 ID 업데이트 대기 시간 초과"):(console.log("파티 ID 대기 중..."),setTimeout(Z,j))}Z()},U=async f=>{if(!f){console.error("partyId가 제공되지 않았습니다.");return}await y(r,f),x.push({name:"PartyView",params:{clubId:r,partyId:f}})},X=async()=>{console.log("버튼을 호버해 새 파티 정보를 가져옵니다.");const f=await b(r);f.partyId?(d.value=!0,v.value=f.partyId):(v.value=f.partyId,d.value=!1)};return(f,j)=>{const J=o("v-col"),R=o("v-icon"),Z=o("v-row"),G=o("v-btn"),ge=o("v-tooltip"),ce=o("v-card"),re=o("v-card-title"),ie=o("v-card-text"),_e=o("v-dialog");return a(),O(z,null,[t(ce,{class:"background",outlined:""},{default:e(()=>[t(Z,{class:"pa-4",align:"center",justify:"start","no-gutters":"",style:{"background-color":"#E0E0E0"}},{default:e(()=>[t(J,{cols:"10"},{default:e(()=>[l("div",Ul,"그룹명 - "+L(s.value.name),1),l("div",Al,"그룹장 - "+L(s.value.hostName),1),l("div",null,"정원 - "+L(s.value.currentParticipants)+"/"+L(s.value.maxParticipants),1)]),_:1}),t(J,{cols:"2"},{default:e(()=>[t(R,{large:"",onClick:A},{default:e(()=>[n("mdi-cog")]),_:1}),k.value&&s.value.hostId==se(M)?(a(),h(Ll,{key:0,onClubLeaderClose:Q})):E("",!0),k.value&&s.value.hostId!=se(M)?(a(),h(Pl,{key:1,onClubMemberClose:Q})):E("",!0)]),_:1})]),_:1}),t(G,{block:"",color:"#81689D",onClick:N},{default:e(()=>[n("그룹원 보기")]),_:1}),l("div",Ql,[t(G,{class:"invite-button",block:"",color:"#944E63",style:{"margin-top":"30px","margin-bottom":"30px",height:"100px"},onClick:S},{default:e(()=>[n("그룹으로 초대 ")]),_:1})]),t(G,ke(V,{onClick:C,block:"",class:[d.value?"enjoy-party":"create-party","mt-4 party-btn"],dark:"",style:{height:"100px"},onMouseenter:X}),{default:e(()=>[d.value?(a(),h(ge,{key:0,activator:"parent",location:"top"},{default:e(()=>{var H,ne,de,me,ve,be;return[l("p",null,"인원 : "+L($.value.currentParticipants)+" / "+L($.value.maxParticipants),1),l("p",null,L((H=$.value.fixtureInfo)==null?void 0:H.leagueName)+" "+L((ne=$.value.fixtureInfo)==null?void 0:ne.round),1),$.value.fixtureInfo?(a(),O("p",Fl,L((me=(de=$.value.fixtureInfo)==null?void 0:de.homeTeam)==null?void 0:me.name)+" vs "+L((be=(ve=$.value.fixtureInfo)==null?void 0:ve.awayTeam)==null?void 0:be.name),1)):E("",!0)]}),_:1})):E("",!0),d.value?(a(),O("div",Rl,[l("p",null,L($.value.title),1),jl])):(a(),O("div",Ol,"파티를 열어보세요!"))]),_:1},16,["class"])]),_:1}),t(_e,{modelValue:p.value,"onUpdate:modelValue":j[0]||(j[0]=H=>p.value=H),"max-width":"400px","max-height":"400px"},{default:e(()=>[t(ce,{class:"member-list"},{default:e(()=>[t(re,null,{default:e(()=>[n("그룹원 목록")]),_:1}),(a(!0),O(z,null,oe(c.value,(H,ne)=>(a(),O("div",{key:ne,class:"member"},[t(ie,{class:Ce({"host-name":H.role=="host"})},{default:e(()=>[n(L(H.memberNickName)+" ",1),H.role=="host"?(a(),h(R,{key:0,class:"star",color:"red"},{default:e(()=>[n("mdi-star")]),_:1})):E("",!0)]),_:2},1032,["class"])]))),128))]),_:1})]),_:1},8,["modelValue"]),t(_e,{modelValue:m.value,"onUpdate:modelValue":j[1]||(j[1]=H=>m.value=H),"max-width":"400px","max-height":"200px"},{default:e(()=>[t(ce,{class:"align-items-center"},{default:e(()=>[t(re,null,{default:e(()=>[n("초대 링크를 복사하세요!")]),_:1}),l("div",El,[t(ie,{class:"invite"},{default:e(()=>[n(" URL : "),l("b",null,[l("u",null,L(g.value),1)]),t(G,{onClick:P,class:"copy-btn"},{default:e(()=>[t(R,null,{default:e(()=>[n("mdi-content-copy")]),_:1})]),_:1})]),_:1})])]),_:1})]),_:1},8,["modelValue"])],64)}}},ql=Y(Xl,[["__scopeId","data-v-e28a95ff"]]),zl={__name:"BoardPreview",setup(_){const V=pe(),B=W();ue();const w=i(B.params.clubId);ee(()=>{V.getBoardList(w.value)});const x=i([]);q(()=>V.boardList,c=>{x.value=c}),q(()=>B.params.clubId,c=>{w.value=c,V.getBoardList(w.value)});const T=i(null),r=i(!1),b=c=>{T.value=c,r.value=!0},s=c=>{x.value=x.value.filter(M=>M.id!=c)};return(c,M)=>{const p=o("v-toolbar-title"),N=o("v-spacer"),g=o("v-icon"),m=o("v-btn"),S=o("RouterLink"),P=o("v-toolbar-items"),k=o("v-toolbar"),A=o("v-card-title"),Q=o("v-card-subtitle"),y=o("v-card-text"),I=o("v-img"),v=o("v-card"),d=o("v-col"),$=o("v-row"),C=o("v-container");return a(),h(C,null,{default:e(()=>[t(k,{flat:"",class:"preview-toolbar"},{default:e(()=>[t(p,{class:"group-title"},{default:e(()=>[n("그룹 게시판")]),_:1}),t(N),t(P,null,{default:e(()=>[t(S,{to:`/club/${w.value}/board`},{default:e(()=>[t(m,{icon:"",onClick:c.goToDetail},{default:e(()=>[t(g,{class:"plus-btn"},{default:e(()=>[n("mdi-plus")]),_:1})]),_:1},8,["onClick"])]),_:1},8,["to"])]),_:1})]),_:1}),t($,null,{default:e(()=>[(a(!0),O(z,null,oe(x.value.slice(0,6),(U,X)=>(a(),h(d,{cols:"12",sm:"6",md:"4",lg:"4",key:X},{default:e(()=>[r.value&&T.value.id===U.id?(a(),h($e,{key:0,post:T.value,onDetailClose:M[0]||(M[0]=f=>r.value=!1),onDeletePost:s},null,8,["post"])):E("",!0),t(v,{class:"thumbnail",onClick:f=>b(U)},{default:e(()=>[t(A,{class:"text-center"},{default:e(()=>[n(L(U.title),1)]),_:2},1024),t(Q,{class:"text-right"},{default:e(()=>[n(L(U.member.nickname),1)]),_:2},1024),t(y,{class:"text-right"},{default:e(()=>[n(L(se(he)(U.updatedTime)),1)]),_:2},1024),U.file?(a(),h(I,{key:0,class:"thumb_img",src:U.file.url,cover:"",height:"200px"},null,8,["src"])):E("",!0)]),_:2},1032,["onClick"])]),_:2},1024))),128))]),_:1})]),_:1})}}},to={__name:"ClubMain",props:{clubId:{type:String,required:!0}},setup(_){const V=W(),B=fe(),w=pe(),x=K(),T=i({}),r=i([]),b=s=>{B.getArchiveList(s),w.getBoardList(s),x.getClubInfo(s),x.getClubMemberList(s)};return q(()=>x.clubInfo,s=>{T.value=s},{immediate:!0,deep:!0}),q(()=>x.clubMemberList,s=>{r.value=s},{immediate:!0,deep:!0}),ee(()=>{b(V.params.clubId)}),q(()=>V.params.clubId,s=>{console.log("새로 바뀐 클럽 id! ->",s),b(s)}),(s,c)=>{const M=o("v-col"),p=o("v-row"),N=o("v-container");return a(),h(N,null,{default:e(()=>[t(p,{style:{padding:"15px"}},{default:e(()=>[t(M,{cols:"12",md:"8"},{default:e(()=>[t(we)]),_:1}),t(M,{cols:"12",md:"4"},{default:e(()=>[t(ql,{"club-info":T.value,"club-member-list":r.value},null,8,["club-info","club-member-list"])]),_:1})]),_:1}),t(zl)]),_:1})}}};export{to as default};
