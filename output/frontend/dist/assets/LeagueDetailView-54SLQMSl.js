import{r as _,u as G,a as H,w as S,c as F,b as l,o as r,d as v,e,f as t,g as c,t as g,h as u,n as J,i as M,j as O,k as Q}from"./index-w_VBQHr5.js";import{u as W}from"./follows-NqGTbhYa.js";const X=u("br",null,null,-1),Z=u("hr",null,null,-1),ee=u("br",null,null,-1),te={key:1},oe={__name:"LeagueTable",setup(R){const{doFollow:w,doUnFollow:f}=W(),y=_(localStorage.getItem("accessToken")!==null),p=G(),i=p.currentRoute.value.params.leagueId,d=H(),{getLeagueRanking:h,getLeagueList:T}=d;h(i);const k=_([]);S(()=>d.leagueRanking,n=>{k.value=n}),T();const x=_([]);S(()=>d.leagueList,n=>{x.value=n});const m=_(""),j=_([{title:"순위",value:"standing.rank",sortable:!0},{title:"로고",value:"logo"},{title:"팀 이름",value:"nameKr",sortable:!0},{title:"승점",value:"standing.points",sortable:!0},{title:"승",value:"standing.win",sortable:!0},{title:"패",value:"standing.lose",sortable:!0},{title:"무",value:"standing.draw",sortable:!0},{title:"득점",value:"standing.goalsFor",sortable:!0},{title:"실점",value:"standing.goalsAgainst",sortable:!0},{title:"득실차",value:"standing.goalDiff",sortable:!0},{title:"최근 전적",value:"standing.form"},{title:"팔로우",value:"following",sortable:!0}]),L=F(()=>x.value.find(a=>a.leagueId==i)||{nameKr:"Unknown League",logo:""}),D=F(()=>L.value.logo),K=n=>{let a=n[0];for(let s=1;s<n.length;s++)a+=" - "+n[s];return a},B=n=>{p.push(`/team/${n}`)},I=n=>{if(!y.value){alert("로그인이 필요한 서비스입니다.");return}const a=n.following;n.following?(console.log("언팔로우"),f(n.teamId)):(console.log("팔로우"),w(n.teamId)),n.following=!a};return(n,a)=>{const s=l("v-col"),C=l("v-img"),b=l("v-row"),N=l("v-spacer"),U=l("v-text-field"),z=l("v-card-title"),P=l("v-btn"),V=l("v-icon"),A=l("v-alert"),E=l("v-data-table"),Y=l("v-card"),q=l("v-container");return r(),v(q,{fluid:"",class:"pa-1 mt-3"},{default:e(()=>[t(b,{class:"pb-1 table-section"},{default:e(()=>[t(Y,{flat:"",class:"card-ranking"},{default:e(()=>[t(z,null,{default:e(()=>[t(b,{class:"my-1",align:"center",justify:"center",style:{"min-width":"800px"}},{default:e(()=>[t(s,{cols:"3"}),t(s,{cols:"3",align:"center"},{default:e(()=>[t(C,{src:D.value,class:"league-logo mr-2",contain:""},null,8,["src"])]),_:1}),t(s,{cols:"3",style:{fontSize:"1.5rem"}},{default:e(()=>[c(g(L.value.nameKr)+" Ranking ",1)]),_:1}),t(s,{cols:"3"})]),_:1}),t(N),t(b,{justify:"center"},{default:e(()=>[t(s,{cols:"6"},{default:e(()=>[t(U,{modelValue:m.value,"onUpdate:modelValue":a[0]||(a[0]=o=>m.value=o),"append-icon":"mdi-magnify",label:"Search","single-line":"","hide-details":"",style:{width:"600px"},align:"center"},null,8,["modelValue"])]),_:1})]),_:1}),X]),_:1}),k.value?(r(),v(E,{key:0,headers:j.value,items:k.value,search:m.value,"items-per-page":-1,class:"elevation-1","hide-default-footer":""},{"item.standing.rank":e(({item:o})=>[u("p",{class:J({"red-text":o.standing.rank<=3,"green-text":o.standing.rank>3&&o.standing.rank<=8})},g(o.standing.rank),3)]),"item.logo":e(({item:o})=>[t(C,{src:o.logo,class:"mr-2 team-logo",style:{width:"50px",height:"50px"},contain:"",onClick:$=>B(o.seasonLeagueTeamId)},null,8,["src","onClick"])]),"item.nameKr":e(({item:o})=>[t(P,{variant:"text",to:`/team/${o.seasonLeagueTeamId}`},{default:e(()=>[c(g(o.nameKr),1)]),_:2},1032,["to"])]),"item.standing.form":e(({item:o})=>[c(g(K(o.standing.form)),1)]),"item.following":e(({item:o})=>[o.following?(r(),v(V,{key:0,color:"pink",onClick:$=>I(o),class:"follow-icon"},{default:e(()=>[c("mdi-heart")]),_:2},1032,["onClick"])):(r(),v(V,{key:1,color:"grey",onClick:$=>I(o),class:"follow-icon"},{default:e(()=>[c("mdi-heart-outline")]),_:2},1032,["onClick"]))]),"no-results":e(()=>[t(A,{value:!0,color:"error",icon:"mdi-alert"},{default:e(()=>[c(' Your search for "'+g(m.value)+'" found no results. ',1)]),_:1})]),bottom:e(()=>[Z,ee]),_:1},8,["headers","items","search"])):(r(),M("h1",te,"데이터가 없습니다."))]),_:1})]),_:1})]),_:1})}}},ne=u("h1",null,"리그 랭킹",-1),le=u("br",null,null,-1),ce={__name:"LeagueDetailView",setup(R){const f=O().params.leagueId;return(y,p)=>{const i=l("v-row"),d=l("v-col"),h=l("v-container");return r(),v(h,{fluid:"",class:"pa-2 mt-3"},{default:e(()=>[t(i,{align:"center",justify:"center",class:"py-4 mb-1 title-section"},{default:e(()=>[ne]),_:1}),t(i,{justify:"center",class:"py-4 mx-12 mt-12 contents-section"},{default:e(()=>[t(d,{cols:"11"},{default:e(()=>[t(oe,{"league-id":Q(f)},null,8,["league-id"])]),_:1})]),_:1}),le]),_:1})}}};export{ce as default};
